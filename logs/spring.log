2019-05-06 07:35:34.309  WARN 14144 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1d18h44m2s208ms414Âµs309ns).
2019-05-06 08:48:17.264  INFO 10016 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 10016 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 08:48:17.266  INFO 10016 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 08:48:17.302  INFO 10016 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 08:48:17.304  INFO 10016 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 08:48:17.905  INFO 10016 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 08:48:17.955  INFO 10016 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 repository interfaces.
2019-05-06 08:48:18.174  INFO 10016 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9e7b6b08] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 08:48:18.207  INFO 10016 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$37293342] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 08:48:18.211  INFO 10016 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 08:48:18.211  INFO 10016 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7ed322bb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 08:48:18.213  INFO 10016 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$5bfdd5f4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 08:48:18.215  INFO 10016 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 08:48:18.549  INFO 10016 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 08:48:18.562  INFO 10016 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 08:48:18.563  INFO 10016 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 08:48:18.631  INFO 10016 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 08:48:18.632  INFO 10016 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1328 ms
2019-05-06 08:48:18.912  INFO 10016 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 08:48:18.964  INFO 10016 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 08:48:18.993  INFO 10016 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 08:48:19.024  INFO 10016 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 08:48:19.024  INFO 10016 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 08:48:19.091  INFO 10016 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 08:48:19.163  INFO 10016 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 08:48:19.631 DEBUG 10016 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 08:48:19.690 DEBUG 10016 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 08:48:19.723  INFO 10016 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 08:48:19.750  INFO 10016 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 08:48:20.044  WARN 10016 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'limitLoginAuthenticationProvider' defined in file [C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes\com\example\demojwt\security\LimitLoginAuthenticationProvider.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: A UserDetailsService must be set
2019-05-06 08:48:20.045  INFO 10016 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 08:48:20.046  INFO 10016 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-05-06 08:48:20.051  INFO 10016 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-05-06 08:48:20.053  INFO 10016 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-05-06 08:48:20.064  INFO 10016 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-05-06 08:48:20.087 ERROR 10016 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'limitLoginAuthenticationProvider' defined in file [C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes\com\example\demojwt\security\LimitLoginAuthenticationProvider.class]: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: A UserDetailsService must be set
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at com.example.demojwt.DemoJwtApplication.main(DemoJwtApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.lang.IllegalArgumentException: A UserDetailsService must be set
	at org.springframework.util.Assert.notNull(Assert.java:198)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.doAfterPropertiesSet(DaoAuthenticationProvider.java:100)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.afterPropertiesSet(AbstractUserDetailsAuthenticationProvider.java:123)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774)
	... 21 common frames omitted

2019-05-06 08:55:30.583  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 13744 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 08:55:30.585  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 08:55:30.627  INFO 13744 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 08:55:30.627  INFO 13744 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 08:55:31.398  INFO 13744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 08:55:31.465  INFO 13744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62ms. Found 6 repository interfaces.
2019-05-06 08:55:31.738  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$576e2a28] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 08:55:31.790  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f01bf262] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 08:55:31.795  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 08:55:31.796  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@42bb4f6e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 08:55:31.798  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$14f09514] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 08:55:31.799  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 08:55:32.201  INFO 13744 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 08:55:32.221  INFO 13744 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 08:55:32.221  INFO 13744 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 08:55:32.303  INFO 13744 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 08:55:32.303  INFO 13744 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1676 ms
2019-05-06 08:55:32.669  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 08:55:32.753  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 08:55:32.793  INFO 13744 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 08:55:32.830  INFO 13744 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 08:55:32.831  INFO 13744 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 08:55:32.917  INFO 13744 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 08:55:33.006  INFO 13744 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 08:55:33.487 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 08:55:33.533 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 08:55:33.611 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 08:55:33.614 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 08:55:33.616 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 08:55:33.618 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 08:55:33.684 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 08:55:33.733 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 08:55:33.793 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 08:55:33.831 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 08:55:33.906 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 08:55:33.955 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 08:55:34.021 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 08:55:34.070  INFO 13744 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 08:55:34.102  INFO 13744 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 08:55:35.108  INFO 13744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bb4842b, org.springframework.security.web.context.SecurityContextPersistenceFilter@38ac1099, org.springframework.security.web.header.HeaderWriterFilter@584105c7, org.springframework.security.web.authentication.logout.LogoutFilter@179cc1df, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@720e6c78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fdf3ee6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21672a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@563ad57f, org.springframework.security.web.session.SessionManagementFilter@5acd25ac, org.springframework.security.web.access.ExceptionTranslationFilter@5571af4b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a9632b1]
2019-05-06 08:55:35.116  INFO 13744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@189986d9, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4877130f, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ab687a4, org.springframework.security.web.header.HeaderWriterFilter@25f0eb82, org.springframework.security.web.authentication.logout.LogoutFilter@71bf7881, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@3cc6e455, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17faac46, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35f4f9c0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68d65b15, org.springframework.security.web.session.SessionManagementFilter@58820e7, org.springframework.security.web.access.ExceptionTranslationFilter@3d481f33, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e1bab4a]
2019-05-06 08:55:35.120  INFO 13744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@301893a8, org.springframework.security.web.context.SecurityContextPersistenceFilter@1573c417, org.springframework.security.web.header.HeaderWriterFilter@55162807, org.springframework.security.web.authentication.logout.LogoutFilter@4d8e82a8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@57a75aeb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@46d6a519, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7cadf7e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72f31b13, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16c1435a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@310277e, org.springframework.security.web.session.SessionManagementFilter@35a73a8, org.springframework.security.web.access.ExceptionTranslationFilter@7eb32a80, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2faa0d00]
2019-05-06 08:55:35.306  INFO 13744 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 08:55:35.360  WARN 13744 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 08:55:35.588  INFO 13744 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 08:55:35.733  INFO 13744 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 08:55:35.823 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 08:55:35.835 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 08:55:35.853 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 08:55:35.858 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 08:55:35.881 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 08:55:35.882 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 08:55:35.882 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 08:55:35.883 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 08:55:35.883 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 08:55:35.884 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 08:55:35.885 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 08:55:35.886 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 08:55:35.886 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 08:55:35.886 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 08:55:35.886 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 08:55:35.886 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 08:55:36.032 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 08:55:36.033 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 08:55:36.034 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 08:55:36.034 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 08:55:36.034 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 08:55:36.034 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 08:55:36.034 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$IgEl3EgSxdj2FaTaqypQE.2NrFrfXoFUiRg/UJP2D55KSc58NEBla]
2019-05-06 08:55:36.034 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 08:55:36.177 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 08:55:36.177 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 08:55:36.199 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 08:55:36.199 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 08:55:36.200 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 08:55:36.200 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 08:55:36.200 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 08:55:36.200 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 08:55:36.200 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$4SZBI3nzdnclif5ZTCBoh.SqTJm1stIrxjC9rGDHS5m5Vn1XX1ja6]
2019-05-06 08:55:36.200 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 08:55:36.200 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 08:55:36.200 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 08:55:36.200 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 08:55:36.201 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 08:55:36.201 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 08:55:36.205 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 08:55:36.205 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 08:55:36.205 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 08:55:36.231  INFO 13744 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 08:55:36.261  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 5.906 seconds (JVM running for 6.692)
2019-05-06 08:55:36.462  INFO 13744 --- [RMI TCP Connection(3)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 08:55:36.463  INFO 13744 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 08:55:36.470  INFO 13744 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2019-05-06 08:56:24.884 DEBUG 13744 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        applicatio0_.id as id1_0_,
        applicatio0_.accountNonExpired as accountN2_0_,
        applicatio0_.accountNonLocked as accountN3_0_,
        applicatio0_.credentialsNonExpired as credenti4_0_,
        applicatio0_.email as email5_0_,
        applicatio0_.enabled as enabled6_0_,
        applicatio0_.password as password7_0_,
        applicatio0_.username as username8_0_ 
    from
        ApplicationUser applicatio0_ 
    where
        applicatio0_.username=?
2019-05-06 08:56:24.884 TRACE 13744 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [john]
2019-05-06 08:56:25.026 DEBUG 13744 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        users_roles roles0_ 
    inner join
        Role role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2019-05-06 08:56:25.026 TRACE 13744 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 08:56:25.217  WARN 13744 --- [http-nio-8080-exec-1] o.s.s.o.provider.endpoint.TokenEndpoint  : Handling error: InvalidGrantException, Bad credentials
2019-05-06 08:56:25.309  WARN 13744 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [error="invalid_grant", error_description="Bad credentials"]
2019-05-06 08:57:13.031 DEBUG 13744 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        applicatio0_.id as id1_0_,
        applicatio0_.accountNonExpired as accountN2_0_,
        applicatio0_.accountNonLocked as accountN3_0_,
        applicatio0_.credentialsNonExpired as credenti4_0_,
        applicatio0_.email as email5_0_,
        applicatio0_.enabled as enabled6_0_,
        applicatio0_.password as password7_0_,
        applicatio0_.username as username8_0_ 
    from
        ApplicationUser applicatio0_ 
    where
        applicatio0_.username=?
2019-05-06 08:57:13.032 TRACE 13744 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [john]
2019-05-06 08:57:13.033 DEBUG 13744 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        users_roles roles0_ 
    inner join
        Role role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2019-05-06 08:57:13.033 TRACE 13744 --- [http-nio-8080-exec-10] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 08:57:13.172  WARN 13744 --- [http-nio-8080-exec-10] o.s.s.o.provider.endpoint.TokenEndpoint  : Handling error: InvalidGrantException, Bad credentials
2019-05-06 08:57:13.173  WARN 13744 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [error="invalid_grant", error_description="Bad credentials"]
2019-05-06 08:57:16.293 DEBUG 13744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        applicatio0_.id as id1_0_,
        applicatio0_.accountNonExpired as accountN2_0_,
        applicatio0_.accountNonLocked as accountN3_0_,
        applicatio0_.credentialsNonExpired as credenti4_0_,
        applicatio0_.email as email5_0_,
        applicatio0_.enabled as enabled6_0_,
        applicatio0_.password as password7_0_,
        applicatio0_.username as username8_0_ 
    from
        ApplicationUser applicatio0_ 
    where
        applicatio0_.username=?
2019-05-06 08:57:16.293 TRACE 13744 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [john]
2019-05-06 08:57:16.294 DEBUG 13744 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        users_roles roles0_ 
    inner join
        Role role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2019-05-06 08:57:16.295 TRACE 13744 --- [http-nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 08:57:16.432  WARN 13744 --- [http-nio-8080-exec-6] o.s.s.o.provider.endpoint.TokenEndpoint  : Handling error: InvalidGrantException, Bad credentials
2019-05-06 08:57:16.433  WARN 13744 --- [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [error="invalid_grant", error_description="Bad credentials"]
2019-05-06 08:57:17.325 DEBUG 13744 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        applicatio0_.id as id1_0_,
        applicatio0_.accountNonExpired as accountN2_0_,
        applicatio0_.accountNonLocked as accountN3_0_,
        applicatio0_.credentialsNonExpired as credenti4_0_,
        applicatio0_.email as email5_0_,
        applicatio0_.enabled as enabled6_0_,
        applicatio0_.password as password7_0_,
        applicatio0_.username as username8_0_ 
    from
        ApplicationUser applicatio0_ 
    where
        applicatio0_.username=?
2019-05-06 08:57:17.326 TRACE 13744 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [john]
2019-05-06 08:57:17.327 DEBUG 13744 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        users_roles roles0_ 
    inner join
        Role role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2019-05-06 08:57:17.327 TRACE 13744 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 08:57:17.462  WARN 13744 --- [http-nio-8080-exec-9] o.s.s.o.provider.endpoint.TokenEndpoint  : Handling error: InvalidGrantException, Bad credentials
2019-05-06 08:57:17.464  WARN 13744 --- [http-nio-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [error="invalid_grant", error_description="Bad credentials"]
2019-05-06 08:57:18.347 DEBUG 13744 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        applicatio0_.id as id1_0_,
        applicatio0_.accountNonExpired as accountN2_0_,
        applicatio0_.accountNonLocked as accountN3_0_,
        applicatio0_.credentialsNonExpired as credenti4_0_,
        applicatio0_.email as email5_0_,
        applicatio0_.enabled as enabled6_0_,
        applicatio0_.password as password7_0_,
        applicatio0_.username as username8_0_ 
    from
        ApplicationUser applicatio0_ 
    where
        applicatio0_.username=?
2019-05-06 08:57:18.349 TRACE 13744 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [john]
2019-05-06 08:57:18.350 DEBUG 13744 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        users_roles roles0_ 
    inner join
        Role role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2019-05-06 08:57:18.351 TRACE 13744 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 08:57:18.487  WARN 13744 --- [http-nio-8080-exec-2] o.s.s.o.provider.endpoint.TokenEndpoint  : Handling error: InvalidGrantException, Bad credentials
2019-05-06 08:57:18.488  WARN 13744 --- [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [error="invalid_grant", error_description="Bad credentials"]
2019-05-06 09:02:27.619 DEBUG 13744 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        applicatio0_.id as id1_0_,
        applicatio0_.accountNonExpired as accountN2_0_,
        applicatio0_.accountNonLocked as accountN3_0_,
        applicatio0_.credentialsNonExpired as credenti4_0_,
        applicatio0_.email as email5_0_,
        applicatio0_.enabled as enabled6_0_,
        applicatio0_.password as password7_0_,
        applicatio0_.username as username8_0_ 
    from
        ApplicationUser applicatio0_ 
    where
        applicatio0_.username=?
2019-05-06 09:02:27.620 TRACE 13744 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [john]
2019-05-06 09:02:27.620 DEBUG 13744 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        users_roles roles0_ 
    inner join
        Role role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2019-05-06 09:02:27.620 TRACE 13744 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 09:02:27.756  WARN 13744 --- [http-nio-8080-exec-1] o.s.s.o.provider.endpoint.TokenEndpoint  : Handling error: InvalidGrantException, Bad credentials
2019-05-06 09:02:27.758  WARN 13744 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [error="invalid_grant", error_description="Bad credentials"]
2019-05-06 09:36:26.131  INFO 13744 --- [Thread-4] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-06 09:36:26.135  INFO 13744 --- [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:36:26.144  INFO 13744 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-05-06 09:36:26.151  INFO 13744 --- [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-05-06 09:36:26.415  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 13744 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:36:26.415  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:36:26.743  INFO 13744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:36:26.768  INFO 13744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24ms. Found 6 repository interfaces.
2019-05-06 09:36:26.830  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$576e2a28] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:36:26.832  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f01bf262] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:36:26.833  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:36:26.834  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@55a01aab' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:36:26.836  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$14f09514] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:36:26.836  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:36:26.939  INFO 13744 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 09:36:26.942  INFO 13744 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:36:26.942  INFO 13744 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:36:26.961  INFO 13744 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 09:36:26.961  INFO 13744 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 544 ms
2019-05-06 09:36:27.138  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2019-05-06 09:36:27.144  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2019-05-06 09:36:27.157  INFO 13744 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:36:27.171  INFO 13744 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:36:27.248 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:36:27.330 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 09:36:27.424 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:36:27.426 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:36:27.426 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:36:27.427 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 09:36:27.571 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:36:27.676 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 09:36:27.790 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:36:27.996 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:36:28.188 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 09:36:28.366 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 09:36:28.689 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 09:36:28.921  INFO 13744 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:36:28.942  INFO 13744 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 09:36:29.000  WARN 13744 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationUserController': Unsatisfied dependency expressed through field 'userService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationUserService': Unsatisfied dependency expressed through field 'bCryptPasswordEncoder'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration' defined in file [C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes\com\example\demojwt\security\SecurityConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.example.demojwt.security.SecurityConfiguration] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4748d380]
2019-05-06 09:36:29.000  INFO 13744 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:36:29.001  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2019-05-06 09:36:29.005  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2019-05-06 09:36:29.006  INFO 13744 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-05-06 09:36:29.018  INFO 13744 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-05-06 09:36:29.025 ERROR 13744 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationUserController': Unsatisfied dependency expressed through field 'userService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationUserService': Unsatisfied dependency expressed through field 'bCryptPasswordEncoder'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration' defined in file [C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes\com\example\demojwt\security\SecurityConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.example.demojwt.security.SecurityConfiguration] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4748d380]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at com.example.demojwt.DemoJwtApplication.main(DemoJwtApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationUserService': Unsatisfied dependency expressed through field 'bCryptPasswordEncoder'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration' defined in file [C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes\com\example\demojwt\security\SecurityConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.example.demojwt.security.SecurityConfiguration] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4748d380]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration' defined in file [C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes\com\example\demojwt\security\SecurityConfiguration.class]: Post-processing of merged bean definition failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.example.demojwt.security.SecurityConfiguration] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4748d380]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:570)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:392)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593)
	... 37 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.example.demojwt.security.SecurityConfiguration] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@4748d380]
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:768)
	at org.springframework.util.ReflectionUtils.doWithLocalFields(ReflectionUtils.java:700)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:422)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:406)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:333)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1077)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:567)
	... 55 common frames omitted
Caused by: java.lang.NoClassDefFoundError: Lcom/example/demojwt/security/UserDetailsServiceImpl;
	at java.base/java.lang.Class.getDeclaredFields0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3062)
	at java.base/java.lang.Class.getDeclaredFields(Class.java:2249)
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:763)
	... 61 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.example.demojwt.security.UserDetailsServiceImpl
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:148)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
	... 65 common frames omitted

2019-05-06 09:36:33.204  INFO 13580 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 13580 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:36:33.206  INFO 13580 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:36:33.237  INFO 13580 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 09:36:33.238  INFO 13580 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 09:36:33.907  INFO 13580 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:36:33.959  INFO 13580 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48ms. Found 6 repository interfaces.
2019-05-06 09:36:34.223  INFO 13580 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cb73dd49] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:36:34.244  INFO 13580 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$6421a583] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:36:34.248  INFO 13580 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:36:34.249  INFO 13580 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3a78cbd5' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:36:34.251  INFO 13580 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$88f64835] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:36:34.253  INFO 13580 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:36:34.568  INFO 13580 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 09:36:34.582  INFO 13580 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:36:34.583  INFO 13580 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:36:34.656  INFO 13580 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 09:36:34.657  INFO 13580 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1419 ms
2019-05-06 09:36:34.957  INFO 13580 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 09:36:35.014  INFO 13580 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 09:36:35.046  INFO 13580 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:36:35.079  INFO 13580 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 09:36:35.080  INFO 13580 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 09:36:35.151  INFO 13580 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 09:36:35.231  INFO 13580 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:36:35.698 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 09:36:35.966 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 09:36:36.102  INFO 13580 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:36:36.152  WARN 13580 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2019-05-06 09:36:36.877  INFO 13580 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a6db8b8, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ef4964e, org.springframework.security.web.header.HeaderWriterFilter@17a273d5, org.springframework.security.web.authentication.logout.LogoutFilter@1d73c2e8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@ffa58, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45e7282, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@757a67e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d0d7c21, org.springframework.security.web.session.SessionManagementFilter@2b11578c, org.springframework.security.web.access.ExceptionTranslationFilter@67b9bf7d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@712e9127]
2019-05-06 09:36:36.882  INFO 13580 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@5ff48a7d, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29fbb4b4, org.springframework.security.web.context.SecurityContextPersistenceFilter@672f7ba9, org.springframework.security.web.header.HeaderWriterFilter@2c841228, org.springframework.security.web.authentication.logout.LogoutFilter@6d0abf71, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@2776351e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1fee3e54, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13f77ad3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@418b9046, org.springframework.security.web.session.SessionManagementFilter@42a78498, org.springframework.security.web.access.ExceptionTranslationFilter@2d3aa078, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f2ff3a7]
2019-05-06 09:36:36.886  INFO 13580 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ff6ad6c, org.springframework.security.web.context.SecurityContextPersistenceFilter@9d8dfb2, org.springframework.security.web.header.HeaderWriterFilter@7b87290a, org.springframework.security.web.authentication.logout.LogoutFilter@561e6922, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@607caf67, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@19f400e1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@54089838, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cba9173, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1eb72c97, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7053dcea, org.springframework.security.web.session.SessionManagementFilter@76de235b, org.springframework.security.web.access.ExceptionTranslationFilter@4e736882, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f4b172]
2019-05-06 09:36:37.003  INFO 13580 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 09:36:37.032  WARN 13580 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 09:36:37.185  INFO 13580 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 09:36:37.262  INFO 13580 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 09:36:37.304 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:36:37.311 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:36:37.323 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:36:37.324 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:36:37.335 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 09:36:37.336 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:36:37.336 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:36:37.337 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:36:37.337 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:36:37.338 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:36:37.339 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:36:37.340 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 09:36:37.340 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:36:37.340 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 09:36:37.341 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:36:37.341 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:36:37.484 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:36:37.485 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 09:36:37.485 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 09:36:37.485 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 09:36:37.485 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 09:36:37.485 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 09:36:37.485 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$HBNy5EIdQrQDhwy3DaUgCeLLGd9YJvjJD9OAhRYEseLvY8z9OKqey]
2019-05-06 09:36:37.485 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 09:36:37.623 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:36:37.623 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:36:37.625 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:36:37.626 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 09:36:37.626 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 09:36:37.626 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:36:37.627 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 09:36:37.627 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 09:36:37.627 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$spb47SDY9JQ74kHNHZkjduFMavogfvWnmtmJ7AA/lKVJouQjTWJvy]
2019-05-06 09:36:37.627 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 09:36:37.627 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 09:36:37.627 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 09:36:37.627 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 09:36:37.627 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 09:36:37.627 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 09:36:37.630 DEBUG 13580 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 09:36:37.630 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 09:36:37.630 TRACE 13580 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:36:37.645  INFO 13580 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 09:36:37.648  INFO 13580 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.638 seconds (JVM running for 5.26)
2019-05-06 09:36:38.171  INFO 13580 --- [RMI TCP Connection(2)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 09:36:38.172  INFO 13580 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 09:36:38.178  INFO 13580 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 09:36:47.366  INFO 13580 --- [http-nio-8080-exec-4] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 09:36:47.397 DEBUG 13580 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : 
    select
        userattemp0_.id as id1_5_,
        userattemp0_.attempts as attempts2_5_,
        userattemp0_.lastModified as lastModi3_5_,
        userattemp0_.username as username4_5_ 
    from
        UserAttempts userattemp0_ 
    where
        userattemp0_.username=?
2019-05-06 09:36:47.397 TRACE 13580 --- [http-nio-8080-exec-4] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [tracom]
2019-05-06 09:40:39.522  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 13744 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:40:39.522  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:40:39.756  INFO 4740 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 4740 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:40:39.756  INFO 4740 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:40:39.803  INFO 4740 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 09:40:39.803  INFO 4740 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 09:40:39.819  INFO 13744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:40:39.850  INFO 13744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31ms. Found 6 repository interfaces.
2019-05-06 09:40:39.928  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$576e2a28] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:40:39.928  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f01bf262] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:40:39.928  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:40:39.928  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@12816a8b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:40:39.928  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$14f09514] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:40:39.928  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:40:40.022  INFO 13744 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 09:40:40.022  INFO 13744 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:40:40.022  INFO 13744 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:40:40.054  INFO 13744 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2019-05-06 09:40:40.054  INFO 13744 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 532 ms
2019-05-06 09:40:40.205  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2019-05-06 09:40:40.210  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2019-05-06 09:40:40.219  INFO 13744 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:40:40.230  INFO 13744 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:40:40.277 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:40:40.326 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 09:40:40.372 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:40:40.373 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:40:40.373 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:40:40.374 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 09:40:40.399 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:40:40.430 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 09:40:40.430  INFO 4740 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:40:40.461 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:40:40.494 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:40:40.495  INFO 4740 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50ms. Found 6 repository interfaces.
2019-05-06 09:40:40.522 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 09:40:40.538 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 09:40:40.585 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 09:40:40.647  INFO 13744 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:40:40.663  INFO 13744 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 09:40:40.725  INFO 4740 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$885171a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:40:40.756  INFO 4740 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$20ff39df] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:40:40.756  INFO 4740 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:40:40.756  INFO 4740 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@205f4b81' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:40:40.756  INFO 4740 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$45d3dc91] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:40:40.756  INFO 4740 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:40:41.001  INFO 13744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7dc00d35, org.springframework.security.web.context.SecurityContextPersistenceFilter@758d7b55, org.springframework.security.web.header.HeaderWriterFilter@295257f5, org.springframework.security.web.authentication.logout.LogoutFilter@71e26b63, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2b1e3032, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@371c4b69, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c4a4f80, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37765a4c, org.springframework.security.web.session.SessionManagementFilter@5055a01a, org.springframework.security.web.access.ExceptionTranslationFilter@1387d70, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@419369e8]
2019-05-06 09:40:41.005  INFO 13744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@13b5f58, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1caf2bf2, org.springframework.security.web.context.SecurityContextPersistenceFilter@e77ab95, org.springframework.security.web.header.HeaderWriterFilter@7ac9bb0b, org.springframework.security.web.authentication.logout.LogoutFilter@3afe75f8, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@131a7d40, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@afb9719, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d5d64ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72885e3c, org.springframework.security.web.session.SessionManagementFilter@35765a5f, org.springframework.security.web.access.ExceptionTranslationFilter@3ce70df7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@410bda44]
2019-05-06 09:40:41.006  INFO 13744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3dafe04d, org.springframework.security.web.context.SecurityContextPersistenceFilter@59efa640, org.springframework.security.web.header.HeaderWriterFilter@32703933, org.springframework.security.web.authentication.logout.LogoutFilter@7578e559, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@eaac29, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5101949f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@310ba558, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@330fa6bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a84f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38a78061, org.springframework.security.web.session.SessionManagementFilter@1458a1b9, org.springframework.security.web.access.ExceptionTranslationFilter@6a001150, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2695f61e]
2019-05-06 09:40:41.070  INFO 13744 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 09:40:41.079  WARN 13744 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 09:40:41.087  INFO 4740 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 09:40:41.100  INFO 4740 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:40:41.100  INFO 4740 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:40:41.162  INFO 4740 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 09:40:41.162  INFO 4740 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1359 ms
2019-05-06 09:40:41.162  INFO 13744 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 09:40:41.209  INFO 13744 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 09:40:41.225 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:40:41.225 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:40:41.225 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:40:41.225 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:40:41.225 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 09:40:41.225 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:40:41.225 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:40:41.225 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:40:41.225 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:40:41.225 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:40:41.225 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:40:41.225 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 09:40:41.225 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:40:41.225 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 09:40:41.225 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:40:41.225 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:40:41.365 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:40:41.365 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 09:40:41.365 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 09:40:41.365 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 09:40:41.365 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 09:40:41.365 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 09:40:41.365 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$3BYoa4igtNyPCPEHH2ynYeh29SR5sHauX78k28OyhVKV9qSky5bQW]
2019-05-06 09:40:41.365 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 09:40:41.443  INFO 4740 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 09:40:41.506  INFO 4740 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 09:40:41.506 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:40:41.506 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:40:41.506 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$SqL7GqDtwDm30Gr8eDRKJe3nW9ZLhpimHr6HFHDLsIqMWfUfSyp8C]
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 09:40:41.522 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 09:40:41.522 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:40:41.522  INFO 13744 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 09:40:41.522  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 2.016 seconds (JVM running for 2718.188)
2019-05-06 09:40:41.522  INFO 13744 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-05-06 09:40:41.537  INFO 4740 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:40:41.569  INFO 4740 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 09:40:41.569  INFO 4740 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 09:40:41.631  INFO 4740 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 09:40:41.694  INFO 4740 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:40:42.109 DEBUG 4740 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 09:40:42.142 DEBUG 4740 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 09:40:42.210  INFO 4740 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:40:42.241  WARN 4740 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2019-05-06 09:40:42.911  INFO 4740 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77687bdb, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b478b50, org.springframework.security.web.header.HeaderWriterFilter@34eeaa, org.springframework.security.web.authentication.logout.LogoutFilter@51447079, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@225fb87d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2de67c4c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c9f6c00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a9a60d5, org.springframework.security.web.session.SessionManagementFilter@6b06f2c4, org.springframework.security.web.access.ExceptionTranslationFilter@7d00703d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e13b57c]
2019-05-06 09:40:42.911  INFO 4740 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@773546e9, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ec9f970, org.springframework.security.web.context.SecurityContextPersistenceFilter@5553387b, org.springframework.security.web.header.HeaderWriterFilter@6ecfe246, org.springframework.security.web.authentication.logout.LogoutFilter@5008b478, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@3b62d524, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@373c4826, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26705155, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ecd4b19, org.springframework.security.web.session.SessionManagementFilter@42768f0c, org.springframework.security.web.access.ExceptionTranslationFilter@6d31e790, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62e11d57]
2019-05-06 09:40:42.927  INFO 4740 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55bbf194, org.springframework.security.web.context.SecurityContextPersistenceFilter@369cb949, org.springframework.security.web.header.HeaderWriterFilter@35476708, org.springframework.security.web.authentication.logout.LogoutFilter@7df3421c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3e68fb56, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2ef6e07a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7bc4a2ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a470b81, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@343654e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8bc90e2, org.springframework.security.web.session.SessionManagementFilter@5519f872, org.springframework.security.web.access.ExceptionTranslationFilter@49c8b3e8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2afb3e01]
2019-05-06 09:40:43.020  INFO 4740 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 09:40:43.053  WARN 4740 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 09:40:43.192  INFO 4740 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 09:40:43.255  INFO 4740 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 09:40:43.302 DEBUG 4740 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:40:43.302 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:40:43.348 DEBUG 4740 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:40:43.348 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:40:43.348 DEBUG 4740 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:40:43.348 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:40:43.503 DEBUG 4740 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:40:43.504 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 09:40:43.504 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 09:40:43.504 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 09:40:43.504 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 09:40:43.504 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 09:40:43.504 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$eVtofZtbUQQdcxpMd6m6F.55LpcWHTrYbL7x6lMSHATukAJnXlKny]
2019-05-06 09:40:43.505 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 09:40:43.630 DEBUG 4740 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:40:43.630 DEBUG 4740 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:40:43.645 DEBUG 4740 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$G2JJDi6W3CY40E//Id3do.YyGgkx3dkc8JFgd1R82m.5Tso/Cfbji]
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [4]
2019-05-06 09:40:43.645 DEBUG 4740 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2]
2019-05-06 09:40:43.645 TRACE 4740 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:40:43.661 ERROR 4740 --- [restartedMain] org.apache.catalina.util.LifecycleBase   : Failed to start component [Connector[HTTP/1.1-8080]]

org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:226)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:259)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:311)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at com.example.demojwt.DemoJwtApplication.main(DemoJwtApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:461)
	at java.base/sun.nio.ch.Net.bind(Net.java:453)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)
	at java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:80)
	at org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:236)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1103)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1189)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:568)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005)
	... 19 common frames omitted

2019-05-06 09:40:43.661  INFO 4740 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-05-06 09:40:43.661  INFO 4740 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-05-06 09:40:43.661 ERROR 4740 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 8080 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 8080, or configure this application to listen on another port.

2019-05-06 09:40:43.661  INFO 4740 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-06 09:40:43.661  INFO 4740 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:40:43.661  INFO 4740 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-05-06 09:40:43.677  INFO 4740 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-05-06 09:41:58.314  INFO 9324 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 9324 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:41:58.330  INFO 9324 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:41:58.345  INFO 9324 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 09:41:58.361  INFO 9324 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 09:41:58.926  INFO 9324 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:41:58.972  INFO 9324 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42ms. Found 6 repository interfaces.
2019-05-06 09:41:59.223  INFO 9324 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ce1b36a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:41:59.239  INFO 9324 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$66c8fedf] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:41:59.239  INFO 9324 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:41:59.239  INFO 9324 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@63248337' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:41:59.239  INFO 9324 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$8b9da191] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:41:59.254  INFO 9324 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:41:59.565  INFO 9324 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 09:41:59.581  INFO 9324 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:41:59.581  INFO 9324 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:41:59.659  INFO 9324 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 09:41:59.659  INFO 9324 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1298 ms
2019-05-06 09:41:59.988  INFO 9324 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 09:42:00.050  INFO 9324 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 09:42:00.081  INFO 9324 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:42:00.114  INFO 9324 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 09:42:00.115  INFO 9324 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 09:42:00.179  INFO 9324 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 09:42:00.257  INFO 9324 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:42:00.643 DEBUG 9324 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 09:42:00.768 DEBUG 9324 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 09:42:00.893  INFO 9324 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:42:00.927  WARN 9324 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2019-05-06 09:42:01.628  INFO 9324 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@565ad8cf, org.springframework.security.web.context.SecurityContextPersistenceFilter@282f9f17, org.springframework.security.web.header.HeaderWriterFilter@2c8cb28a, org.springframework.security.web.authentication.logout.LogoutFilter@5a685cd4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@473a79fa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d529c59, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@170b5706, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@773f390a, org.springframework.security.web.session.SessionManagementFilter@54e0b916, org.springframework.security.web.access.ExceptionTranslationFilter@4c33aa8b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@541efb4f]
2019-05-06 09:42:01.628  INFO 9324 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@21bf03ee, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76b1c166, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e1a117f, org.springframework.security.web.header.HeaderWriterFilter@1338e791, org.springframework.security.web.authentication.logout.LogoutFilter@4979c2c6, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@34466b4b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55c95139, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@199307e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f8a7cea, org.springframework.security.web.session.SessionManagementFilter@3e3ed2d1, org.springframework.security.web.access.ExceptionTranslationFilter@5ac22b5e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@287f1968]
2019-05-06 09:42:01.644  INFO 9324 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bff3e3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@694118b2, org.springframework.security.web.header.HeaderWriterFilter@63529a8e, org.springframework.security.web.authentication.logout.LogoutFilter@1204b44a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@d026f7e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7361a61c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@302b0df5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11a2ac6b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6653c23b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e8f2852, org.springframework.security.web.session.SessionManagementFilter@635edf22, org.springframework.security.web.access.ExceptionTranslationFilter@3549aa43, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d82611b]
2019-05-06 09:42:01.753  INFO 9324 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 09:42:01.769  WARN 9324 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 09:42:01.909  INFO 9324 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 09:42:01.986  INFO 9324 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 09:42:02.033 DEBUG 9324 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:42:02.039 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:42:02.055 DEBUG 9324 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:42:02.055 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:42:02.056 DEBUG 9324 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:42:02.056 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:42:02.201 DEBUG 9324 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:42:02.202 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 09:42:02.202 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 09:42:02.202 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 09:42:02.202 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 09:42:02.203 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 09:42:02.203 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$pMqddXVGGcdESVRVJT20deOfbTBi.VJYZ.6XMCEqEmBmusgzDG2ny]
2019-05-06 09:42:02.203 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 09:42:02.342 DEBUG 9324 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:42:02.342 DEBUG 9324 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:42:02.342 DEBUG 9324 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$U916h.vfq3sha1f1TW/VOu0jzJs3VQXVq0DgDkQd/gli9CMyLEf3m]
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [5]
2019-05-06 09:42:02.342 DEBUG 9324 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [3]
2019-05-06 09:42:02.342 TRACE 9324 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:42:02.358 ERROR 9324 --- [restartedMain] org.apache.catalina.util.LifecycleBase   : Failed to start component [Connector[HTTP/1.1-8080]]

org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:226)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:259)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:311)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at com.example.demojwt.DemoJwtApplication.main(DemoJwtApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:461)
	at java.base/sun.nio.ch.Net.bind(Net.java:453)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)
	at java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:80)
	at org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:236)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1103)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1189)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:568)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005)
	... 19 common frames omitted

2019-05-06 09:42:02.358  INFO 9324 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-05-06 09:42:02.358  INFO 9324 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-05-06 09:42:02.358 ERROR 9324 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 8080 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 8080, or configure this application to listen on another port.

2019-05-06 09:42:02.373  INFO 9324 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-06 09:42:02.373  INFO 9324 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:42:02.373  INFO 9324 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-05-06 09:42:02.373  INFO 9324 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-05-06 09:42:49.731  INFO 15408 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 15408 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:42:49.731  INFO 15408 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:42:49.778  INFO 15408 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 09:42:49.778  INFO 15408 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 09:42:50.408  INFO 15408 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:42:50.457  INFO 15408 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 repository interfaces.
2019-05-06 09:42:50.673  INFO 15408 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8868b6f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:42:50.705  INFO 15408 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$21167f31] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:42:50.705  INFO 15408 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:42:50.705  INFO 15408 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2652b6e9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:42:50.720  INFO 15408 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$45eb21e3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:42:50.721  INFO 15408 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:42:51.029  INFO 15408 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 09:42:51.042  INFO 15408 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:42:51.042  INFO 15408 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:42:51.110  INFO 15408 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 09:42:51.111  INFO 15408 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1333 ms
2019-05-06 09:42:51.383  INFO 15408 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 09:42:51.430  INFO 15408 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 09:42:51.449  INFO 15408 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:42:51.481  INFO 15408 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 09:42:51.481  INFO 15408 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 09:42:51.553  INFO 15408 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 09:42:51.635  INFO 15408 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:42:52.079 DEBUG 15408 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 09:42:52.109 DEBUG 15408 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 09:42:52.199  INFO 15408 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:42:52.232  WARN 15408 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2019-05-06 09:42:52.941  INFO 15408 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e515b20, org.springframework.security.web.context.SecurityContextPersistenceFilter@684a0f89, org.springframework.security.web.header.HeaderWriterFilter@35fe1572, org.springframework.security.web.authentication.logout.LogoutFilter@5f5d48fa, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@32faceff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@713922ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@590cf583, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f31d6c6, org.springframework.security.web.session.SessionManagementFilter@d89e614, org.springframework.security.web.access.ExceptionTranslationFilter@7260e301, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@32aabc1d]
2019-05-06 09:42:52.946  INFO 15408 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@51d5f563, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@272ea267, org.springframework.security.web.context.SecurityContextPersistenceFilter@627539d9, org.springframework.security.web.header.HeaderWriterFilter@655314a2, org.springframework.security.web.authentication.logout.LogoutFilter@60915161, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@693e3cab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@242fdfd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59a429f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@113cb4de, org.springframework.security.web.session.SessionManagementFilter@2c32a7db, org.springframework.security.web.access.ExceptionTranslationFilter@2d6d7e23, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22ada2a6]
2019-05-06 09:42:52.948  INFO 15408 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@730cc9a1, org.springframework.security.web.context.SecurityContextPersistenceFilter@5322e128, org.springframework.security.web.header.HeaderWriterFilter@2bbad225, org.springframework.security.web.authentication.logout.LogoutFilter@3ab5a496, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@38081493, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7e5a31d4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1bdf9743, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f14b4cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42c262f6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51e3476b, org.springframework.security.web.session.SessionManagementFilter@7e984795, org.springframework.security.web.access.ExceptionTranslationFilter@7cf20512, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65985e6]
2019-05-06 09:42:53.059  INFO 15408 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 09:42:53.079  WARN 15408 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 09:42:53.225  INFO 15408 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 09:42:53.298  INFO 15408 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 09:42:53.337 DEBUG 15408 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:42:53.341 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:42:53.357 DEBUG 15408 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:42:53.357 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:42:53.357 DEBUG 15408 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:42:53.357 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:42:53.495 DEBUG 15408 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:42:53.495 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 09:42:53.495 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 09:42:53.495 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 09:42:53.495 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 09:42:53.495 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 09:42:53.495 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$V/EqSQcIeZrXyIxVmyH5VOF2.mIRlNQA6tEHlofnOWb3vCSdxB3ES]
2019-05-06 09:42:53.495 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 09:42:53.635 DEBUG 15408 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:42:53.635 DEBUG 15408 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:42:53.635 DEBUG 15408 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:42:53.635 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 09:42:53.635 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 09:42:53.635 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:42:53.635 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 09:42:53.635 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 09:42:53.635 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$wL9kg84sx.MZ7MlZuyqj5uHEdbSLnuKA4XJxbv.x9CbXSrx2eWfJS]
2019-05-06 09:42:53.635 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 09:42:53.635 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 09:42:53.635 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 09:42:53.635 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 09:42:53.635 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 09:42:53.635 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [6]
2019-05-06 09:42:53.651 DEBUG 15408 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 09:42:53.651 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [4]
2019-05-06 09:42:53.651 TRACE 15408 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:42:53.651 ERROR 15408 --- [restartedMain] org.apache.catalina.util.LifecycleBase   : Failed to start component [Connector[HTTP/1.1-8080]]

org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:226)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:259)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:311)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at com.example.demojwt.DemoJwtApplication.main(DemoJwtApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:461)
	at java.base/sun.nio.ch.Net.bind(Net.java:453)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)
	at java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:80)
	at org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:236)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1103)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1189)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:568)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005)
	... 19 common frames omitted

2019-05-06 09:42:53.651  INFO 15408 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-05-06 09:42:53.667  INFO 15408 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-05-06 09:42:53.667 ERROR 15408 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 8080 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 8080, or configure this application to listen on another port.

2019-05-06 09:42:53.667  INFO 15408 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-06 09:42:53.667  INFO 15408 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:42:53.667  INFO 15408 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-05-06 09:42:53.667  INFO 15408 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-05-06 09:45:06.410  INFO 13744 --- [Thread-9] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-06 09:45:06.410  INFO 13744 --- [Thread-9] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:45:06.410  INFO 13744 --- [Thread-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2019-05-06 09:45:06.410  INFO 13744 --- [Thread-9] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2019-05-06 09:45:24.135  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 13744 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:45:24.135  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:45:24.356  INFO 13744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:45:24.356  INFO 13744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0ms. Found 0 repository interfaces.
2019-05-06 09:45:24.387  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$576e2a28] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:45:24.450  INFO 13744 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 09:45:24.450  INFO 13744 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:45:24.450  INFO 13744 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:45:24.465  INFO 13744 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2019-05-06 09:45:24.465  INFO 13744 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 329 ms
2019-05-06 09:45:24.606  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2019-05-06 09:45:24.606  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2019-05-06 09:45:24.606  INFO 13744 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:45:24.621  INFO 13744 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:45:24.621  WARN 13744 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class: com.example.demojwt.Applicationuser.domain.ApplicationUser.roles[com.example.demojwt.Applicationuser.domain.Role]
2019-05-06 09:45:24.621  INFO 13744 --- [restartedMain] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-199]
2019-05-06 09:45:24.621  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2019-05-06 09:45:24.637  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2019-05-06 09:45:24.637  INFO 13744 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-05-06 09:45:24.637  INFO 13744 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-05-06 09:45:24.637 ERROR 13744 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class: com.example.demojwt.Applicationuser.domain.ApplicationUser.roles[com.example.demojwt.Applicationuser.domain.Role]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at com.example.demojwt.DemoJwtApplication.main(DemoJwtApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class: com.example.demojwt.Applicationuser.domain.ApplicationUser.roles[com.example.demojwt.Applicationuser.domain.Role]
	at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1274)
	at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:811)
	at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:736)
	at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:54)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1696)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1664)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:287)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:904)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:935)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774)
	... 21 common frames omitted

2019-05-06 09:45:26.088  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 13744 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:45:26.088  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:45:26.502  INFO 13744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:45:26.549  INFO 13744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 repository interfaces.
2019-05-06 09:45:26.627  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$576e2a28] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:45:26.627  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f01bf262] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:45:26.627  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:45:26.627  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@77ef7bf1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:45:26.643  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$14f09514] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:45:26.643  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:45:26.721  INFO 13744 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 09:45:26.721  INFO 13744 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:45:26.721  INFO 13744 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:45:26.752  INFO 13744 --- [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2019-05-06 09:45:26.752  INFO 13744 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 663 ms
2019-05-06 09:45:27.010  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2019-05-06 09:45:27.019  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2019-05-06 09:45:27.030  INFO 13744 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:45:27.044  INFO 13744 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:45:27.095  INFO 7136 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 7136 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:45:27.098  INFO 7136 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:45:27.113 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:45:27.136  INFO 7136 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 09:45:27.137  INFO 7136 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 09:45:27.177 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 09:45:27.230 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:45:27.231 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:45:27.231 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:45:27.232 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 09:45:27.302 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:45:27.349 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 09:45:27.380 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:45:27.396 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:45:27.412 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 09:45:27.474 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 09:45:27.490 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 09:45:27.536  INFO 13744 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:45:27.552  INFO 13744 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 09:45:27.708  INFO 7136 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:45:27.755  INFO 7136 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 repository interfaces.
2019-05-06 09:45:27.880  INFO 13744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@706988ea, org.springframework.security.web.context.SecurityContextPersistenceFilter@bc43ec1, org.springframework.security.web.header.HeaderWriterFilter@c237e0a, org.springframework.security.web.authentication.logout.LogoutFilter@5563eaf9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7eb400be, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@691e3188, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e5ad18f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fcc5277, org.springframework.security.web.session.SessionManagementFilter@1ce6fe9b, org.springframework.security.web.access.ExceptionTranslationFilter@24c1e97, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a54c683]
2019-05-06 09:45:27.880  INFO 13744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@4f226c49, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49768348, org.springframework.security.web.context.SecurityContextPersistenceFilter@1038ea32, org.springframework.security.web.header.HeaderWriterFilter@370e93c, org.springframework.security.web.authentication.logout.LogoutFilter@731cd1d0, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7d672328, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35280ef8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31152868, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@682f461b, org.springframework.security.web.session.SessionManagementFilter@10ea543e, org.springframework.security.web.access.ExceptionTranslationFilter@48adb30e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b986071]
2019-05-06 09:45:27.880  INFO 13744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c10b3a4, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ac20fef, org.springframework.security.web.header.HeaderWriterFilter@2264c565, org.springframework.security.web.authentication.logout.LogoutFilter@18392d2c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@546bd3bb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@22bef3e3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@d4c19ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@62211f7d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@666aa1b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42485a6f, org.springframework.security.web.session.SessionManagementFilter@5222d641, org.springframework.security.web.access.ExceptionTranslationFilter@2cdc9ef4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f0619b0]
2019-05-06 09:45:27.943  INFO 13744 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 09:45:27.962  WARN 13744 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 09:45:27.999  INFO 7136 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$83af5072] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:45:28.034  INFO 7136 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$1c5d18ac] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:45:28.034  INFO 7136 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:45:28.034  INFO 7136 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5171d449' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:45:28.034  INFO 7136 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4131bb5e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:45:28.034  INFO 7136 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:45:28.034  INFO 13744 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 09:45:28.081  INFO 13744 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 09:45:28.081 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:45:28.081 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:45:28.081 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:45:28.112 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:45:28.112 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 09:45:28.112 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:45:28.112 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:45:28.112 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:45:28.112 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:45:28.112 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:45:28.112 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:45:28.112 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 09:45:28.112 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:45:28.112 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 09:45:28.128 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:45:28.128 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:45:28.253 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:45:28.253 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 09:45:28.253 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 09:45:28.253 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 09:45:28.253 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 09:45:28.253 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 09:45:28.253 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$yCBdAGQrKXKNyP4nKjXpXumcDh6In4wui0/OB5dAthejYLWH5y/ZK]
2019-05-06 09:45:28.253 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 09:45:28.346  INFO 7136 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 09:45:28.362  INFO 7136 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:45:28.362  INFO 7136 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:45:28.393 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:45:28.393 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:45:28.393 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$d5o3daBhEShGqlsmCIsEDewPAUYjWwtXD52Rdl8EBBQZhzs40968y]
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 09:45:28.393 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 09:45:28.393 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:45:28.393  INFO 13744 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 09:45:28.393  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 2.334 seconds (JVM running for 3005.165)
2019-05-06 09:45:28.409  INFO 13744 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   DataSourceAutoConfiguration.PooledDataSourceConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: javax.sql.DataSource,javax.sql.XADataSource; SearchStrategy: all) found beans of type 'javax.sql.DataSource' getDataSource (OnBeanCondition)
      Matched:
         - AnyNestedCondition 1 matched 1 did not; NestedCondition on DataSourceAutoConfiguration.PooledDataSourceCondition.PooledDataSourceAvailable PooledDataSource found supported DataSource; NestedCondition on DataSourceAutoConfiguration.PooledDataSourceCondition.ExplicitType @ConditionalOnProperty (spring.datasource.type) did not find property 'type' (DataSourceAutoConfiguration.PooledDataSourceCondition)

   DevToolsDataSourceAutoConfiguration:
      Did not match:
         - DevTools DataSource Condition did not find an auto-configured DataSource (DevToolsDataSourceAutoConfiguration.DevToolsDataSourceCondition)

   DevToolsDataSourceAutoConfiguration.DatabaseShutdownExecutorJpaDependencyConfiguration:
      Did not match:
         - Ancestor org.springframework.boot.devtools.autoconfigure.DevToolsDataSourceAutoConfiguration did not match (ConditionEvaluationReport.AncestorsMatchedCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean' (OnClassCondition)

   ManagementWebSecurityAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter; SearchStrategy: all) found beans of type 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter' securityConfiguration, org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerSecurityConfiguration, org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter' (OnClassCondition)
         - found 'session' scope (OnWebApplicationCondition)

   UserDetailsServiceAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.security.authentication.AuthenticationManager,org.springframework.security.authentication.AuthenticationProvider,org.springframework.security.core.userdetails.UserDetailsService; SearchStrategy: all) found beans of type 'org.springframework.security.authentication.AuthenticationManager' authenticationManagerBean and found beans of type 'org.springframework.security.core.userdetails.UserDetailsService' userDetailsServiceImpl and found beans of type 'org.springframework.security.authentication.AuthenticationProvider' authenticationProvider (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.authentication.AuthenticationManager' (OnClassCondition)

   ValidationAutoConfiguration#defaultValidator:
      Did not match:
         - @ConditionalOnMissingBean (types: javax.validation.Validator; SearchStrategy: all) found beans of type 'javax.validation.Validator' getValidator (OnBeanCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2019-05-06 09:45:28.440  INFO 7136 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 09:45:28.440  INFO 7136 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1303 ms
2019-05-06 09:45:28.690  INFO 7136 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 09:45:28.753  INFO 7136 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 09:45:28.784  INFO 7136 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:45:28.815  INFO 7136 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 09:45:28.815  INFO 7136 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 09:45:28.878  INFO 7136 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 09:45:28.958  INFO 7136 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:45:29.348 DEBUG 7136 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 09:45:29.395 DEBUG 7136 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 09:45:29.473  INFO 7136 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:45:29.488  WARN 7136 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2019-05-06 09:45:30.148  INFO 7136 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@729b6c24, org.springframework.security.web.context.SecurityContextPersistenceFilter@466095cd, org.springframework.security.web.header.HeaderWriterFilter@6afa0d5d, org.springframework.security.web.authentication.logout.LogoutFilter@3af02ed0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@578494cb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f305934, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47c5da2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34cd54a5, org.springframework.security.web.session.SessionManagementFilter@10a60e37, org.springframework.security.web.access.ExceptionTranslationFilter@49d5d39, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21dd3b2a]
2019-05-06 09:45:30.148  INFO 7136 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@7b881160, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7553f797, org.springframework.security.web.context.SecurityContextPersistenceFilter@22879bc0, org.springframework.security.web.header.HeaderWriterFilter@2eb1a2ac, org.springframework.security.web.authentication.logout.LogoutFilter@7d06f0ba, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@23adaaa5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60de0207, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43597872, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33003715, org.springframework.security.web.session.SessionManagementFilter@656b6152, org.springframework.security.web.access.ExceptionTranslationFilter@1eeb9e01, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@88a17fa]
2019-05-06 09:45:30.148  INFO 7136 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29b4a468, org.springframework.security.web.context.SecurityContextPersistenceFilter@587277d4, org.springframework.security.web.header.HeaderWriterFilter@4abcd5b7, org.springframework.security.web.authentication.logout.LogoutFilter@2567d560, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@54ff87f6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6ee0d3bf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@774ce05b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2027e0e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c9a883e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@362b7aec, org.springframework.security.web.session.SessionManagementFilter@108e42d0, org.springframework.security.web.access.ExceptionTranslationFilter@73e1799b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b35526c]
2019-05-06 09:45:30.258  INFO 7136 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 09:45:30.289  WARN 7136 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 09:45:30.429  INFO 7136 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 09:45:30.492  INFO 7136 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 09:45:30.539 DEBUG 7136 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:45:30.539 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:45:30.554 DEBUG 7136 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:45:30.554 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:45:30.554 DEBUG 7136 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:45:30.554 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:45:30.695 DEBUG 7136 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:45:30.711 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 09:45:30.711 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 09:45:30.711 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 09:45:30.711 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 09:45:30.711 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 09:45:30.711 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$X68TDryNMXi9iv3T25cbue.DEOJ.JO/NEcexEfok11lJ.QeUE4V9y]
2019-05-06 09:45:30.711 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 09:45:30.851 DEBUG 7136 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:45:30.851 DEBUG 7136 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:45:30.851 DEBUG 7136 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$7.Ir5bIbpuc86k39DzFfru4VqOT0eZdWhRY/Iw9gemYyZNKzb.raK]
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [4]
2019-05-06 09:45:30.851 DEBUG 7136 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2]
2019-05-06 09:45:30.851 TRACE 7136 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:45:30.867 ERROR 7136 --- [restartedMain] org.apache.catalina.util.LifecycleBase   : Failed to start component [Connector[HTTP/1.1-8080]]

org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:226)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:259)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:311)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at com.example.demojwt.DemoJwtApplication.main(DemoJwtApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:461)
	at java.base/sun.nio.ch.Net.bind(Net.java:453)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)
	at java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:80)
	at org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:236)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1103)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1189)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:568)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005)
	... 19 common frames omitted

2019-05-06 09:45:30.867  INFO 7136 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-05-06 09:45:30.867  INFO 7136 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-05-06 09:45:30.867 ERROR 7136 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 8080 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 8080, or configure this application to listen on another port.

2019-05-06 09:45:30.867  INFO 7136 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-06 09:45:30.867  INFO 7136 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:45:30.882  INFO 7136 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-05-06 09:45:30.882  INFO 7136 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-05-06 09:46:15.768  INFO 13424 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 13424 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:46:15.768  INFO 13424 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:46:15.815  INFO 13424 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 09:46:15.815  INFO 13424 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 09:46:16.235  INFO 13744 --- [Thread-24] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-06 09:46:16.237  INFO 13744 --- [Thread-24] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:46:16.238  INFO 13744 --- [Thread-24] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2019-05-06 09:46:16.242  INFO 13744 --- [Thread-24] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2019-05-06 09:46:16.365  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 13744 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:46:16.365  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:46:16.412  INFO 13424 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:46:16.459  INFO 13424 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 repository interfaces.
2019-05-06 09:46:16.615  INFO 13744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:46:16.630  INFO 13744 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15ms. Found 6 repository interfaces.
2019-05-06 09:46:16.662  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$576e2a28] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:16.662  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$f01bf262] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:16.662  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:16.662  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@58f76de9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:16.677  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$14f09514] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:16.677  INFO 13744 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:16.708  INFO 13424 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d5ef175a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:16.740  INFO 13744 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2019-05-06 09:46:16.740  INFO 13744 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:46:16.740  INFO 13744 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:46:16.740  INFO 13424 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$6e9cdf94] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:16.740  INFO 13424 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:16.740  INFO 13424 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@d405192' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:16.755  INFO 13424 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$93718246] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:16.755  INFO 13424 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:16.755  INFO 13744 --- [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2019-05-06 09:46:16.755  INFO 13744 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 390 ms
2019-05-06 09:46:16.896  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2019-05-06 09:46:16.896  INFO 13744 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2019-05-06 09:46:16.896  INFO 13744 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:46:16.912  INFO 13744 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:46:16.962 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:46:16.998 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 09:46:17.016 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:46:17.016 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:46:17.016 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:46:17.016 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 09:46:17.063 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:46:17.079  INFO 13424 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2019-05-06 09:46:17.095  INFO 13424 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:46:17.095  INFO 13424 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:46:17.110 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 09:46:17.173 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:46:17.173  INFO 13424 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 09:46:17.173  INFO 13424 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1358 ms
2019-05-06 09:46:17.219 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:46:17.266 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 09:46:17.298 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 09:46:17.329 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 09:46:17.360  INFO 13744 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:46:17.376  INFO 13744 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 09:46:17.454  INFO 13424 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 09:46:17.516  INFO 13424 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 09:46:17.547  INFO 13424 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:46:17.579  INFO 13424 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 09:46:17.579  INFO 13424 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 09:46:17.641  INFO 13424 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 09:46:17.688  INFO 13744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74ccdc62, org.springframework.security.web.context.SecurityContextPersistenceFilter@56ca093c, org.springframework.security.web.header.HeaderWriterFilter@5653fd6c, org.springframework.security.web.authentication.logout.LogoutFilter@1eb5a7a7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@33cbdfd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2691ce54, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6fe0ef77, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44118ff9, org.springframework.security.web.session.SessionManagementFilter@216a19dd, org.springframework.security.web.access.ExceptionTranslationFilter@1add4ec7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ffdd197]
2019-05-06 09:46:17.704  INFO 13744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@62e5740d, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aefc589, org.springframework.security.web.context.SecurityContextPersistenceFilter@5276a943, org.springframework.security.web.header.HeaderWriterFilter@4d6558db, org.springframework.security.web.authentication.logout.LogoutFilter@5397addc, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@1c57e0db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1459bfd0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@731d8e00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@455aff77, org.springframework.security.web.session.SessionManagementFilter@3a934738, org.springframework.security.web.access.ExceptionTranslationFilter@4340b528, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@419715dc]
2019-05-06 09:46:17.704  INFO 13744 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22e778d0, org.springframework.security.web.context.SecurityContextPersistenceFilter@1b6571c1, org.springframework.security.web.header.HeaderWriterFilter@30061d48, org.springframework.security.web.authentication.logout.LogoutFilter@504363c8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@63fae4a4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6018fd73, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1b71536f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c16a659, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c7a1ace, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1701050a, org.springframework.security.web.session.SessionManagementFilter@75cf2426, org.springframework.security.web.access.ExceptionTranslationFilter@7881e0b4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2135a932]
2019-05-06 09:46:17.719  INFO 13424 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:46:17.751  INFO 13744 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 09:46:17.766  WARN 13744 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 09:46:17.844  INFO 13744 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 09:46:17.891  INFO 13744 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 09:46:17.891 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:46:17.891 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:46:17.891 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:46:17.907 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:46:17.907 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 09:46:17.907 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:46:17.907 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:46:17.907 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:46:17.907 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:46:17.907 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:46:17.907 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:46:17.907 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 09:46:17.907 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:46:17.907 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 09:46:17.907 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:46:17.907 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:46:18.049 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:46:18.049 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 09:46:18.049 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 09:46:18.049 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 09:46:18.049 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 09:46:18.049 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 09:46:18.049 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$EKS7p47C4clyA/KCi3zNBuRpnAezamvSPq/4u7wHmKt2eDQvpk.Xi]
2019-05-06 09:46:18.049 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 09:46:18.162 DEBUG 13424 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 09:46:18.178 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:46:18.178 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:46:18.178 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$AV7LOfOwDECH.7vQIKz8Y.AZYqn3O4dEV0QapwwZM0C2gKGrMJ6dG]
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 09:46:18.178 DEBUG 13744 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 09:46:18.178 TRACE 13744 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:46:18.178  INFO 13744 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''
2019-05-06 09:46:18.178  INFO 13744 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 1.829 seconds (JVM running for 3054.948)
2019-05-06 09:46:18.193  INFO 13744 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2019-05-06 09:46:18.209 DEBUG 13424 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 09:46:18.287  INFO 13424 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:46:18.318  WARN 13424 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2019-05-06 09:46:18.982  INFO 13424 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52639598, org.springframework.security.web.context.SecurityContextPersistenceFilter@38e468c5, org.springframework.security.web.header.HeaderWriterFilter@5dba059e, org.springframework.security.web.authentication.logout.LogoutFilter@6ae88650, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5b61154e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b23e547, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55d7ca0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@94ac71e, org.springframework.security.web.session.SessionManagementFilter@27eed304, org.springframework.security.web.access.ExceptionTranslationFilter@73985713, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1bdf9743]
2019-05-06 09:46:18.987  INFO 13424 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@326c4a01, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62d321a3, org.springframework.security.web.context.SecurityContextPersistenceFilter@56ff6ad4, org.springframework.security.web.header.HeaderWriterFilter@51236782, org.springframework.security.web.authentication.logout.LogoutFilter@28d36925, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@6dbf3312, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46db8a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4eb8c0df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e7badca, org.springframework.security.web.session.SessionManagementFilter@6b61ad80, org.springframework.security.web.access.ExceptionTranslationFilter@5b813834, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a6a1b63]
2019-05-06 09:46:18.992  INFO 13424 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1963f8f6, org.springframework.security.web.context.SecurityContextPersistenceFilter@24381f2d, org.springframework.security.web.header.HeaderWriterFilter@1ce192e2, org.springframework.security.web.authentication.logout.LogoutFilter@634ad8bd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1a9cdc1a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@76f7e0a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7a02d28c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6cc7260c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c21dff4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66a8c022, org.springframework.security.web.session.SessionManagementFilter@2b2a03f1, org.springframework.security.web.access.ExceptionTranslationFilter@7fe6ea2c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78ac8345]
2019-05-06 09:46:19.095  INFO 13424 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 09:46:19.103  WARN 13424 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 09:46:19.243  INFO 13424 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 09:46:19.321  INFO 13424 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 09:46:19.353 DEBUG 13424 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:46:19.368 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:46:19.384 DEBUG 13424 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:46:19.384 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:46:19.384 DEBUG 13424 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:46:19.384 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:46:19.525 DEBUG 13424 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:46:19.525 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 09:46:19.525 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 09:46:19.525 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 09:46:19.525 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 09:46:19.525 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 09:46:19.525 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$ipzfbGdamPaTUjgMmozmoeu81nOZgEO1vLDfp0ZA7RPsKpz24ozmu]
2019-05-06 09:46:19.525 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 09:46:19.665 DEBUG 13424 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:46:19.681 DEBUG 13424 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:46:19.681 DEBUG 13424 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$4varGwMBrtoBdbMn.4egVO9hJzAPXG4El1Pskmm0UFXxpFVEHpvx.]
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [4]
2019-05-06 09:46:19.681 DEBUG 13424 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2]
2019-05-06 09:46:19.681 TRACE 13424 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:46:19.696 ERROR 13424 --- [restartedMain] org.apache.catalina.util.LifecycleBase   : Failed to start component [Connector[HTTP/1.1-8081]]

org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:226)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:259)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:311)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at com.example.demojwt.DemoJwtApplication.main(DemoJwtApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:461)
	at java.base/sun.nio.ch.Net.bind(Net.java:453)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)
	at java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:80)
	at org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:236)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1103)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1189)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:568)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005)
	... 19 common frames omitted

2019-05-06 09:46:19.696  INFO 13424 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-05-06 09:46:19.696  INFO 13424 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-05-06 09:46:19.696 ERROR 13424 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 8081 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 8081, or configure this application to listen on another port.

2019-05-06 09:46:19.696  INFO 13424 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-06 09:46:19.696  INFO 13424 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:46:19.712  INFO 13424 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-05-06 09:46:19.712  INFO 13424 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-05-06 09:46:26.664  INFO 14352 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 14352 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:46:26.664  INFO 14352 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:46:26.695  INFO 14352 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 09:46:26.695  INFO 14352 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 09:46:27.277  INFO 14352 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:46:27.324  INFO 14352 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 repository interfaces.
2019-05-06 09:46:27.558  INFO 14352 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4984449c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:27.568  INFO 14352 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$e2320cd6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:27.583  INFO 14352 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:27.583  INFO 14352 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3e8073d1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:27.583  INFO 14352 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$706af88] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:27.583  INFO 14352 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:46:27.880  INFO 14352 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)
2019-05-06 09:46:27.896  INFO 14352 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:46:27.896  INFO 14352 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:46:27.973  INFO 14352 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 09:46:27.974  INFO 14352 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1279 ms
2019-05-06 09:46:28.233  INFO 14352 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 09:46:28.280  INFO 14352 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 09:46:28.311  INFO 14352 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:46:28.343  INFO 14352 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 09:46:28.343  INFO 14352 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 09:46:28.405  INFO 14352 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 09:46:28.483  INFO 14352 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:46:28.905 DEBUG 14352 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 09:46:28.984 DEBUG 14352 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 09:46:29.030  INFO 14352 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:46:29.057  WARN 14352 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2019-05-06 09:46:29.705  INFO 14352 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73e1799b, org.springframework.security.web.context.SecurityContextPersistenceFilter@16448ec8, org.springframework.security.web.header.HeaderWriterFilter@74f40fac, org.springframework.security.web.authentication.logout.LogoutFilter@2942bff7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7553f797, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7adad9a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@158db6e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4abcd5b7, org.springframework.security.web.session.SessionManagementFilter@2f1d387, org.springframework.security.web.access.ExceptionTranslationFilter@4d284b6b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d307caa]
2019-05-06 09:46:29.721  INFO 14352 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@757f9031, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@307597d3, org.springframework.security.web.context.SecurityContextPersistenceFilter@54ff87f6, org.springframework.security.web.header.HeaderWriterFilter@1119f7e2, org.springframework.security.web.authentication.logout.LogoutFilter@362b7aec, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@868f18b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29b4a468, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@774ce05b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73418adf, org.springframework.security.web.session.SessionManagementFilter@6b35526c, org.springframework.security.web.access.ExceptionTranslationFilter@a4eef1e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25d4fa65]
2019-05-06 09:46:29.721  INFO 14352 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16c4bc85, org.springframework.security.web.context.SecurityContextPersistenceFilter@4579f463, org.springframework.security.web.header.HeaderWriterFilter@6ab81ba8, org.springframework.security.web.authentication.logout.LogoutFilter@336cd280, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7ed6e9f1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@39bce338, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@422bf0ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6804022, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c4f6e01, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3cfcc175, org.springframework.security.web.session.SessionManagementFilter@11109ede, org.springframework.security.web.access.ExceptionTranslationFilter@2d0dd6f8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@146d488b]
2019-05-06 09:46:29.830  INFO 14352 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 09:46:29.846  WARN 14352 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 09:46:30.025  INFO 14352 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 09:46:30.099  INFO 14352 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 09:46:30.139 DEBUG 14352 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:46:30.145 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:46:30.160 DEBUG 14352 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:46:30.160 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:46:30.161 DEBUG 14352 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:46:30.162 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:46:30.301 DEBUG 14352 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:46:30.301 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 09:46:30.301 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 09:46:30.301 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 09:46:30.301 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 09:46:30.301 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 09:46:30.301 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$nlEIhDI2/.W40pQOpbVuOO6DFhH/8l0mkeujPbRYhXEXND6t99y8q]
2019-05-06 09:46:30.301 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 09:46:30.442 DEBUG 14352 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:46:30.442 DEBUG 14352 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:46:30.442 DEBUG 14352 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$aKUO3xSAplS0UxmEyGOY2uacOW3lNY8ljnaFV6SoUw6yn4jThQ082]
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [5]
2019-05-06 09:46:30.442 DEBUG 14352 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [3]
2019-05-06 09:46:30.442 TRACE 14352 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:46:30.458 ERROR 14352 --- [restartedMain] org.apache.catalina.util.LifecycleBase   : Failed to start component [Connector[HTTP/1.1-8081]]

org.apache.catalina.LifecycleException: Protocol handler start failed
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)
	at org.apache.catalina.core.StandardService.addConnector(StandardService.java:226)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:259)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:197)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:311)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:164)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)
	at com.example.demojwt.DemoJwtApplication.main(DemoJwtApplication.java:14)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: java.net.BindException: Address already in use: bind
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:461)
	at java.base/sun.nio.ch.Net.bind(Net.java:453)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)
	at java.base/sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:80)
	at org.apache.tomcat.util.net.NioEndpoint.initServerSocket(NioEndpoint.java:236)
	at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:210)
	at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1103)
	at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1189)
	at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:568)
	at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005)
	... 19 common frames omitted

2019-05-06 09:46:30.458  INFO 14352 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-05-06 09:46:30.473  INFO 14352 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-05-06 09:46:30.473 ERROR 14352 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

The Tomcat connector configured to listen on port 8081 failed to start. The port may already be in use or the connector may be misconfigured.

Action:

Verify the connector's configuration, identify and stop any process that's listening on port 8081, or configure this application to listen on another port.

2019-05-06 09:46:30.473  INFO 14352 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2019-05-06 09:46:30.473  INFO 14352 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:46:30.473  INFO 14352 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-05-06 09:46:30.473  INFO 14352 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-05-06 09:54:50.487  INFO 13524 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 13524 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:54:50.491  INFO 13524 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:54:50.553  INFO 13524 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 09:54:50.554  INFO 13524 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 09:54:51.375  INFO 13524 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:54:51.432  INFO 13524 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52ms. Found 6 repository interfaces.
2019-05-06 09:54:51.707  INFO 13524 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$963e6f03] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:54:51.728  INFO 13524 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$2eec373d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:54:51.732  INFO 13524 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:54:51.733  INFO 13524 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@58f29152' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:54:51.735  INFO 13524 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$53c0d9ef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:54:51.737  INFO 13524 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:54:52.100  INFO 13524 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 09:54:52.134  INFO 13524 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:54:52.134  INFO 13524 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:54:52.244  INFO 13524 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 09:54:52.245  INFO 13524 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1691 ms
2019-05-06 09:54:52.623  INFO 13524 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 09:54:52.684  INFO 13524 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 09:54:52.716  INFO 13524 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:54:52.765  INFO 13524 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 09:54:52.768  INFO 13524 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 09:54:52.856  INFO 13524 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 09:54:52.948  INFO 13524 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:54:53.409 DEBUG 13524 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 09:54:53.452 DEBUG 13524 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 09:54:53.485  INFO 13524 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:54:53.515  INFO 13524 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 09:54:54.325  INFO 13524 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b059d4a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7cbf92f, org.springframework.security.web.header.HeaderWriterFilter@5bef7947, org.springframework.security.web.authentication.logout.LogoutFilter@4d284b6b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@60de0207, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4dc1f5f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40b74a5e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@563fc4db, org.springframework.security.web.session.SessionManagementFilter@2d9801fd, org.springframework.security.web.access.ExceptionTranslationFilter@5de1ee0c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1eeb9e01]
2019-05-06 09:54:54.330  INFO 13524 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@54ff87f6, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29b4a468, org.springframework.security.web.context.SecurityContextPersistenceFilter@51c1abdc, org.springframework.security.web.header.HeaderWriterFilter@8a4880d, org.springframework.security.web.authentication.logout.LogoutFilter@7f6e61df, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@6ee0d3bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@441371af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68db6dc0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@774ce05b, org.springframework.security.web.session.SessionManagementFilter@6fff0bb7, org.springframework.security.web.access.ExceptionTranslationFilter@5ef977dc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6b35526c]
2019-05-06 09:54:54.336  INFO 13524 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@496791dd, org.springframework.security.web.context.SecurityContextPersistenceFilter@5a1f445c, org.springframework.security.web.header.HeaderWriterFilter@38d9b075, org.springframework.security.web.authentication.logout.LogoutFilter@e3def2c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a4ad784, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2ea06300, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@551b578, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e2d72d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b823f7f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1482e268, org.springframework.security.web.session.SessionManagementFilter@e156245, org.springframework.security.web.access.ExceptionTranslationFilter@6d8933e3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a2b7d3f]
2019-05-06 09:54:54.472  INFO 13524 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 09:54:54.495  WARN 13524 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 09:54:54.675  INFO 13524 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 09:54:54.758  INFO 13524 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 09:54:54.805 DEBUG 13524 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:54:54.812 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:54:54.832 DEBUG 13524 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:54:54.833 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:54:54.834 DEBUG 13524 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:54:54.835 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:54:54.988 DEBUG 13524 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:54:54.989 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 09:54:54.989 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 09:54:54.989 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 09:54:54.989 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 09:54:54.989 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 09:54:54.990 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$mCO.FejVz25OVJCM2PsrzOS5b.fZGOudrSUMsiRxKAx42Hw9ySGqC]
2019-05-06 09:54:54.992 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 09:54:55.134 DEBUG 13524 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:54:55.135 DEBUG 13524 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:54:55.139 DEBUG 13524 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:54:55.139 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 09:54:55.139 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 09:54:55.139 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:54:55.140 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 09:54:55.140 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 09:54:55.140 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$.Lprh0aAYbY27e1VSVsxxeNf77rr4P6WThpYtl6RRnBoMl4p7cCY.]
2019-05-06 09:54:55.140 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 09:54:55.140 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 09:54:55.140 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 09:54:55.140 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 09:54:55.140 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 09:54:55.141 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [6]
2019-05-06 09:54:55.144 DEBUG 13524 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 09:54:55.144 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [4]
2019-05-06 09:54:55.144 TRACE 13524 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:54:55.162  INFO 13524 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 09:54:55.165  INFO 13524 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.99 seconds (JVM running for 5.835)
2019-05-06 09:54:55.345  INFO 13524 --- [RMI TCP Connection(1)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 09:54:55.345  INFO 13524 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 09:54:55.355  INFO 13524 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2019-05-06 09:57:38.299  INFO 10328 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 10328 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 09:57:38.301  INFO 10328 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 09:57:38.330  INFO 10328 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 09:57:38.330  INFO 10328 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 09:57:38.912  INFO 10328 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 09:57:38.962  INFO 10328 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 repository interfaces.
2019-05-06 09:57:39.195  INFO 10328 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$337a90fe] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:57:39.215  INFO 10328 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$cc285938] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:57:39.218  INFO 10328 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:57:39.219  INFO 10328 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7be8f15e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:57:39.221  INFO 10328 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f0fcfbea] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:57:39.223  INFO 10328 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 09:57:39.527  INFO 10328 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 09:57:39.541  INFO 10328 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 09:57:39.541  INFO 10328 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 09:57:39.611  INFO 10328 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 09:57:39.611  INFO 10328 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1281 ms
2019-05-06 09:57:39.876  INFO 10328 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 09:57:39.943  INFO 10328 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 09:57:39.972  INFO 10328 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 09:57:40.003  INFO 10328 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 09:57:40.004  INFO 10328 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 09:57:40.070  INFO 10328 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 09:57:40.145  INFO 10328 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 09:57:40.521 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:57:40.552 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 09:57:40.628 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:57:40.631 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:57:40.633 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 09:57:40.635 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 09:57:40.683 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:57:40.751 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 09:57:40.811 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:57:40.846 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 09:57:40.914 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 09:57:40.949 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 09:57:40.994 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 09:57:41.068  INFO 10328 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 09:57:41.097  INFO 10328 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 09:57:41.758  INFO 10328 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aa02e0e, org.springframework.security.web.context.SecurityContextPersistenceFilter@17f8520e, org.springframework.security.web.header.HeaderWriterFilter@33c2cbe4, org.springframework.security.web.authentication.logout.LogoutFilter@75ca355a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@54eb363f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@574f527c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@202ad542, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ae88650, org.springframework.security.web.session.SessionManagementFilter@ace52ce, org.springframework.security.web.access.ExceptionTranslationFilter@2ddacac5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@111f7a6f]
2019-05-06 09:57:41.763  INFO 10328 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@72a4b76e, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ca67a0, org.springframework.security.web.context.SecurityContextPersistenceFilter@71ea8caa, org.springframework.security.web.header.HeaderWriterFilter@60915161, org.springframework.security.web.authentication.logout.LogoutFilter@40718235, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@d17666a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@979c8c7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63898ad0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e52e40, org.springframework.security.web.session.SessionManagementFilter@2b61175b, org.springframework.security.web.access.ExceptionTranslationFilter@59a429f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20cb148a]
2019-05-06 09:57:41.767  INFO 10328 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b61154e, org.springframework.security.web.context.SecurityContextPersistenceFilter@209dfde7, org.springframework.security.web.header.HeaderWriterFilter@7e5a31d4, org.springframework.security.web.authentication.logout.LogoutFilter@65985e6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3c63e80e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@49642be8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1072c956, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7199eed0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e62a5a6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2bd2b2d, org.springframework.security.web.session.SessionManagementFilter@3ab5a496, org.springframework.security.web.access.ExceptionTranslationFilter@42c262f6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@29377d48]
2019-05-06 09:57:41.869  INFO 10328 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 09:57:41.889  WARN 10328 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 09:57:42.029  INFO 10328 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 09:57:42.103  INFO 10328 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 09:57:42.141 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:57:42.147 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:57:42.158 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:57:42.163 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:57:42.173 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 09:57:42.174 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:57:42.174 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:57:42.175 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:57:42.175 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:57:42.176 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:57:42.176 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:57:42.177 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 09:57:42.177 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 09:57:42.178 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 09:57:42.178 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 09:57:42.178 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:57:42.321 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:57:42.322 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 09:57:42.323 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 09:57:42.323 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 09:57:42.323 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 09:57:42.323 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 09:57:42.323 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$xqZxCq/uI3JobynK0ffbRu6E7gm0akuHi4m/OctvaKnXjoaaid6im]
2019-05-06 09:57:42.323 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 09:57:42.459 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 09:57:42.460 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 09:57:42.462 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 09:57:42.463 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 09:57:42.463 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 09:57:42.463 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 09:57:42.463 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 09:57:42.463 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 09:57:42.463 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$b5W7sVk4Bq6.SgCOFbvkTOuHJRona32FhVgi84sQo57RvKn4zGIp.]
2019-05-06 09:57:42.463 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 09:57:42.464 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 09:57:42.464 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 09:57:42.464 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 09:57:42.464 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 09:57:42.464 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 09:57:42.466 DEBUG 10328 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 09:57:42.467 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 09:57:42.467 TRACE 10328 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 09:57:42.483  INFO 10328 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 09:57:42.484  INFO 10328 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.371 seconds (JVM running for 4.946)
2019-05-06 09:57:42.770  INFO 10328 --- [RMI TCP Connection(2)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 09:57:42.770  INFO 10328 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 09:57:42.777  INFO 10328 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 09:58:31.786  INFO 10328 --- [http-nio-8080-exec-1] e.d.U.AuthenticationSuccessEventListener : Username is org.springframework.security.core.userdetails.User@cc6638fe: Username: tracom; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_ADMIN
2019-05-06 09:58:31.805 ERROR 10328 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: class org.springframework.security.core.userdetails.User cannot be cast to class java.lang.String (org.springframework.security.core.userdetails.User is in unnamed module of loader 'app'; java.lang.String is in module java.base of loader 'bootstrap')
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:22)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:11)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 10:00:24.683  INFO 7020 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 7020 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:00:24.686  INFO 7020 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:00:24.718  INFO 7020 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:00:24.718  INFO 7020 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:00:25.295  INFO 7020 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:00:25.343  INFO 7020 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44ms. Found 6 repository interfaces.
2019-05-06 10:00:25.570  INFO 7020 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$92381766] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:00:25.589  INFO 7020 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$2ae5dfa0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:00:25.594  INFO 7020 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:00:25.596  INFO 7020 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@24becd54' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:00:25.598  INFO 7020 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4fba8252] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:00:25.600  INFO 7020 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:00:25.904  INFO 7020 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:00:25.917  INFO 7020 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:00:25.917  INFO 7020 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:00:25.983  INFO 7020 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:00:25.983  INFO 7020 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1264 ms
2019-05-06 10:00:26.245  INFO 7020 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:00:26.303  INFO 7020 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:00:26.332  INFO 7020 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:00:26.362  INFO 7020 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:00:26.362  INFO 7020 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:00:26.429  INFO 7020 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:00:26.499  INFO 7020 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:00:26.870 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:00:26.904 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 10:00:26.996 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:00:27.000 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:00:27.001 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:00:27.004 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:00:27.083 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:00:27.145 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:00:27.183 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:00:27.272 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:00:27.309 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 10:00:27.336 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:00:27.396 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:00:27.530  INFO 7020 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:00:27.559  INFO 7020 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:00:28.207  INFO 7020 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4db5e2be, org.springframework.security.web.context.SecurityContextPersistenceFilter@60fe7b84, org.springframework.security.web.header.HeaderWriterFilter@5c09c5a9, org.springframework.security.web.authentication.logout.LogoutFilter@4a2d5531, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@e990f93, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7027cb08, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d5dd1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b96caeb, org.springframework.security.web.session.SessionManagementFilter@66250b77, org.springframework.security.web.access.ExceptionTranslationFilter@4b170f03, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e072996]
2019-05-06 10:00:28.212  INFO 7020 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@461de6d9, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2446ca8b, org.springframework.security.web.context.SecurityContextPersistenceFilter@734672a8, org.springframework.security.web.header.HeaderWriterFilter@64b349a5, org.springframework.security.web.authentication.logout.LogoutFilter@7e3f3a9c, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@f28a3ca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f2f727c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12ff25d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79d3a06, org.springframework.security.web.session.SessionManagementFilter@76113fc3, org.springframework.security.web.access.ExceptionTranslationFilter@567b43c7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@83834a6]
2019-05-06 10:00:28.216  INFO 7020 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31816565, org.springframework.security.web.context.SecurityContextPersistenceFilter@bc59c4e, org.springframework.security.web.header.HeaderWriterFilter@e495d20, org.springframework.security.web.authentication.logout.LogoutFilter@48493405, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3b18df5a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6fc9f25e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7d15c9b0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e6a4277, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a0ea8c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@389a412e, org.springframework.security.web.session.SessionManagementFilter@56287f5f, org.springframework.security.web.access.ExceptionTranslationFilter@2232f514, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4be1c571]
2019-05-06 10:00:28.317  INFO 7020 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:00:28.337  WARN 7020 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:00:28.481  INFO 7020 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:00:28.558  INFO 7020 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:00:28.596 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:00:28.602 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:00:28.613 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:00:28.615 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:00:28.627 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:00:28.627 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:00:28.627 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:00:28.628 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:00:28.628 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:00:28.629 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:00:28.630 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:00:28.631 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:00:28.631 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:00:28.631 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 10:00:28.631 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:00:28.631 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:00:28.773 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:00:28.774 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:00:28.775 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:00:28.775 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:00:28.775 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:00:28.775 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:00:28.775 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$.Ea7t9VcEfhv95/cVCm7.eE2OwWhNsBF26/lDWS04I1D490knRwce]
2019-05-06 10:00:28.775 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:00:28.911 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:00:28.911 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:00:28.913 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:00:28.914 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:00:28.914 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:00:28.914 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:00:28.914 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:00:28.914 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:00:28.914 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$/9bwd8l4qQjlCeWbHtuqPudf5zM.Is/lYo/g3HSYJLgjWqZevejzy]
2019-05-06 10:00:28.914 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:00:28.915 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:00:28.915 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:00:28.915 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:00:28.915 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:00:28.915 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 10:00:28.918 DEBUG 7020 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:00:28.918 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:00:28.918 TRACE 7020 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:00:28.934  INFO 7020 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:00:28.936  INFO 7020 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.435 seconds (JVM running for 5.023)
2019-05-06 10:00:29.160  INFO 7020 --- [RMI TCP Connection(1)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:00:29.161  INFO 7020 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:00:29.166  INFO 7020 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2019-05-06 10:00:33.235  INFO 7020 --- [http-nio-8080-exec-2] e.d.U.AuthenticationSuccessEventListener : Username is org.springframework.security.core.userdetails.User@cc6638fe: Username: tracom; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_ADMIN
2019-05-06 10:00:33.244 DEBUG 7020 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        userattemp0_.id as id1_5_,
        userattemp0_.attempts as attempts2_5_,
        userattemp0_.lastModified as lastModi3_5_,
        userattemp0_.username as username4_5_ 
    from
        UserAttempts userattemp0_ 
    where
        userattemp0_.username=?
2019-05-06 10:00:33.245 TRACE 7020 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [org.springframework.security.core.userdetails.User@cc6638fe: Username: tracom; Password: [PROTECTED]; Enabled: true; AccountNonExpired: true; credentialsNonExpired: true; AccountNonLocked: true; Granted Authorities: ROLE_ADMIN]
2019-05-06 10:09:27.301  INFO 8168 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 8168 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:09:27.303  INFO 8168 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:09:27.332  INFO 8168 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:09:27.332  INFO 8168 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:09:27.928  INFO 8168 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:09:27.977  INFO 8168 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 repository interfaces.
2019-05-06 10:09:28.212  INFO 8168 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a15e5080] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:09:28.232  INFO 8168 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$3a0c18ba] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:09:28.235  INFO 8168 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:09:28.236  INFO 8168 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4c7ab4f8' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:09:28.238  INFO 8168 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$5ee0bb6c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:09:28.239  INFO 8168 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:09:28.550  INFO 8168 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:09:28.569  INFO 8168 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:09:28.570  INFO 8168 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:09:28.641  INFO 8168 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:09:28.642  INFO 8168 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1310 ms
2019-05-06 10:09:28.918  INFO 8168 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:09:28.977  INFO 8168 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:09:29.006  INFO 8168 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:09:29.037  INFO 8168 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:09:29.038  INFO 8168 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:09:29.107  INFO 8168 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:09:29.189  INFO 8168 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:09:29.565 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:09:29.615 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 10:09:29.684 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:09:29.687 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:09:29.688 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:09:29.689 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:09:29.732 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:09:29.758 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:09:29.798 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:09:29.868 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:09:30.015 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 10:09:30.146 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:09:30.204 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:09:30.261  INFO 8168 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:09:30.295  INFO 8168 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:09:30.955  INFO 8168 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a2cd9fb, org.springframework.security.web.context.SecurityContextPersistenceFilter@6194adab, org.springframework.security.web.header.HeaderWriterFilter@46261176, org.springframework.security.web.authentication.logout.LogoutFilter@44a25745, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@169b5c71, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f92d6e7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d00703d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67b591e0, org.springframework.security.web.session.SessionManagementFilter@25186dbd, org.springframework.security.web.access.ExceptionTranslationFilter@117102d2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@591b2a23]
2019-05-06 10:09:30.960  INFO 8168 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@7af013a6, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@896f9e6, org.springframework.security.web.context.SecurityContextPersistenceFilter@27d3902e, org.springframework.security.web.header.HeaderWriterFilter@225fb87d, org.springframework.security.web.authentication.logout.LogoutFilter@60c4dbc9, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@781c000d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@544f04cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b8cc269, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c33f75e, org.springframework.security.web.session.SessionManagementFilter@2cf8eb6a, org.springframework.security.web.access.ExceptionTranslationFilter@51944f66, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@331c5773]
2019-05-06 10:09:30.964  INFO 8168 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49f3f450, org.springframework.security.web.context.SecurityContextPersistenceFilter@3b62d524, org.springframework.security.web.header.HeaderWriterFilter@1a2bf22, org.springframework.security.web.authentication.logout.LogoutFilter@9901cbb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@142cea32, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@247626e4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@78408667, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7107fa3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@65c81097, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cc18ff5, org.springframework.security.web.session.SessionManagementFilter@7c17bd0f, org.springframework.security.web.access.ExceptionTranslationFilter@4bd02ff5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ecd4b19]
2019-05-06 10:09:31.068  INFO 8168 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:09:31.089  WARN 8168 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:09:31.230  INFO 8168 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:09:31.305  INFO 8168 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:09:31.343 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:09:31.349 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:09:31.360 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:09:31.364 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:09:31.375 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:09:31.375 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:09:31.375 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:09:31.376 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:09:31.377 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:09:31.377 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:09:31.378 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:09:31.379 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:09:31.379 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:09:31.379 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 10:09:31.380 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:09:31.380 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:09:31.522 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:09:31.522 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:09:31.523 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:09:31.523 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:09:31.523 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:09:31.523 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:09:31.523 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$.xHPBcQSQqaBiCrOObm2w.J4DCUSDc6V5Pr63CLuiCEhWIYd/WU.G]
2019-05-06 10:09:31.523 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:09:31.660 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:09:31.661 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:09:31.664 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:09:31.664 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:09:31.664 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:09:31.665 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:09:31.665 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:09:31.665 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:09:31.665 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$FY82bUIwJtx8hacZpK9H9.yYpAKoQXo0ZpVSdK0J88CQ15Jdalj8W]
2019-05-06 10:09:31.665 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:09:31.665 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:09:31.666 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:09:31.666 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:09:31.666 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:09:31.666 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 10:09:31.669 DEBUG 8168 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:09:31.669 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:09:31.669 TRACE 8168 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:09:31.686  INFO 8168 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:09:31.688  INFO 8168 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.591 seconds (JVM running for 5.164)
2019-05-06 10:09:31.838  INFO 8168 --- [RMI TCP Connection(3)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:09:31.839  INFO 8168 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:09:31.846  INFO 8168 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2019-05-06 10:09:45.355 ERROR 8168 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:22)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:12)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 10:10:59.821  INFO 3792 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 3792 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:10:59.823  INFO 3792 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:10:59.852  INFO 3792 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:10:59.852  INFO 3792 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:11:00.437  INFO 3792 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:11:00.488  INFO 3792 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 repository interfaces.
2019-05-06 10:11:00.721  INFO 3792 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$84421eef] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:11:00.761  INFO 3792 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$1cefe729] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:11:00.765  INFO 3792 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:11:00.766  INFO 3792 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5d05161e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:11:00.768  INFO 3792 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$41c489db] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:11:00.769  INFO 3792 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:11:01.249  INFO 3792 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:11:01.269  INFO 3792 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:11:01.269  INFO 3792 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:11:01.367  INFO 3792 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:11:01.368  INFO 3792 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1516 ms
2019-05-06 10:11:01.685  INFO 3792 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:11:01.748  INFO 3792 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:11:01.781  INFO 3792 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:11:01.815  INFO 3792 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:11:01.815  INFO 3792 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:11:01.895  INFO 3792 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:11:01.974  INFO 3792 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:11:02.384 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:11:02.472 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 10:11:02.531 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:11:02.533 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:11:02.534 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:11:02.535 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:11:02.601 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:11:02.706 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:11:02.772 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:11:02.822 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:11:02.858 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 10:11:02.895 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:11:02.938 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:11:03.036  INFO 3792 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:11:03.076  INFO 3792 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:11:03.843  INFO 3792 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d23f8b7, org.springframework.security.web.context.SecurityContextPersistenceFilter@11f4f68e, org.springframework.security.web.header.HeaderWriterFilter@7c95cb2e, org.springframework.security.web.authentication.logout.LogoutFilter@16c252ab, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@58e2808, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40d61e43, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@604c45f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a231242, org.springframework.security.web.session.SessionManagementFilter@46febd3d, org.springframework.security.web.access.ExceptionTranslationFilter@7b18e22, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4623171d]
2019-05-06 10:11:03.850  INFO 3792 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@7414ffcf, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61f2b327, org.springframework.security.web.context.SecurityContextPersistenceFilter@1373b665, org.springframework.security.web.header.HeaderWriterFilter@4240fae7, org.springframework.security.web.authentication.logout.LogoutFilter@3e3977fc, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@3667484f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4de61d8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8b44113, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23fd1a0, org.springframework.security.web.session.SessionManagementFilter@579c34e5, org.springframework.security.web.access.ExceptionTranslationFilter@3d1c7ae3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25660e53]
2019-05-06 10:11:03.854  INFO 3792 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3da96093, org.springframework.security.web.context.SecurityContextPersistenceFilter@501e12d5, org.springframework.security.web.header.HeaderWriterFilter@22c195bf, org.springframework.security.web.authentication.logout.LogoutFilter@1335ca0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7bdbb91a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@211b6aec, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@cf3acde, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57e592f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@792789dd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@550968, org.springframework.security.web.session.SessionManagementFilter@5b60609d, org.springframework.security.web.access.ExceptionTranslationFilter@540a6ed3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@755f2eb6]
2019-05-06 10:11:03.984  INFO 3792 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:11:04.009  WARN 3792 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:11:04.187  INFO 3792 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:11:04.270  INFO 3792 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:11:04.318 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:11:04.326 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:11:04.341 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:11:04.345 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:11:04.358 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:11:04.358 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:11:04.358 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:11:04.359 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:11:04.360 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:11:04.360 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:11:04.361 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:11:04.362 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:11:04.362 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:11:04.362 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 10:11:04.363 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:11:04.363 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:11:04.511 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:11:04.511 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:11:04.512 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:11:04.512 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:11:04.512 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:11:04.512 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:11:04.512 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$m3RWt.bVmgLeQxmmcpr9OuZzwhL1NO6XoS7kwWlG38oQX84B.qMsS]
2019-05-06 10:11:04.512 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:11:04.652 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:11:04.653 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:11:04.655 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:11:04.656 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:11:04.656 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:11:04.656 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:11:04.656 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:11:04.656 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:11:04.656 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$YAUM9lrR5.k7r8V67qEGGugpTJxEr7ZE2.Mj9usKaUBJCRpP5LDSa]
2019-05-06 10:11:04.656 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:11:04.656 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:11:04.657 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:11:04.657 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:11:04.657 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:11:04.657 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 10:11:04.659 DEBUG 3792 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:11:04.660 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:11:04.660 TRACE 3792 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:11:04.682  INFO 3792 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:11:04.684  INFO 3792 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 5.048 seconds (JVM running for 5.632)
2019-05-06 10:11:04.901  INFO 3792 --- [RMI TCP Connection(3)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:11:04.902  INFO 3792 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:11:04.911  INFO 3792 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2019-05-06 10:11:26.713 ERROR 3792 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:22)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:12)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 10:13:50.242  INFO 3392 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 3392 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:13:50.246  INFO 3392 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:13:50.280  INFO 3392 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:13:50.281  INFO 3392 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:13:50.872  INFO 3392 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:13:50.924  INFO 3392 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48ms. Found 6 repository interfaces.
2019-05-06 10:13:51.155  INFO 3392 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d8ee65af] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:13:51.191  INFO 3392 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$719c2de9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:13:51.195  INFO 3392 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:13:51.196  INFO 3392 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@17a6b039' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:13:51.198  INFO 3392 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$9670d09b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:13:51.200  INFO 3392 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:13:51.520  INFO 3392 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:13:51.543  INFO 3392 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:13:51.545  INFO 3392 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:13:51.638  INFO 3392 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:13:51.639  INFO 3392 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1358 ms
2019-05-06 10:13:52.083  INFO 3392 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:13:52.147  INFO 3392 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:13:52.178  INFO 3392 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:13:52.211  INFO 3392 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:13:52.212  INFO 3392 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:13:52.297  INFO 3392 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:13:52.372  INFO 3392 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:13:52.831 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:13:52.877 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 10:13:52.943 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:13:52.944 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:13:52.944 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:13:52.945 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:13:52.997 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:13:53.059 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:13:53.100 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:13:53.165 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:13:53.200 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 10:13:53.257 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:13:53.328 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:13:53.394  INFO 3392 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:13:53.424  INFO 3392 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:13:54.121  INFO 3392 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b2bf8f7, org.springframework.security.web.context.SecurityContextPersistenceFilter@21126cf8, org.springframework.security.web.header.HeaderWriterFilter@cff6dfc, org.springframework.security.web.authentication.logout.LogoutFilter@57c24047, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@41920275, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21f30e77, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37d7a695, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f2437eb, org.springframework.security.web.session.SessionManagementFilter@7111bbf, org.springframework.security.web.access.ExceptionTranslationFilter@34204411, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@73eb0e6c]
2019-05-06 10:13:54.128  INFO 3392 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@1ea7bc2b, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@502e1b3e, org.springframework.security.web.context.SecurityContextPersistenceFilter@62616fbf, org.springframework.security.web.header.HeaderWriterFilter@44b42992, org.springframework.security.web.authentication.logout.LogoutFilter@507ed809, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@26797aa7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31fbb110, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54e6e604, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55d7ca0c, org.springframework.security.web.session.SessionManagementFilter@6f9d6039, org.springframework.security.web.access.ExceptionTranslationFilter@61964be8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@32aabc1d]
2019-05-06 10:13:54.132  INFO 3392 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c32a7db, org.springframework.security.web.context.SecurityContextPersistenceFilter@f31d6c6, org.springframework.security.web.header.HeaderWriterFilter@26756c97, org.springframework.security.web.authentication.logout.LogoutFilter@5aa02e0e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@655314a2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5b26444a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@627539d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e653d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ffa96ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@242fdfd2, org.springframework.security.web.session.SessionManagementFilter@5e515b20, org.springframework.security.web.access.ExceptionTranslationFilter@54eb363f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d6d7e23]
2019-05-06 10:13:54.254  INFO 3392 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:13:54.275  WARN 3392 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:13:54.436  INFO 3392 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:13:54.517  INFO 3392 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:13:54.559 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:13:54.565 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:13:54.579 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:13:54.583 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:13:54.595 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:13:54.596 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:13:54.596 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:13:54.597 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:13:54.597 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:13:54.598 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:13:54.598 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:13:54.599 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:13:54.600 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:13:54.600 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 10:13:54.600 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:13:54.600 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:13:54.743 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:13:54.745 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:13:54.746 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:13:54.746 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:13:54.746 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:13:54.746 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:13:54.746 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$Bcpfh8QFgaZnOdC44sygr.953z0ss1jmRzcgwGJlRaL/8DQZ8F2uC]
2019-05-06 10:13:54.746 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:13:54.884 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:13:54.885 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:13:54.887 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:13:54.887 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:13:54.887 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:13:54.887 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:13:54.887 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:13:54.887 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:13:54.887 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$U2nq4bgZRNmMwKJyCthwF.9ssH5vewcgMbDDc95ASHVJr6MTYQ0U6]
2019-05-06 10:13:54.887 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:13:54.888 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:13:54.888 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:13:54.888 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:13:54.888 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:13:54.888 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 10:13:54.891 DEBUG 3392 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:13:54.891 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:13:54.891 TRACE 3392 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:13:54.907  INFO 3392 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:13:54.911  INFO 3392 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.869 seconds (JVM running for 5.485)
2019-05-06 10:13:55.198  INFO 3392 --- [RMI TCP Connection(3)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:13:55.198  INFO 3392 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:13:55.204  INFO 3392 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 10:14:42.774 ERROR 3392 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:22)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:12)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 10:16:00.064  INFO 3516 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 3516 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:16:00.065  INFO 3516 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:16:00.093  INFO 3516 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:16:00.094  INFO 3516 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:16:00.712  INFO 3516 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:16:00.763  INFO 3516 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48ms. Found 6 repository interfaces.
2019-05-06 10:16:01.010  INFO 3516 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$da8fd554] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:16:01.031  INFO 3516 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$733d9d8e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:16:01.034  INFO 3516 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:16:01.035  INFO 3516 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@14f3fcf4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:16:01.037  INFO 3516 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$98124040] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:16:01.038  INFO 3516 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:16:01.353  INFO 3516 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:16:01.368  INFO 3516 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:16:01.368  INFO 3516 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:16:01.456  INFO 3516 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:16:01.457  INFO 3516 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1363 ms
2019-05-06 10:16:01.727  INFO 3516 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:16:01.789  INFO 3516 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:16:01.818  INFO 3516 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:16:01.849  INFO 3516 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:16:01.850  INFO 3516 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:16:01.920  INFO 3516 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:16:02.000  INFO 3516 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:16:02.377 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:16:02.438 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 10:16:02.491 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:16:02.492 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:16:02.493 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:16:02.493 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:16:02.546 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:16:02.573 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:16:02.617 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:16:02.649 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:16:02.708 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 10:16:02.779 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:16:02.830 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:16:02.874  INFO 3516 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:16:02.908  INFO 3516 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:16:03.601  INFO 3516 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35ff1d11, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ec473cb, org.springframework.security.web.header.HeaderWriterFilter@254de66, org.springframework.security.web.authentication.logout.LogoutFilter@17f8520e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@56309cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49ffc97d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60707ea5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38e468c5, org.springframework.security.web.session.SessionManagementFilter@362f710b, org.springframework.security.web.access.ExceptionTranslationFilter@54df6efa, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@38b53559]
2019-05-06 10:16:03.607  INFO 3516 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@d53cb5f, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@417f90ea, org.springframework.security.web.context.SecurityContextPersistenceFilter@55d7ca0c, org.springframework.security.web.header.HeaderWriterFilter@1ea7bc2b, org.springframework.security.web.authentication.logout.LogoutFilter@31c86499, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@2b61175b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32faceff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@111f7a6f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ad5b829, org.springframework.security.web.session.SessionManagementFilter@502e1b3e, org.springframework.security.web.access.ExceptionTranslationFilter@32aabc1d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22231ac1]
2019-05-06 10:16:03.611  INFO 3516 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@272ea267, org.springframework.security.web.context.SecurityContextPersistenceFilter@477bdcf4, org.springframework.security.web.header.HeaderWriterFilter@3f484e74, org.springframework.security.web.authentication.logout.LogoutFilter@70bbd104, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@51d5f563, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@693e3cab, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@113cb4de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5365a683, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ea36975, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e4b9ccd, org.springframework.security.web.session.SessionManagementFilter@338e8a80, org.springframework.security.web.access.ExceptionTranslationFilter@7b4de8f0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@22ada2a6]
2019-05-06 10:16:03.707  INFO 3516 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:16:03.728  WARN 3516 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:16:03.877  INFO 3516 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:16:03.955  INFO 3516 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:16:03.993 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:16:04.000 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:16:04.012 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:16:04.015 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:16:04.028 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:16:04.028 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:16:04.028 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:16:04.029 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:16:04.029 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:16:04.030 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:16:04.031 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:16:04.032 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:16:04.032 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:16:04.032 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 10:16:04.032 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:16:04.032 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:16:04.177 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:16:04.177 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:16:04.178 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:16:04.178 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:16:04.178 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:16:04.178 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:16:04.178 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$TK7ss3TNIaVVu1dwyoYWf.m2v6gDq.qvYEyikfQuzhaw30MjlMN3G]
2019-05-06 10:16:04.178 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:16:04.316 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:16:04.316 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:16:04.318 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:16:04.319 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:16:04.319 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:16:04.319 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:16:04.319 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:16:04.319 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:16:04.319 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$uusQyqs1B1AuMAhRGpISAeeZs6pJpOdHv.jacafuoz4RvaOad9aSS]
2019-05-06 10:16:04.319 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:16:04.320 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:16:04.320 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:16:04.320 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:16:04.320 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:16:04.320 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 10:16:04.322 DEBUG 3516 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:16:04.323 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:16:04.323 TRACE 3516 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:16:04.338  INFO 3516 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:16:04.340  INFO 3516 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.478 seconds (JVM running for 5.095)
2019-05-06 10:16:04.556  INFO 3516 --- [RMI TCP Connection(2)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:16:04.558  INFO 3516 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:16:04.564  INFO 3516 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 10:16:14.991  INFO 3516 --- [http-nio-8080-exec-3] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 10:16:15.148 DEBUG 3516 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        applicatio0_.id as id1_0_,
        applicatio0_.accountNonExpired as accountN2_0_,
        applicatio0_.accountNonLocked as accountN3_0_,
        applicatio0_.credentialsNonExpired as credenti4_0_,
        applicatio0_.email as email5_0_,
        applicatio0_.enabled as enabled6_0_,
        applicatio0_.password as password7_0_,
        applicatio0_.username as username8_0_ 
    from
        ApplicationUser applicatio0_ 
    where
        applicatio0_.username=?
2019-05-06 10:16:15.149 TRACE 3516 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [john]
2019-05-06 10:16:15.155 DEBUG 3516 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        users_roles roles0_ 
    inner join
        Role role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2019-05-06 10:16:15.155 TRACE 3516 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:16:15.296  INFO 3516 --- [http-nio-8080-exec-3] e.d.U.AuthenticationSuccessEventListener : Username is john
2019-05-06 10:16:15.376  INFO 3516 --- [http-nio-8080-exec-3] o.s.s.o.p.token.store.JdbcTokenStore     : Failed to find access token for token eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJqb2huIiwic2NvcGUiOlsiYWxsIl0sIm9yZ2FuaXphdGlvbiI6ImpvaG5QVnRLIiwiZXhwIjoxNTU3MTI3Mjc1LCJhdXRob3JpdGllcyI6WyJST0xFX0FETUlOIl0sImp0aSI6ImVmNTE5Nzk5LTIyZmYtNGJiMi04OTE2LTQ2NzBhNDU1MTY3ZSIsImNsaWVudF9pZCI6InRyYWNvbSJ9.EyFObwvQm3GwTtA4-6IKDzpHp6keb_sH_CBm4aSWrE-YHe-Ol1WhZ-tfuqS8kT7f7sMUI2iUs2MAobK54q9M8LpTdeAKIFuRJ53-JlfjZLEsGzf9jkAJ_uOgOZ419-hyNCL00b2wE3u2k5Fj4Xdi6xQezcm-P686xeBKQl8RhdzACmJK6l4OlughyPChgf1yCo_RHliWV-rKTtzezsDJFmkYuOKvXIPIPRPcwWtsl4wpIq_h-xguy4uS_5loShPhP9j35b_HWjLKQbot01QS2iJkQwDESGpxbR2sQJ5izXrJEQqtI_ujKzzy4Xh89atrd688Zt7OFwJEhBkTxaIOfg
2019-05-06 10:19:08.356  INFO 9520 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 9520 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:19:08.359  INFO 9520 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:19:08.397  INFO 9520 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:19:08.397  INFO 9520 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:19:09.003  INFO 9520 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:19:09.052  INFO 9520 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 repository interfaces.
2019-05-06 10:19:09.287  INFO 9520 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$743c18c5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:19:09.307  INFO 9520 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ce9e0ff] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:19:09.310  INFO 9520 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:19:09.311  INFO 9520 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@287362e9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:19:09.313  INFO 9520 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$31be83b1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:19:09.315  INFO 9520 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:19:09.624  INFO 9520 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:19:09.637  INFO 9520 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:19:09.638  INFO 9520 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:19:09.705  INFO 9520 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:19:09.706  INFO 9520 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1309 ms
2019-05-06 10:19:09.971  INFO 9520 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:19:10.028  INFO 9520 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:19:10.057  INFO 9520 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:19:10.087  INFO 9520 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:19:10.088  INFO 9520 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:19:10.155  INFO 9520 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:19:10.227  INFO 9520 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:19:10.607 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:19:10.662 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 10:19:10.688 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:19:10.689 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:19:10.689 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:19:10.690 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:19:10.773 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:19:10.820 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:19:10.922 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:19:11.008 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:19:11.063 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 10:19:11.097 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:19:11.167 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:19:11.215  INFO 9520 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:19:11.243  INFO 9520 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:19:11.907  INFO 9520 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@41488feb, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ecd5e88, org.springframework.security.web.header.HeaderWriterFilter@5ce84f3d, org.springframework.security.web.authentication.logout.LogoutFilter@469c1a78, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@d0db25e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@699ecbcf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3753d36b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6dd7056f, org.springframework.security.web.session.SessionManagementFilter@29b2520, org.springframework.security.web.access.ExceptionTranslationFilter@1238bdac, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2fdacb5f]
2019-05-06 10:19:11.912  INFO 9520 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@149227db, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3dc18321, org.springframework.security.web.context.SecurityContextPersistenceFilter@41763388, org.springframework.security.web.header.HeaderWriterFilter@f94c088, org.springframework.security.web.authentication.logout.LogoutFilter@6bd8749d, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@2df2fdcd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65be2de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fe2f21d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63779040, org.springframework.security.web.session.SessionManagementFilter@77567501, org.springframework.security.web.access.ExceptionTranslationFilter@4030fb5b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@33eb4b79]
2019-05-06 10:19:11.917  INFO 9520 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@268e24ab, org.springframework.security.web.context.SecurityContextPersistenceFilter@60de0207, org.springframework.security.web.header.HeaderWriterFilter@656b6152, org.springframework.security.web.authentication.logout.LogoutFilter@731fd504, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@51961c1e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@63c12d41, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@e3f25bd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43597872, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d06f0ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14a3ff97, org.springframework.security.web.session.SessionManagementFilter@22879bc0, org.springframework.security.web.access.ExceptionTranslationFilter@2eb1a2ac, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@40eb4da0]
2019-05-06 10:19:12.023  INFO 9520 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:19:12.044  WARN 9520 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:19:12.190  INFO 9520 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:19:12.267  INFO 9520 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:19:12.307 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:19:12.313 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:19:12.324 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:19:12.328 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:19:12.338 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:19:12.339 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:19:12.339 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:19:12.340 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:19:12.340 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:19:12.341 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:19:12.341 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:19:12.342 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:19:12.342 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:19:12.342 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 10:19:12.342 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:19:12.342 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:19:12.484 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:19:12.485 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:19:12.485 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:19:12.486 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:19:12.486 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:19:12.486 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:19:12.486 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$dun..omAcf25sVBXI/oA6uFz1in0.uekl.0nzTZOMx9sDxbil8grK]
2019-05-06 10:19:12.486 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:19:12.622 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:19:12.623 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:19:12.625 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:19:12.625 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:19:12.626 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:19:12.626 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:19:12.626 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:19:12.626 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:19:12.626 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$eA.vy1qGt4M46JzJQIwg6.pY199txVw.smA47164tK9TU27yoD0oa]
2019-05-06 10:19:12.626 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:19:12.626 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:19:12.626 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:19:12.626 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:19:12.626 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:19:12.626 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 10:19:12.628 DEBUG 9520 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:19:12.629 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:19:12.629 TRACE 9520 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:19:12.644  INFO 9520 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:19:12.646  INFO 9520 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.488 seconds (JVM running for 5.061)
2019-05-06 10:19:12.905  INFO 9520 --- [RMI TCP Connection(3)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:19:12.906  INFO 9520 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:19:12.912  INFO 9520 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 10:19:16.527 ERROR 9520 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:25)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:14)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 10:23:24.094  INFO 2308 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 2308 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:23:24.096  INFO 2308 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:23:24.127  INFO 2308 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:23:24.128  INFO 2308 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:23:24.707  INFO 2308 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:23:24.757  INFO 2308 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46ms. Found 6 repository interfaces.
2019-05-06 10:23:24.990  INFO 2308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$801bcc69] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:23:25.010  INFO 2308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$18c994a3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:23:25.014  INFO 2308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:23:25.015  INFO 2308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@13ea9a26' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:23:25.017  INFO 2308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$3d9e3755] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:23:25.018  INFO 2308 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:23:25.332  INFO 2308 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:23:25.345  INFO 2308 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:23:25.346  INFO 2308 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:23:25.415  INFO 2308 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:23:25.415  INFO 2308 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1287 ms
2019-05-06 10:23:25.678  INFO 2308 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:23:25.734  INFO 2308 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:23:25.763  INFO 2308 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:23:25.793  INFO 2308 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:23:25.794  INFO 2308 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:23:25.863  INFO 2308 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:23:25.935  INFO 2308 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:23:26.311 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:23:26.369 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 10:23:26.414 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:23:26.415 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:23:26.415 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:23:26.416 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:23:26.456 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:23:26.495 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:23:26.523 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:23:26.557 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:23:26.616 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 10:23:26.666 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:23:26.698 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:23:26.745  INFO 2308 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:23:26.775  INFO 2308 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:23:27.433  INFO 2308 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20d86f1f, org.springframework.security.web.context.SecurityContextPersistenceFilter@31afc083, org.springframework.security.web.header.HeaderWriterFilter@74c61369, org.springframework.security.web.authentication.logout.LogoutFilter@78aa4372, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4968495a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74e29ba1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24a777e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e24ee0c, org.springframework.security.web.session.SessionManagementFilter@3bfd4519, org.springframework.security.web.access.ExceptionTranslationFilter@7245f366, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@220c4659]
2019-05-06 10:23:27.438  INFO 2308 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@4540686e, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69aa4a7d, org.springframework.security.web.context.SecurityContextPersistenceFilter@13dfdfe6, org.springframework.security.web.header.HeaderWriterFilter@434f6062, org.springframework.security.web.authentication.logout.LogoutFilter@b6f933a, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@48aba742, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4627853e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ed3b1e8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f0258d1, org.springframework.security.web.session.SessionManagementFilter@56e14fc, org.springframework.security.web.access.ExceptionTranslationFilter@6f874556, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5d92ac87]
2019-05-06 10:23:27.442  INFO 2308 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23596379, org.springframework.security.web.context.SecurityContextPersistenceFilter@17be1538, org.springframework.security.web.header.HeaderWriterFilter@5895fb45, org.springframework.security.web.authentication.logout.LogoutFilter@11602d26, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@45d87a0f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7690e119, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1d6b5b40, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70be6e88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@786fc09, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3dd480ae, org.springframework.security.web.session.SessionManagementFilter@6c33aa9a, org.springframework.security.web.access.ExceptionTranslationFilter@49d5d659, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1f27f714]
2019-05-06 10:23:27.545  INFO 2308 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:23:27.566  WARN 2308 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:23:27.707  INFO 2308 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:23:27.781  INFO 2308 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:23:27.820 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:23:27.826 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:23:27.837 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:23:27.840 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:23:27.851 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:23:27.851 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:23:27.852 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:23:27.853 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:23:27.853 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:23:27.854 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:23:27.855 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:23:27.855 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:23:27.855 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:23:27.855 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 10:23:27.856 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:23:27.856 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:23:27.998 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:23:27.998 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:23:27.999 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:23:27.999 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:23:27.999 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:23:27.999 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:23:27.999 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$2QMWMh81Sjr77rZ6y2uXbOJ0GWUz7gBSBtE7chvGPz60.AfFRJwpy]
2019-05-06 10:23:27.999 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:23:28.136 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:23:28.137 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:23:28.139 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:23:28.139 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:23:28.139 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:23:28.139 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:23:28.140 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:23:28.140 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:23:28.140 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$rkCYUUwraG3kdVGeJNWjfOJirUY4T3yjpXx8yMKZEwMLwHxPj.pTy]
2019-05-06 10:23:28.140 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:23:28.140 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:23:28.140 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:23:28.140 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:23:28.140 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:23:28.140 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 10:23:28.143 DEBUG 2308 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:23:28.143 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:23:28.143 TRACE 2308 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:23:28.158  INFO 2308 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:23:28.160  INFO 2308 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.259 seconds (JVM running for 4.825)
2019-05-06 10:23:28.604  INFO 2308 --- [RMI TCP Connection(3)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:23:28.605  INFO 2308 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:23:28.611  INFO 2308 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 10:24:07.029 ERROR 2308 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:27)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:15)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 10:27:19.113  INFO 9432 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 9432 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:27:19.115  INFO 9432 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:27:19.145  INFO 9432 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:27:19.146  INFO 9432 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:27:19.734  INFO 9432 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:27:19.786  INFO 9432 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 repository interfaces.
2019-05-06 10:27:20.021  INFO 9432 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d9946307] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:27:20.059  INFO 9432 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$72422b41] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:27:20.062  INFO 9432 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:27:20.063  INFO 9432 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7e081e37' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:27:20.064  INFO 9432 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$9716cdf3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:27:20.065  INFO 9432 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:27:20.411  INFO 9432 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:27:20.426  INFO 9432 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:27:20.426  INFO 9432 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:27:20.505  INFO 9432 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:27:20.506  INFO 9432 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1360 ms
2019-05-06 10:27:20.791  INFO 9432 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:27:20.847  INFO 9432 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:27:20.877  INFO 9432 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:27:20.909  INFO 9432 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:27:20.909  INFO 9432 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:27:20.981  INFO 9432 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:27:21.056  INFO 9432 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:27:21.487 DEBUG 9432 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:27:21.580 DEBUG 9432 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:27:21.654  INFO 9432 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:27:21.694  INFO 9432 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:27:22.457  INFO 9432 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56ff6ad4, org.springframework.security.web.context.SecurityContextPersistenceFilter@32faceff, org.springframework.security.web.header.HeaderWriterFilter@32aabc1d, org.springframework.security.web.authentication.logout.LogoutFilter@979c8c7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3ab26666, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31c86499, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5aa02e0e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46db8a7, org.springframework.security.web.session.SessionManagementFilter@502e1b3e, org.springframework.security.web.access.ExceptionTranslationFilter@3d5e6332, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@26d24c81]
2019-05-06 10:27:22.463  INFO 9432 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@7c21dff4, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76f7e0a, org.springframework.security.web.context.SecurityContextPersistenceFilter@2012bd50, org.springframework.security.web.header.HeaderWriterFilter@4a076445, org.springframework.security.web.authentication.logout.LogoutFilter@1d0de489, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@4ccf7671, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a3b27e9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b6f4ba7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@634ad8bd, org.springframework.security.web.session.SessionManagementFilter@76661843, org.springframework.security.web.access.ExceptionTranslationFilter@564b8d06, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6cc7260c]
2019-05-06 10:27:22.467  INFO 9432 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@293a87b3, org.springframework.security.web.context.SecurityContextPersistenceFilter@66a8c022, org.springframework.security.web.header.HeaderWriterFilter@1963f8f6, org.springframework.security.web.authentication.logout.LogoutFilter@50f90359, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41dbeab, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@707064a5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@45518871, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1aa8bce1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c8a530a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@253ea42c, org.springframework.security.web.session.SessionManagementFilter@7a02d28c, org.springframework.security.web.access.ExceptionTranslationFilter@1a9cdc1a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ad15bcc]
2019-05-06 10:27:22.590  INFO 9432 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:27:22.612  WARN 9432 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:27:22.817  INFO 9432 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:27:22.908  INFO 9432 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:27:22.972 DEBUG 9432 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:27:22.984 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:27:23.005 DEBUG 9432 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:27:23.006 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:27:23.007 DEBUG 9432 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:27:23.007 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:27:23.157 DEBUG 9432 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:27:23.158 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:27:23.158 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:27:23.158 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:27:23.158 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:27:23.158 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:27:23.158 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$EEkm6/PmJYNmUa0w8u8l/eJXgr4oenSZshWM83ULmfQjBH2WnbJ.i]
2019-05-06 10:27:23.161 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:27:23.305 DEBUG 9432 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:27:23.305 DEBUG 9432 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:27:23.309 DEBUG 9432 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:27:23.310 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:27:23.310 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:27:23.310 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:27:23.310 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:27:23.311 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:27:23.311 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$NDP8LaM/qcTNaHcIxX27fe5.rqg09lguv498GdnmSm1nFeLNzzDwS]
2019-05-06 10:27:23.311 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:27:23.311 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:27:23.311 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:27:23.311 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:27:23.311 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:27:23.311 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [4]
2019-05-06 10:27:23.314 DEBUG 9432 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:27:23.314 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [2]
2019-05-06 10:27:23.314 TRACE 9432 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:27:23.331  INFO 9432 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:27:23.334  INFO 9432 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.442 seconds (JVM running for 5.032)
2019-05-06 10:27:23.607  INFO 9432 --- [RMI TCP Connection(3)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:27:23.608  INFO 9432 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:27:23.614  INFO 9432 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 10:44:36.330  INFO 4924 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 4924 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:44:36.331  INFO 4924 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:44:36.364  INFO 4924 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:44:36.365  INFO 4924 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:44:36.938  INFO 4924 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:44:36.988  INFO 4924 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 repository interfaces.
2019-05-06 10:44:37.209  INFO 4924 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$489064a7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:44:37.245  INFO 4924 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$e13e2ce1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:44:37.249  INFO 4924 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:44:37.250  INFO 4924 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@48f690fd' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:44:37.252  INFO 4924 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$612cf93] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:44:37.253  INFO 4924 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:44:37.560  INFO 4924 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:44:37.574  INFO 4924 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:44:37.574  INFO 4924 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:44:37.643  INFO 4924 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:44:37.644  INFO 4924 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1279 ms
2019-05-06 10:44:37.927  INFO 4924 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:44:37.990  INFO 4924 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:44:38.021  INFO 4924 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:44:38.052  INFO 4924 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:44:38.053  INFO 4924 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:44:38.121  INFO 4924 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:44:38.197  INFO 4924 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:44:38.583 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:44:38.627 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 10:44:38.716 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:44:38.719 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:44:38.722 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:44:38.724 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:44:38.769 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:44:38.801 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:44:38.826 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:44:38.858 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:44:38.932 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 10:44:39.017 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:44:39.065 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:44:39.132  INFO 4924 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:44:39.162  INFO 4924 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:44:40.039  INFO 4924 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@236abed2, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c37e41a, org.springframework.security.web.header.HeaderWriterFilter@638cd788, org.springframework.security.web.authentication.logout.LogoutFilter@7f4f6d43, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1c25e231, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f06ba1d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4382aae8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25ab7083, org.springframework.security.web.session.SessionManagementFilter@41c1b0eb, org.springframework.security.web.access.ExceptionTranslationFilter@72da74ea, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7efcd60]
2019-05-06 10:44:40.047  INFO 4924 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@6357110a, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62fccbe5, org.springframework.security.web.context.SecurityContextPersistenceFilter@199079b5, org.springframework.security.web.header.HeaderWriterFilter@78534822, org.springframework.security.web.authentication.logout.LogoutFilter@12908833, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@35c178b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22278b9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60523287, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c1d8c31, org.springframework.security.web.session.SessionManagementFilter@5c85c6b8, org.springframework.security.web.access.ExceptionTranslationFilter@33b50395, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b3b7a76]
2019-05-06 10:44:40.052  INFO 4924 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@343e90fc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c61bcc2, org.springframework.security.web.header.HeaderWriterFilter@1c28fb39, org.springframework.security.web.authentication.logout.LogoutFilter@d8f1727, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4753953, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3c392bce, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6e5f1ee1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f92e8fa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4383102, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ade31aa, org.springframework.security.web.session.SessionManagementFilter@2fa2f378, org.springframework.security.web.access.ExceptionTranslationFilter@1ccffbf7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@36be4f77]
2019-05-06 10:44:40.334  INFO 4924 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:44:40.378  WARN 4924 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:44:40.612  INFO 4924 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:44:40.696  INFO 4924 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:44:40.740 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:44:40.747 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:44:40.759 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:44:40.763 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:44:40.775 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:44:40.776 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:44:40.776 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:44:40.777 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:44:40.777 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:44:40.778 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:44:40.779 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:44:40.780 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:44:40.780 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:44:40.780 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 10:44:40.780 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:44:40.780 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:44:40.926 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:44:40.927 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:44:40.927 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:44:40.928 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:44:40.928 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:44:40.928 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:44:40.928 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$lVCAsg4Uk5VknmSoGq3J2eevhMgvzHGDiYs2FOKRue4kOAdFxD9O6]
2019-05-06 10:44:40.928 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:44:41.066 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:44:41.066 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:44:41.070 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:44:41.071 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:44:41.072 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:44:41.072 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:44:41.072 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:44:41.072 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:44:41.072 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$wZjw3d0UmCJF1K1RUNBKC.C1RihHv.CjfZ8bg/38HkUHB2UVSSS5.]
2019-05-06 10:44:41.072 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:44:41.072 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:44:41.072 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:44:41.072 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:44:41.072 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:44:41.073 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 10:44:41.075 DEBUG 4924 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:44:41.076 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:44:41.076 TRACE 4924 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:44:41.095  INFO 4924 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:44:41.098  INFO 4924 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.956 seconds (JVM running for 5.54)
2019-05-06 10:44:41.352  INFO 4924 --- [RMI TCP Connection(3)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:44:41.353  INFO 4924 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:44:41.360  INFO 4924 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2019-05-06 10:46:33.672 ERROR 4924 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:25)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:14)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 10:50:42.803  INFO 10320 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 10320 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:50:42.805  INFO 10320 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:50:42.834  INFO 10320 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:50:42.834  INFO 10320 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:50:43.416  INFO 10320 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:50:43.467  INFO 10320 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 repository interfaces.
2019-05-06 10:50:43.692  INFO 10320 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e97b10fa] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:50:43.728  INFO 10320 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$8228d934] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:50:43.731  INFO 10320 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:50:43.732  INFO 10320 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@55cc1d34' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:50:43.734  INFO 10320 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$a6fd7be6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:50:43.735  INFO 10320 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:50:44.049  INFO 10320 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:50:44.063  INFO 10320 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:50:44.063  INFO 10320 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:50:44.133  INFO 10320 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:50:44.133  INFO 10320 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1298 ms
2019-05-06 10:50:44.418  INFO 10320 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:50:44.478  INFO 10320 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:50:44.508  INFO 10320 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:50:44.539  INFO 10320 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:50:44.540  INFO 10320 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:50:44.609  INFO 10320 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:50:44.683  INFO 10320 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:50:45.060 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:50:45.097 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 10:50:45.148 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:50:45.150 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:50:45.152 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:50:45.153 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:50:45.214 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:50:45.278 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:50:45.318 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:50:45.341 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:50:45.372 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 10:50:45.426 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:50:45.470 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:50:45.513  INFO 10320 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:50:45.545  INFO 10320 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:50:46.223  INFO 10320 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@108ad3e3, org.springframework.security.web.context.SecurityContextPersistenceFilter@103e55ca, org.springframework.security.web.header.HeaderWriterFilter@1d851dd9, org.springframework.security.web.authentication.logout.LogoutFilter@77567501, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@68db6dc0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d637eb6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7adad9a7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@88a17fa, org.springframework.security.web.session.SessionManagementFilter@1d717448, org.springframework.security.web.access.ExceptionTranslationFilter@6efd3524, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@8a4880d]
2019-05-06 10:50:46.229  INFO 10320 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@496791dd, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@551b578, org.springframework.security.web.context.SecurityContextPersistenceFilter@587277d4, org.springframework.security.web.header.HeaderWriterFilter@4abcd5b7, org.springframework.security.web.authentication.logout.LogoutFilter@6ee0d3bf, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@e3def2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2027e0e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c9a883e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1482e268, org.springframework.security.web.session.SessionManagementFilter@108e42d0, org.springframework.security.web.access.ExceptionTranslationFilter@73e1799b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a4ad784]
2019-05-06 10:50:46.233  INFO 10320 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c4f6e01, org.springframework.security.web.context.SecurityContextPersistenceFilter@307597d3, org.springframework.security.web.header.HeaderWriterFilter@25d4fa65, org.springframework.security.web.authentication.logout.LogoutFilter@64e462cb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6804022, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7833a911, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@39bce338, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73418adf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71c44100, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@336cd280, org.springframework.security.web.session.SessionManagementFilter@757f9031, org.springframework.security.web.access.ExceptionTranslationFilter@67148c7e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4579f463]
2019-05-06 10:50:46.348  INFO 10320 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:50:46.371  WARN 10320 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:50:46.521  INFO 10320 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:50:46.600  INFO 10320 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:50:46.641 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:50:46.648 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:50:46.659 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:50:46.845 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:50:46.860 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:50:46.861 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:50:46.861 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:50:46.862 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:50:46.863 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:50:46.864 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:50:46.865 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:50:46.866 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:50:46.866 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:50:46.867 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 10:50:46.867 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:50:46.867 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:50:47.008 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:50:47.009 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:50:47.010 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:50:47.010 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:50:47.010 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:50:47.010 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:50:47.010 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$ghJ7BBOWe881e4ysuiFxfeVjdGwrvl/53v4gQcSVLRNc23QahooAa]
2019-05-06 10:50:47.010 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:50:47.151 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:50:47.152 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:50:47.155 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:50:47.155 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:50:47.156 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:50:47.156 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:50:47.156 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:50:47.156 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:50:47.156 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$R49i.2uqakCeLTEY0/hTLe68NKhj54PXCMcAEVQLFu6fb8Jg1yiTG]
2019-05-06 10:50:47.156 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:50:47.156 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:50:47.156 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:50:47.156 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:50:47.156 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:50:47.156 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 10:50:47.160 DEBUG 10320 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:50:47.160 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:50:47.160 TRACE 10320 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:50:47.176  INFO 10320 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:50:47.178  INFO 10320 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.609 seconds (JVM running for 5.208)
2019-05-06 10:50:47.716  INFO 10320 --- [RMI TCP Connection(1)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:50:47.717  INFO 10320 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:50:47.723  INFO 10320 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 10:50:55.444  INFO 10320 --- [http-nio-8080-exec-3] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 10:50:55.600 DEBUG 10320 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        applicatio0_.id as id1_0_,
        applicatio0_.accountNonExpired as accountN2_0_,
        applicatio0_.accountNonLocked as accountN3_0_,
        applicatio0_.credentialsNonExpired as credenti4_0_,
        applicatio0_.email as email5_0_,
        applicatio0_.enabled as enabled6_0_,
        applicatio0_.password as password7_0_,
        applicatio0_.username as username8_0_ 
    from
        ApplicationUser applicatio0_ 
    where
        applicatio0_.username=?
2019-05-06 10:50:55.600 TRACE 10320 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [john]
2019-05-06 10:50:55.604 DEBUG 10320 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        users_roles roles0_ 
    inner join
        Role role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2019-05-06 10:50:55.605 TRACE 10320 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:50:55.745  INFO 10320 --- [http-nio-8080-exec-3] e.d.U.AuthenticationSuccessEventListener : Username is john
2019-05-06 10:50:55.788  INFO 10320 --- [http-nio-8080-exec-3] o.s.s.o.p.token.store.JdbcTokenStore     : Failed to find access token for token eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJqb2huIiwic2NvcGUiOlsiYWxsIl0sIm9yZ2FuaXphdGlvbiI6ImpvaG5aZXJZIiwiZXhwIjoxNTU3MTI5MzU1LCJhdXRob3JpdGllcyI6WyJST0xFX0FETUlOIl0sImp0aSI6IjhmMzVmMjg2LTlmNDQtNGMzOS1hZjVkLWFiMDRhY2IwNTU4YiIsImNsaWVudF9pZCI6InRyYWNvbSJ9.Azxg7iuBBVuOdSWsI0jZ3UQGR9pT1AhZmEVyDI5c9_r1SL4DhW2Y4dPfcFDd1wkWqs1nQKISLzFmOuJ0V1a355eI8XWDqclAD_eS_xUZYSSqAPEdA1SpGRC5VOx8yNJMfNTynGvuig7lCwHVr20BPEdoxckPfACNE_8vRXPoitXTwIa_zFozv-QlbRuIrqJOY05h7Xc6qtmrgAFr48YTuPjQMqcR8KcFxw8vkAGSzGKbHGIP-iIlI8BakYv3Bk4FDqHtZux6HaUUTb006pG715DSzBcVbzFH5Th-awlZ4tREgVdHBzsN-8PgTSc63tfruZxLP8IMn5pOsK8Nm-GShQ
2019-05-06 10:52:03.570  INFO 16016 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 16016 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:52:03.572  INFO 16016 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:52:03.606  INFO 16016 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:52:03.606  INFO 16016 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:52:04.166  INFO 16016 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:52:04.215  INFO 16016 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 repository interfaces.
2019-05-06 10:52:04.443  INFO 16016 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$389465a6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:52:04.465  INFO 16016 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$d1422de0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:52:04.469  INFO 16016 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:52:04.470  INFO 16016 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@27252eb0' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:52:04.470  INFO 16016 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f616d092] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:52:04.471  INFO 16016 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:52:04.779  INFO 16016 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:52:04.793  INFO 16016 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:52:04.793  INFO 16016 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:52:04.861  INFO 16016 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:52:04.862  INFO 16016 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1256 ms
2019-05-06 10:52:05.125  INFO 16016 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:52:05.181  INFO 16016 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:52:05.210  INFO 16016 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:52:05.240  INFO 16016 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:52:05.240  INFO 16016 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:52:05.307  INFO 16016 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:52:05.379  INFO 16016 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:52:05.758 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:52:05.813 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 10:52:05.868 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:52:05.871 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:52:05.873 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:52:05.875 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:52:05.908 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:52:05.928 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:52:05.964 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:52:05.986 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:52:06.029 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 10:52:06.078 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:52:06.162 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:52:06.236  INFO 16016 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:52:06.274  INFO 16016 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:52:06.922  INFO 16016 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1fa58586, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e2b5d65, org.springframework.security.web.header.HeaderWriterFilter@cb5a0ea, org.springframework.security.web.authentication.logout.LogoutFilter@2a2b20c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7248dce9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f09686, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@330180cf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c49bf75, org.springframework.security.web.session.SessionManagementFilter@6a3ae05b, org.springframework.security.web.access.ExceptionTranslationFilter@4e218e09, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@476a7268]
2019-05-06 10:52:06.928  INFO 16016 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@399324d3, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5300aefc, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ea85605, org.springframework.security.web.header.HeaderWriterFilter@9325577, org.springframework.security.web.authentication.logout.LogoutFilter@7665cd22, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@4912e352, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46e7cdc1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d65b187, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46e43793, org.springframework.security.web.session.SessionManagementFilter@6489f455, org.springframework.security.web.access.ExceptionTranslationFilter@3feaf9a8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e2757b1]
2019-05-06 10:52:06.931  INFO 16016 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16f9709c, org.springframework.security.web.context.SecurityContextPersistenceFilter@5efaaf2d, org.springframework.security.web.header.HeaderWriterFilter@1d1a2c71, org.springframework.security.web.authentication.logout.LogoutFilter@52bfe725, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@45a3f2a3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@59b7b8f9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2a44eb0d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c6b8fe7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@605e57bf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3896192b, org.springframework.security.web.session.SessionManagementFilter@434f43fe, org.springframework.security.web.access.ExceptionTranslationFilter@5be520dd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@61be7fd9]
2019-05-06 10:52:07.036  INFO 16016 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:52:07.056  WARN 16016 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:52:07.194  INFO 16016 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:52:07.269  INFO 16016 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:52:07.307 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:52:07.313 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:52:07.325 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:52:07.327 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:52:07.338 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:52:07.339 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:52:07.339 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:52:07.340 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:52:07.340 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:52:07.341 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:52:07.342 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:52:07.343 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:52:07.343 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:52:07.343 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 10:52:07.343 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:52:07.343 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:52:07.486 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:52:07.486 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:52:07.487 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:52:07.487 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:52:07.487 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:52:07.487 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:52:07.487 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$BouKP2DkXL.cub6DOZ21u.0yzfF4jdy3JkLgT.4KlY0UinXMd2Xru]
2019-05-06 10:52:07.487 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:52:07.623 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:52:07.624 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:52:07.626 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:52:07.626 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:52:07.627 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:52:07.627 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:52:07.627 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:52:07.627 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:52:07.627 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$qRQR9mQZMGMpPY3HIcqtr.TLKIGrHIZII8nnU743yOJvHu9/E8wAO]
2019-05-06 10:52:07.627 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:52:07.627 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:52:07.627 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:52:07.627 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:52:07.627 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:52:07.627 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 10:52:07.630 DEBUG 16016 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:52:07.630 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:52:07.630 TRACE 16016 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:52:07.646  INFO 16016 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:52:07.648  INFO 16016 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.259 seconds (JVM running for 4.828)
2019-05-06 10:52:08.079  INFO 16016 --- [RMI TCP Connection(3)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:52:08.080  INFO 16016 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:52:08.086  INFO 16016 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 10:52:15.316  INFO 16016 --- [http-nio-8080-exec-2] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 10:52:15.326 DEBUG 16016 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        userattemp0_.id as id1_5_,
        userattemp0_.attempts as attempts2_5_,
        userattemp0_.lastModified as lastModi3_5_,
        userattemp0_.username as username4_5_ 
    from
        UserAttempts userattemp0_ 
    where
        userattemp0_.username=?
2019-05-06 10:52:15.327 TRACE 16016 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [tracom]
2019-05-06 10:54:43.655  INFO 13248 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 13248 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:54:43.657  INFO 13248 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:54:43.692  INFO 13248 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:54:43.692  INFO 13248 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:54:44.268  INFO 13248 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:54:44.317  INFO 13248 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 repository interfaces.
2019-05-06 10:54:44.550  INFO 13248 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$a94216d0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:54:44.575  INFO 13248 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$41efdf0a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:54:44.578  INFO 13248 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:54:44.579  INFO 13248 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4eeeca6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:54:44.581  INFO 13248 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$66c481bc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:54:44.582  INFO 13248 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:54:44.890  INFO 13248 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:54:44.904  INFO 13248 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:54:44.904  INFO 13248 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:54:44.972  INFO 13248 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:54:44.973  INFO 13248 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1280 ms
2019-05-06 10:54:45.246  INFO 13248 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:54:45.302  INFO 13248 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:54:45.331  INFO 13248 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:54:45.360  INFO 13248 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:54:45.360  INFO 13248 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:54:45.430  INFO 13248 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:54:45.503  INFO 13248 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:54:45.864 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:54:45.916 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 10:54:45.956 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:54:45.957 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:54:45.958 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:54:45.959 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:54:46.005 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:54:46.034 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:54:46.080 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:54:46.113 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:54:46.150 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 10:54:46.184 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:54:46.226 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:54:46.271  INFO 13248 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:54:46.313  INFO 13248 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:54:46.970  INFO 13248 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e4b9ccd, org.springframework.security.web.context.SecurityContextPersistenceFilter@77187771, org.springframework.security.web.header.HeaderWriterFilter@4b2bf8f7, org.springframework.security.web.authentication.logout.LogoutFilter@408a5131, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3bc90858, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13b2b9fa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@507ed809, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20cb148a, org.springframework.security.web.session.SessionManagementFilter@5d50e0b3, org.springframework.security.web.access.ExceptionTranslationFilter@42a002ce, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2ea36975]
2019-05-06 10:54:46.975  INFO 13248 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@46db8a7, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4eb8c0df, org.springframework.security.web.context.SecurityContextPersistenceFilter@209dfde7, org.springframework.security.web.header.HeaderWriterFilter@7e5a31d4, org.springframework.security.web.authentication.logout.LogoutFilter@49642be8, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@4749bc2a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7199eed0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e62a5a6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28d36925, org.springframework.security.web.session.SessionManagementFilter@3ab5a496, org.springframework.security.web.access.ExceptionTranslationFilter@42c262f6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@56ff6ad4]
2019-05-06 10:54:46.979  INFO 13248 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e92059d, org.springframework.security.web.context.SecurityContextPersistenceFilter@76661843, org.springframework.security.web.header.HeaderWriterFilter@564b8d06, org.springframework.security.web.authentication.logout.LogoutFilter@1d0de489, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1af9d586, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5b6f4ba7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6dbf3312, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2012bd50, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a3b27e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@dce13ae, org.springframework.security.web.session.SessionManagementFilter@4a076445, org.springframework.security.web.access.ExceptionTranslationFilter@37ec29c6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@40b404b7]
2019-05-06 10:54:47.090  INFO 13248 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:54:47.110  WARN 13248 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:54:47.251  INFO 13248 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:54:47.323  INFO 13248 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:54:47.361 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:54:47.367 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:54:47.378 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:54:47.382 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:54:47.392 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:54:47.392 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:54:47.393 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:54:47.394 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:54:47.394 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:54:47.395 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:54:47.395 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:54:47.397 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:54:47.397 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:54:47.397 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 10:54:47.397 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:54:47.397 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:54:47.539 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:54:47.540 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:54:47.540 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:54:47.541 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:54:47.541 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:54:47.541 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:54:47.541 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$J/IZLf7sQFyoZZ5poqnj1OffK/Bn5YjHsq12/ipNEOc6I/neJybh2]
2019-05-06 10:54:47.541 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:54:47.679 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:54:47.679 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:54:47.681 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:54:47.682 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:54:47.682 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:54:47.682 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:54:47.682 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:54:47.682 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:54:47.682 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$5JnqLElpJumg4eFwDqd5fuGUWY8BpJffOUWbtvi3wn2AJEvdY279y]
2019-05-06 10:54:47.682 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:54:47.683 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:54:47.683 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:54:47.683 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:54:47.683 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:54:47.683 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 10:54:47.685 DEBUG 13248 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:54:47.686 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:54:47.686 TRACE 13248 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:54:47.700  INFO 13248 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:54:47.703  INFO 13248 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.241 seconds (JVM running for 4.812)
2019-05-06 10:54:48.156  INFO 13248 --- [RMI TCP Connection(3)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:54:48.157  INFO 13248 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:54:48.164  INFO 13248 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 10:55:08.612  INFO 13248 --- [http-nio-8080-exec-1] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 10:55:08.623 DEBUG 13248 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        userattemp0_.id as id1_5_,
        userattemp0_.attempts as attempts2_5_,
        userattemp0_.lastModified as lastModi3_5_,
        userattemp0_.username as username4_5_ 
    from
        UserAttempts userattemp0_ 
    where
        userattemp0_.username=?
2019-05-06 10:55:08.623 TRACE 13248 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [tracom]
2019-05-06 10:56:33.308  INFO 4928 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 4928 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:56:33.310  INFO 4928 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:56:33.338  INFO 4928 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:56:33.339  INFO 4928 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:56:33.892  INFO 4928 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:56:33.943  INFO 4928 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46ms. Found 6 repository interfaces.
2019-05-06 10:56:34.171  INFO 4928 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$56dd29a5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:56:34.208  INFO 4928 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ef8af1df] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:56:34.212  INFO 4928 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:56:34.213  INFO 4928 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@8bcf1c9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:56:34.215  INFO 4928 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$145f9491] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:56:34.216  INFO 4928 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:56:34.531  INFO 4928 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:56:34.545  INFO 4928 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:56:34.545  INFO 4928 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:56:34.614  INFO 4928 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:56:34.614  INFO 4928 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1275 ms
2019-05-06 10:56:34.891  INFO 4928 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:56:34.955  INFO 4928 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:56:34.984  INFO 4928 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:56:35.015  INFO 4928 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:56:35.016  INFO 4928 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:56:35.085  INFO 4928 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:56:35.158  INFO 4928 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:56:35.527 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:56:35.558 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 10:56:35.588 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:56:35.589 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:56:35.589 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:56:35.590 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:56:35.650 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:56:35.680 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:56:35.765 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:56:35.839 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:56:35.889 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 10:56:35.920 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:56:35.972 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:56:36.006  INFO 4928 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:56:36.037  INFO 4928 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:56:36.715  INFO 4928 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74fe2397, org.springframework.security.web.context.SecurityContextPersistenceFilter@11314efd, org.springframework.security.web.header.HeaderWriterFilter@318ce92f, org.springframework.security.web.authentication.logout.LogoutFilter@7c1fdcd8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@392e0807, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@457c85aa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1510a31a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17e43ac3, org.springframework.security.web.session.SessionManagementFilter@75276f45, org.springframework.security.web.access.ExceptionTranslationFilter@25fd8cf7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@61c2f2cb]
2019-05-06 10:56:36.721  INFO 4928 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@57b68a56, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aef27e4, org.springframework.security.web.context.SecurityContextPersistenceFilter@5827594c, org.springframework.security.web.header.HeaderWriterFilter@7036a632, org.springframework.security.web.authentication.logout.LogoutFilter@60110d0, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7b4dd2bc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45ea2ccb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@281572, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a5c8931, org.springframework.security.web.session.SessionManagementFilter@7c3f521d, org.springframework.security.web.access.ExceptionTranslationFilter@13e1c62d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@40212e83]
2019-05-06 10:56:36.725  INFO 4928 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77c20215, org.springframework.security.web.context.SecurityContextPersistenceFilter@18c0905, org.springframework.security.web.header.HeaderWriterFilter@24a468c5, org.springframework.security.web.authentication.logout.LogoutFilter@1e421f34, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@65c5526e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7fe7f5ec, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3317bd77, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@794d9706, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ea82aaa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c943467, org.springframework.security.web.session.SessionManagementFilter@56fae69d, org.springframework.security.web.access.ExceptionTranslationFilter@50450f95, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5181dba1]
2019-05-06 10:56:36.840  INFO 4928 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:56:36.861  WARN 4928 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:56:37.007  INFO 4928 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:56:37.080  INFO 4928 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:56:37.119 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:56:37.125 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:56:37.137 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:56:37.140 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:56:37.151 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:56:37.151 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:56:37.151 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:56:37.152 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:56:37.152 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:56:37.152 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:56:37.153 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:56:37.154 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:56:37.154 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:56:37.154 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 10:56:37.155 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:56:37.155 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:56:37.298 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:56:37.299 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:56:37.299 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:56:37.300 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:56:37.300 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:56:37.300 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:56:37.300 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$eXQBgR1f4VgabcAYp18NB.O1w4xswcL76gFmJ3lnvXqOPD4n6JLMu]
2019-05-06 10:56:37.300 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:56:37.438 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:56:37.439 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:56:37.441 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:56:37.442 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:56:37.442 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:56:37.442 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:56:37.442 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:56:37.442 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:56:37.442 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$U/oI4g01pTjOu/SNk5.N3.aS7vgNj9FjnySwrLP7kmrMGl5d7o0OO]
2019-05-06 10:56:37.442 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:56:37.443 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:56:37.443 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:56:37.443 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:56:37.443 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:56:37.443 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 10:56:37.446 DEBUG 4928 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:56:37.447 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:56:37.447 TRACE 4928 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:56:37.466  INFO 4928 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:56:37.468  INFO 4928 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.367 seconds (JVM running for 4.963)
2019-05-06 10:56:37.853  INFO 4928 --- [RMI TCP Connection(5)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:56:37.855  INFO 4928 --- [RMI TCP Connection(5)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:56:37.860  INFO 4928 --- [RMI TCP Connection(5)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2019-05-06 10:57:49.001  INFO 4928 --- [http-nio-8080-exec-9] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 10:57:49.158 DEBUG 4928 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        applicatio0_.id as id1_0_,
        applicatio0_.accountNonExpired as accountN2_0_,
        applicatio0_.accountNonLocked as accountN3_0_,
        applicatio0_.credentialsNonExpired as credenti4_0_,
        applicatio0_.email as email5_0_,
        applicatio0_.enabled as enabled6_0_,
        applicatio0_.password as password7_0_,
        applicatio0_.username as username8_0_ 
    from
        ApplicationUser applicatio0_ 
    where
        applicatio0_.username=?
2019-05-06 10:57:49.158 TRACE 4928 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [john]
2019-05-06 10:57:49.163 DEBUG 4928 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        users_roles roles0_ 
    inner join
        Role role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2019-05-06 10:57:49.163 TRACE 4928 --- [http-nio-8080-exec-9] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:57:49.303  INFO 4928 --- [http-nio-8080-exec-9] e.d.U.AuthenticationSuccessEventListener : Username is john
2019-05-06 10:57:49.346  INFO 4928 --- [http-nio-8080-exec-9] o.s.s.o.p.token.store.JdbcTokenStore     : Failed to find access token for token eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJqb2huIiwic2NvcGUiOlsiYWxsIl0sIm9yZ2FuaXphdGlvbiI6ImpvaG5OVXdoIiwiZXhwIjoxNTU3MTI5NzY5LCJhdXRob3JpdGllcyI6WyJST0xFX0FETUlOIl0sImp0aSI6IjE2ZGI0N2JiLTNhMWEtNDY4Yy04ODBhLTgyMmJkZjdjNjE3ZSIsImNsaWVudF9pZCI6InRyYWNvbSJ9.CKMKfrxwVX-b9LG7Lgqrer2Rbyo5k3_-YYwKeea1GGNJaCCJROPr9oHm7KeoMsSqh9Ok9ytgaMPIUdyz6YsYfaLX6jj8rQfKA0tjKecBdLxwtkYVer37tQ4X-PrLTU8Y6l1MaplKneL5_tJC-5kJFHVFRBAG2SgpgGXMgBSWVt_qx2nQaoYZ1otCPgNpRxoWScqiQSRRBv1jBBpxJSgKhTRuN9fxgCkLR2iYiylk6N5TkV_KH_4TTf_LOp22lNSVB20PaWsr7jHlhBy66A9saGma065hqnbpXK8La3_CaSHX1OwfYXcoeW-jNp7xfi-TBFWhcIiV9N89PxFY1irR7w
2019-05-06 10:59:05.780  INFO 5588 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 5588 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 10:59:05.782  INFO 5588 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 10:59:05.818  INFO 5588 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 10:59:05.818  INFO 5588 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 10:59:06.378  INFO 5588 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 10:59:06.426  INFO 5588 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44ms. Found 6 repository interfaces.
2019-05-06 10:59:06.656  INFO 5588 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$687d073b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:59:06.675  INFO 5588 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$12acf75] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:59:06.679  INFO 5588 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:59:06.680  INFO 5588 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6f890220' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:59:06.682  INFO 5588 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$25ff7227] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:59:06.683  INFO 5588 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 10:59:06.994  INFO 5588 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 10:59:07.008  INFO 5588 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 10:59:07.008  INFO 5588 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 10:59:07.076  INFO 5588 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 10:59:07.076  INFO 5588 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1257 ms
2019-05-06 10:59:07.339  INFO 5588 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 10:59:07.395  INFO 5588 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 10:59:07.424  INFO 5588 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 10:59:07.455  INFO 5588 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 10:59:07.455  INFO 5588 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 10:59:07.521  INFO 5588 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 10:59:07.594  INFO 5588 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 10:59:07.978 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:59:08.048 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 10:59:08.095 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:59:08.097 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:59:08.098 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 10:59:08.099 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:59:08.126 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:59:08.156 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 10:59:08.211 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:59:08.253 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 10:59:08.303 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 10:59:08.329 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 10:59:08.412 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 10:59:08.458  INFO 5588 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 10:59:08.489  INFO 5588 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 10:59:09.145  INFO 5588 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a4eef1e, org.springframework.security.web.context.SecurityContextPersistenceFilter@75d1426, org.springframework.security.web.header.HeaderWriterFilter@416cee93, org.springframework.security.web.authentication.logout.LogoutFilter@58196b7a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@587277d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@158db6e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42d6bcb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1119f7e2, org.springframework.security.web.session.SessionManagementFilter@74caf164, org.springframework.security.web.access.ExceptionTranslationFilter@41488feb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@da8a386]
2019-05-06 10:59:09.150  INFO 5588 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@11109ede, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4579f463, org.springframework.security.web.context.SecurityContextPersistenceFilter@e156245, org.springframework.security.web.header.HeaderWriterFilter@6d8933e3, org.springframework.security.web.authentication.logout.LogoutFilter@b823f7f, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@71c44100, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a1f445c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e2d72d7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6804022, org.springframework.security.web.session.SessionManagementFilter@38d9b075, org.springframework.security.web.access.ExceptionTranslationFilter@6f177932, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ab81ba8]
2019-05-06 10:59:09.154  INFO 5588 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d2124d2, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ed6e9f1, org.springframework.security.web.header.HeaderWriterFilter@6bd7fd93, org.springframework.security.web.authentication.logout.LogoutFilter@75ac2e7a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@19f9adbc, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3cfcc175, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3c07b9f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16c4bc85, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@422bf0ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e7c1d84, org.springframework.security.web.session.SessionManagementFilter@146d488b, org.springframework.security.web.access.ExceptionTranslationFilter@3e7ad00e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@102a4279]
2019-05-06 10:59:09.260  INFO 5588 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 10:59:09.281  WARN 5588 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 10:59:09.422  INFO 5588 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 10:59:09.497  INFO 5588 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 10:59:09.534 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:59:09.540 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:59:09.552 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:59:09.555 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:59:09.566 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:59:09.567 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:59:09.567 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:59:09.568 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:59:09.568 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:59:09.569 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:59:09.569 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:59:09.570 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 10:59:09.570 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 10:59:09.570 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 10:59:09.570 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 10:59:09.571 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:59:09.713 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:59:09.713 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 10:59:09.715 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 10:59:09.715 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 10:59:09.715 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 10:59:09.715 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 10:59:09.715 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$XUtcf.2o1uli4i9W8BkH9eiRoHopeai2yFDYSzzEKPnPUijqmAmre]
2019-05-06 10:59:09.715 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 10:59:09.852 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 10:59:09.853 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 10:59:09.855 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 10:59:09.855 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 10:59:09.855 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 10:59:09.856 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 10:59:09.856 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 10:59:09.856 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 10:59:09.856 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$hmZ6eLAOr/HMth3xCdTrNe49DBR.KY6zSXMkkqMBrzw0kyCBDpgde]
2019-05-06 10:59:09.856 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 10:59:09.857 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 10:59:09.857 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 10:59:09.857 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 10:59:09.857 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 10:59:09.857 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 10:59:09.859 DEBUG 5588 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 10:59:09.860 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:59:09.860 TRACE 5588 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 10:59:09.875  INFO 5588 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 10:59:09.877  INFO 5588 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.288 seconds (JVM running for 4.866)
2019-05-06 10:59:10.323  INFO 5588 --- [RMI TCP Connection(1)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 10:59:10.324  INFO 5588 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 10:59:10.330  INFO 5588 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 10:59:34.942  INFO 5588 --- [http-nio-8080-exec-7] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 10:59:35.091 DEBUG 5588 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        applicatio0_.id as id1_0_,
        applicatio0_.accountNonExpired as accountN2_0_,
        applicatio0_.accountNonLocked as accountN3_0_,
        applicatio0_.credentialsNonExpired as credenti4_0_,
        applicatio0_.email as email5_0_,
        applicatio0_.enabled as enabled6_0_,
        applicatio0_.password as password7_0_,
        applicatio0_.username as username8_0_ 
    from
        ApplicationUser applicatio0_ 
    where
        applicatio0_.username=?
2019-05-06 10:59:35.092 TRACE 5588 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [john]
2019-05-06 10:59:35.096 DEBUG 5588 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        users_roles roles0_ 
    inner join
        Role role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2019-05-06 10:59:35.096 TRACE 5588 --- [http-nio-8080-exec-7] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 10:59:35.234  INFO 5588 --- [http-nio-8080-exec-7] e.d.U.AuthenticationSuccessEventListener : Username is john
2019-05-06 10:59:35.278  INFO 5588 --- [http-nio-8080-exec-7] o.s.s.o.p.token.store.JdbcTokenStore     : Failed to find access token for token eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJqb2huIiwic2NvcGUiOlsiYWxsIl0sIm9yZ2FuaXphdGlvbiI6ImpvaG5QYk5BIiwiZXhwIjoxNTU3MTI5ODc1LCJhdXRob3JpdGllcyI6WyJST0xFX0FETUlOIl0sImp0aSI6IjBhMTcwN2RhLTgxZDgtNDRjOC1iMWVlLWQ3YmQ2NDViMzE3MiIsImNsaWVudF9pZCI6InRyYWNvbSJ9.qnWRAhRGmNEJYLgqOOFKd0YF7eRxcynKoNk8dhwZRSw-wei0WyBxKFWx0qoXHGO8tDMMulPwOtVr3CkhJYQLR8ptcS1WFgQ5lL1-1JS9BTKa3N_XBgxHg_IUXuY1HhGlEquvbLWQKh5gL6xkbmiV9UARKO-Pw7j66ivOeyvOKCT6yln-GS_-hy23GsNnmhHoG4rky68S48VyruYynONt-smftA181Qq0rm0u_idT78B_Zer90uTzHZXDtgVFmAwUPf3p8AkJdB52sjYyUm9MfVLV0WBEd_6ZzUxNOpdNVcK634D9vZ0OP0TJCIuh3NVbRkdrEvUFiRQGpCy81EK52A
2019-05-06 11:01:01.013  INFO 15648 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 15648 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 11:01:01.015  INFO 15648 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 11:01:01.044  INFO 15648 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 11:01:01.044  INFO 15648 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 11:01:01.630  INFO 15648 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 11:01:01.681  INFO 15648 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 repository interfaces.
2019-05-06 11:01:01.918  INFO 15648 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$90547b82] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:01:01.953  INFO 15648 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$290243bc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:01:01.956  INFO 15648 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:01:01.957  INFO 15648 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@67388f02' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:01:01.959  INFO 15648 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$4dd6e66e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:01:01.960  INFO 15648 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:01:02.266  INFO 15648 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 11:01:02.281  INFO 15648 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 11:01:02.281  INFO 15648 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 11:01:02.363  INFO 15648 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 11:01:02.363  INFO 15648 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1319 ms
2019-05-06 11:01:02.638  INFO 15648 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 11:01:02.694  INFO 15648 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 11:01:02.723  INFO 15648 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 11:01:02.754  INFO 15648 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 11:01:02.754  INFO 15648 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 11:01:02.820  INFO 15648 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 11:01:02.903  INFO 15648 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 11:01:03.311 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:01:03.349 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 11:01:03.404 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:01:03.405 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:01:03.405 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:01:03.406 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:01:03.441 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:01:03.477 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:01:03.512 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:01:03.542 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:01:03.599 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 11:01:03.629 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 11:01:03.673 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 11:01:03.768  INFO 15648 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 11:01:03.813  INFO 15648 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 11:01:04.490  INFO 15648 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77ad096a, org.springframework.security.web.context.SecurityContextPersistenceFilter@1d7b6d55, org.springframework.security.web.header.HeaderWriterFilter@fba541a, org.springframework.security.web.authentication.logout.LogoutFilter@aa5ebf8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@43cee580, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2fbfcbb8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c135eb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45c426a1, org.springframework.security.web.session.SessionManagementFilter@71437e73, org.springframework.security.web.access.ExceptionTranslationFilter@4bb4c656, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@60ecbdad]
2019-05-06 11:01:04.495  INFO 15648 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@57346a53, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42920977, org.springframework.security.web.context.SecurityContextPersistenceFilter@5435f099, org.springframework.security.web.header.HeaderWriterFilter@1a4ca231, org.springframework.security.web.authentication.logout.LogoutFilter@62d27cd2, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@24adae98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6dc7b6cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1265cc68, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50d40056, org.springframework.security.web.session.SessionManagementFilter@baf7d13, org.springframework.security.web.access.ExceptionTranslationFilter@31311f53, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@eb18240]
2019-05-06 11:01:04.499  INFO 15648 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@236abed2, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a56dfec, org.springframework.security.web.header.HeaderWriterFilter@76fa1710, org.springframework.security.web.authentication.logout.LogoutFilter@65d8b727, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2c3687fc, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@49dda84f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@25ab7083, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7efcd60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@218b181a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b9b832e, org.springframework.security.web.session.SessionManagementFilter@27e9faee, org.springframework.security.web.access.ExceptionTranslationFilter@64cf2d73, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c3041d1]
2019-05-06 11:01:04.610  INFO 15648 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 11:01:04.631  WARN 15648 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 11:01:04.774  INFO 15648 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 11:01:04.847  INFO 15648 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 11:01:04.885 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:01:04.891 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:01:04.902 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:01:04.906 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:01:04.916 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:01:04.916 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:01:04.917 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:01:04.918 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:01:04.918 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:01:04.919 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:01:04.919 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:01:04.920 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:01:04.920 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:01:04.921 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 11:01:04.921 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:01:04.921 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:01:05.063 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:01:05.064 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 11:01:05.065 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 11:01:05.065 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 11:01:05.065 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 11:01:05.065 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 11:01:05.065 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$Zc0g73Tsyku7wIFGOrkbIOMEREvV61YY5onv49ZXEEV8oWJavDJga]
2019-05-06 11:01:05.065 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 11:01:05.201 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:01:05.202 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:01:05.204 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:01:05.204 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 11:01:05.205 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 11:01:05.205 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:01:05.205 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 11:01:05.205 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 11:01:05.205 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$k4hn5Eau7ZXBBnd8XyX0JuEZHy4mDRHD0o3cINBrRHY2RWTbw0dky]
2019-05-06 11:01:05.205 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 11:01:05.205 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 11:01:05.205 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 11:01:05.206 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 11:01:05.206 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 11:01:05.206 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 11:01:05.208 DEBUG 15648 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 11:01:05.208 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 11:01:05.209 TRACE 15648 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:01:05.224  INFO 15648 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 11:01:05.226  INFO 15648 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.415 seconds (JVM running for 5.003)
2019-05-06 11:01:05.492  INFO 15648 --- [RMI TCP Connection(2)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 11:01:05.492  INFO 15648 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 11:01:05.498  INFO 15648 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 11:01:19.246  INFO 15648 --- [http-nio-8080-exec-1] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 11:01:19.258 DEBUG 15648 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        userattemp0_.id as id1_5_,
        userattemp0_.attempts as attempts2_5_,
        userattemp0_.lastModified as lastModi3_5_,
        userattemp0_.username as username4_5_ 
    from
        UserAttempts userattemp0_ 
    where
        userattemp0_.username=?
2019-05-06 11:01:19.259 TRACE 15648 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [tracom]
2019-05-06 11:06:55.136  INFO 8000 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 8000 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 11:06:55.138  INFO 8000 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 11:06:55.169  INFO 8000 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 11:06:55.170  INFO 8000 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 11:06:55.728  INFO 8000 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 11:06:55.777  INFO 8000 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 repository interfaces.
2019-05-06 11:06:55.993  INFO 8000 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$86363fcd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:06:56.030  INFO 8000 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$1ee40807] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:06:56.033  INFO 8000 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:06:56.034  INFO 8000 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@108680d2' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:06:56.036  INFO 8000 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$43b8aab9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:06:56.038  INFO 8000 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:06:56.346  INFO 8000 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 11:06:56.359  INFO 8000 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 11:06:56.359  INFO 8000 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 11:06:56.428  INFO 8000 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 11:06:56.429  INFO 8000 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1259 ms
2019-05-06 11:06:56.695  INFO 8000 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 11:06:56.752  INFO 8000 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 11:06:56.782  INFO 8000 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 11:06:56.813  INFO 8000 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 11:06:56.814  INFO 8000 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 11:06:56.883  INFO 8000 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 11:06:56.956  INFO 8000 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 11:06:57.334 DEBUG 8000 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:06:57.374 DEBUG 8000 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 11:06:57.409 DEBUG 8000 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:06:57.412 DEBUG 8000 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:06:57.413 DEBUG 8000 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:06:57.415 DEBUG 8000 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:06:57.485 DEBUG 8000 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:06:57.532 DEBUG 8000 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:06:57.597 DEBUG 8000 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:06:57.646 DEBUG 8000 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:06:57.679 DEBUG 8000 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 11:06:57.713 DEBUG 8000 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 11:06:57.745 DEBUG 8000 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 11:06:57.787  INFO 8000 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 11:06:57.816  INFO 8000 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 11:06:58.060  WARN 8000 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationUserController': Unsatisfied dependency expressed through field 'userService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationUserService': Unsatisfied dependency expressed through field 'bCryptPasswordEncoder'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfiguration': Unsatisfied dependency expressed through field 'userDetailsService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl': Unsatisfied dependency expressed through field 'userAttemptService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.demojwt.Applicationuser.service.UserAttemptService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2019-05-06 11:06:58.061  INFO 8000 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 11:06:58.062  INFO 8000 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-05-06 11:06:58.067  INFO 8000 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-05-06 11:06:58.068  INFO 8000 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-05-06 11:06:58.077  INFO 8000 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-05-06 11:06:58.284 ERROR 8000 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field userAttemptService in com.example.demojwt.security.UserDetailsServiceImpl required a bean of type 'com.example.demojwt.Applicationuser.service.UserAttemptService' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.example.demojwt.Applicationuser.service.UserAttemptService' in your configuration.

2019-05-06 11:07:05.843  INFO 1576 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 1576 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 11:07:05.844  INFO 1576 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 11:07:05.876  INFO 1576 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 11:07:05.876  INFO 1576 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 11:07:06.435  INFO 1576 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 11:07:06.485  INFO 1576 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 repository interfaces.
2019-05-06 11:07:06.720  INFO 1576 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4f86593c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:07:06.741  INFO 1576 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$e8342176] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:07:06.744  INFO 1576 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:07:06.745  INFO 1576 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7b0d0c2a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:07:06.747  INFO 1576 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$d08c428] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:07:06.748  INFO 1576 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:07:07.059  INFO 1576 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 11:07:07.073  INFO 1576 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 11:07:07.073  INFO 1576 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 11:07:07.142  INFO 1576 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 11:07:07.143  INFO 1576 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1267 ms
2019-05-06 11:07:07.421  INFO 1576 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 11:07:07.473  INFO 1576 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 11:07:07.502  INFO 1576 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 11:07:07.532  INFO 1576 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 11:07:07.533  INFO 1576 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 11:07:07.600  INFO 1576 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 11:07:07.671  INFO 1576 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 11:07:08.052 DEBUG 1576 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 11:07:08.149 DEBUG 1576 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 11:07:08.181  INFO 1576 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 11:07:08.209  INFO 1576 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 11:07:08.438  WARN 1576 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationUserController': Unsatisfied dependency expressed through field 'userService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'applicationUserService': Unsatisfied dependency expressed through field 'bCryptPasswordEncoder'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfiguration': Unsatisfied dependency expressed through field 'userDetailsService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl': Unsatisfied dependency expressed through field 'userAttemptService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.demojwt.Applicationuser.service.UserAttemptService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2019-05-06 11:07:08.438  INFO 1576 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 11:07:08.439  INFO 1576 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2019-05-06 11:07:08.444  INFO 1576 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2019-05-06 11:07:08.446  INFO 1576 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2019-05-06 11:07:08.454  INFO 1576 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2019-05-06 11:07:08.576 ERROR 1576 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field userAttemptService in com.example.demojwt.security.UserDetailsServiceImpl required a bean of type 'com.example.demojwt.Applicationuser.service.UserAttemptService' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'com.example.demojwt.Applicationuser.service.UserAttemptService' in your configuration.

2019-05-06 11:07:25.224  INFO 10428 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 10428 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 11:07:25.226  INFO 10428 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 11:07:25.256  INFO 10428 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 11:07:25.257  INFO 10428 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 11:07:25.845  INFO 10428 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 11:07:25.895  INFO 10428 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46ms. Found 6 repository interfaces.
2019-05-06 11:07:26.111  INFO 10428 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$290acfdb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:07:26.150  INFO 10428 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$c1b89815] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:07:26.153  INFO 10428 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:07:26.154  INFO 10428 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@10985708' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:07:26.154  INFO 10428 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$e68d3ac7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:07:26.156  INFO 10428 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:07:26.474  INFO 10428 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 11:07:26.488  INFO 10428 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 11:07:26.488  INFO 10428 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 11:07:26.554  INFO 10428 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 11:07:26.554  INFO 10428 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1297 ms
2019-05-06 11:07:26.824  INFO 10428 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 11:07:26.877  INFO 10428 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 11:07:26.906  INFO 10428 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 11:07:26.936  INFO 10428 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 11:07:26.937  INFO 10428 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 11:07:27.006  INFO 10428 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 11:07:27.078  INFO 10428 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 11:07:27.469 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 11:07:27.538 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 11:07:27.581  INFO 10428 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 11:07:27.620  INFO 10428 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 11:07:28.284  INFO 10428 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a9a6918, org.springframework.security.web.context.SecurityContextPersistenceFilter@615ad06f, org.springframework.security.web.header.HeaderWriterFilter@13762c55, org.springframework.security.web.authentication.logout.LogoutFilter@454762e9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3ec1c98a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@258e209, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e1f3622, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@664c81c3, org.springframework.security.web.session.SessionManagementFilter@71e7a3dd, org.springframework.security.web.access.ExceptionTranslationFilter@2dcabc3c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10b89b2a]
2019-05-06 11:07:28.290  INFO 10428 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@219fda88, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13e35969, org.springframework.security.web.context.SecurityContextPersistenceFilter@37a8dc45, org.springframework.security.web.header.HeaderWriterFilter@1ec7dcc8, org.springframework.security.web.authentication.logout.LogoutFilter@16961b6c, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@778f7525, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b7e0a14, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bffa22f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19606d36, org.springframework.security.web.session.SessionManagementFilter@7134cf0, org.springframework.security.web.access.ExceptionTranslationFilter@471b6a3e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4cc379b5]
2019-05-06 11:07:28.294  INFO 10428 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c5da818, org.springframework.security.web.context.SecurityContextPersistenceFilter@9f7e78b, org.springframework.security.web.header.HeaderWriterFilter@1d5c1ad, org.springframework.security.web.authentication.logout.LogoutFilter@55b1df0f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@d214213, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@634cb752, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@393756d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57a7a725, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78d0dcd5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1335321a, org.springframework.security.web.session.SessionManagementFilter@7f9c836e, org.springframework.security.web.access.ExceptionTranslationFilter@7bb4a74f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20b14333]
2019-05-06 11:07:28.412  INFO 10428 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 11:07:28.434  WARN 10428 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 11:07:28.578  INFO 10428 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 11:07:28.655  INFO 10428 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 11:07:28.694 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:07:28.700 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:07:28.711 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:07:28.711 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:07:28.722 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:07:28.723 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:07:28.723 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:07:28.724 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:07:28.724 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:07:28.725 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:07:28.725 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:07:28.726 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:07:28.726 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:07:28.727 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 11:07:28.727 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:07:28.727 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:07:28.870 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:07:28.871 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 11:07:28.871 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 11:07:28.871 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 11:07:28.871 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 11:07:28.871 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 11:07:28.871 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$gpwuk8RzzZG206n.9.A8Iuu/6wR6N8NlHIHpm8EcRdMwSYssGIf36]
2019-05-06 11:07:28.871 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 11:07:29.009 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:07:29.009 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:07:29.011 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:07:29.012 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 11:07:29.012 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 11:07:29.012 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:07:29.013 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 11:07:29.013 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 11:07:29.013 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$VTPot5imhy1/Weuth.k7ZOKpSV9igDzawIkCKZEVCIripl6UQGueC]
2019-05-06 11:07:29.013 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 11:07:29.013 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 11:07:29.013 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 11:07:29.013 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 11:07:29.013 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 11:07:29.013 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 11:07:29.015 DEBUG 10428 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 11:07:29.015 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 11:07:29.016 TRACE 10428 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:07:29.031  INFO 10428 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 11:07:29.033  INFO 10428 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 3.997 seconds (JVM running for 4.572)
2019-05-06 11:07:29.223  INFO 10428 --- [RMI TCP Connection(1)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 11:07:29.224  INFO 10428 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 11:07:29.230  INFO 10428 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 11:07:47.825  INFO 10428 --- [http-nio-8080-exec-4] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 11:07:47.828 ERROR 10428 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Applicationuser.service.UserAttemptService.resetFailAttempts(UserAttemptService.java:54)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:25)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:12)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 11:09:56.967  INFO 15688 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 15688 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 11:09:56.968  INFO 15688 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 11:09:57.000  INFO 15688 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 11:09:57.000  INFO 15688 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 11:09:57.571  INFO 15688 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 11:09:57.619  INFO 15688 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 repository interfaces.
2019-05-06 11:09:57.846  INFO 15688 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$ba326ce6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:09:57.869  INFO 15688 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$52e03520] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:09:57.872  INFO 15688 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:09:57.873  INFO 15688 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@92404e4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:09:57.874  INFO 15688 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$77b4d7d2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:09:57.875  INFO 15688 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:09:58.187  INFO 15688 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 11:09:58.201  INFO 15688 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 11:09:58.201  INFO 15688 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 11:09:58.270  INFO 15688 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 11:09:58.271  INFO 15688 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1271 ms
2019-05-06 11:09:58.536  INFO 15688 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 11:09:58.592  INFO 15688 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 11:09:58.621  INFO 15688 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 11:09:58.651  INFO 15688 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 11:09:58.652  INFO 15688 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 11:09:58.718  INFO 15688 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 11:09:58.791  INFO 15688 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 11:09:59.166 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:09:59.206 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 11:09:59.251 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:09:59.252 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:09:59.253 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:09:59.253 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:09:59.354 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:09:59.388 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:09:59.450 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:09:59.507 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:09:59.567 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 11:09:59.619 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 11:09:59.680 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 11:09:59.734  INFO 15688 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 11:09:59.761  INFO 15688 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 11:10:00.429  INFO 15688 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a8dce55, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ebd2ccc, org.springframework.security.web.header.HeaderWriterFilter@22fac3ea, org.springframework.security.web.authentication.logout.LogoutFilter@5a8958be, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a23d1f0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@348cd41f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60965e14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1eabc319, org.springframework.security.web.session.SessionManagementFilter@3e66ea23, org.springframework.security.web.access.ExceptionTranslationFilter@1d702192, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6d21c0ba]
2019-05-06 11:10:00.434  INFO 15688 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@4366e464, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4db39016, org.springframework.security.web.context.SecurityContextPersistenceFilter@24dfb831, org.springframework.security.web.header.HeaderWriterFilter@3c1eb480, org.springframework.security.web.authentication.logout.LogoutFilter@2e69b5af, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@2078776f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@282ca932, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@615fa203, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3cb9175a, org.springframework.security.web.session.SessionManagementFilter@39aedaf5, org.springframework.security.web.access.ExceptionTranslationFilter@4f286ae2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@28cfc394]
2019-05-06 11:10:00.438  INFO 15688 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21a832fa, org.springframework.security.web.context.SecurityContextPersistenceFilter@687006e9, org.springframework.security.web.header.HeaderWriterFilter@758ef84f, org.springframework.security.web.authentication.logout.LogoutFilter@7e80367e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@211388, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@16af2d0c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5b3c22ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f26c062, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1de80f49, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41929dc5, org.springframework.security.web.session.SessionManagementFilter@9e05585, org.springframework.security.web.access.ExceptionTranslationFilter@43b682ff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@39b4600c]
2019-05-06 11:10:00.547  INFO 15688 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 11:10:00.568  WARN 15688 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 11:10:00.710  INFO 15688 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 11:10:00.786  INFO 15688 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 11:10:00.824 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:10:00.830 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:10:00.841 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:10:00.845 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:10:00.856 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:10:00.856 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:10:00.856 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:10:00.857 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:10:00.857 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:10:00.858 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:10:00.859 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:10:00.860 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:10:00.860 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:10:00.860 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 11:10:00.860 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:10:00.860 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:10:01.002 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:10:01.003 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 11:10:01.003 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 11:10:01.003 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 11:10:01.003 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 11:10:01.003 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 11:10:01.003 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$HpqXt96nDCRcjFHR4JfUs.tUhCqpXoyaM81xrCoH5A8mydvmJRHL6]
2019-05-06 11:10:01.003 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 11:10:01.140 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:10:01.140 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:10:01.143 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:10:01.143 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 11:10:01.143 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 11:10:01.143 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:10:01.143 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 11:10:01.143 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 11:10:01.143 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$dToWfRROpyYKN0/VJQ5hK.vLtGN2yTxhJLmxDdSFpuC6Rb3lNs8XG]
2019-05-06 11:10:01.143 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 11:10:01.144 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 11:10:01.144 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 11:10:01.144 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 11:10:01.144 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 11:10:01.144 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 11:10:01.148 DEBUG 15688 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 11:10:01.148 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 11:10:01.148 TRACE 15688 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:10:01.162  INFO 15688 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 11:10:01.165  INFO 15688 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.381 seconds (JVM running for 4.946)
2019-05-06 11:10:01.568  INFO 15688 --- [RMI TCP Connection(5)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 11:10:01.569  INFO 15688 --- [RMI TCP Connection(5)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 11:10:01.576  INFO 15688 --- [RMI TCP Connection(5)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2019-05-06 11:10:16.089  INFO 15688 --- [http-nio-8080-exec-3] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 11:10:16.095 ERROR 15688 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Applicationuser.service.UserAttemptService.resetFailAttempts(UserAttemptService.java:54)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:25)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:12)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 11:13:11.011  INFO 2948 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 2948 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 11:13:11.013  INFO 2948 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 11:13:11.044  INFO 2948 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 11:13:11.044  INFO 2948 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 11:13:11.613  INFO 2948 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 11:13:11.663  INFO 2948 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 repository interfaces.
2019-05-06 11:13:11.899  INFO 2948 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b8f5ed5e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:13:11.918  INFO 2948 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$51a3b598] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:13:11.922  INFO 2948 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:13:11.922  INFO 2948 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5b4be89' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:13:11.924  INFO 2948 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$7678584a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:13:11.926  INFO 2948 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:13:12.236  INFO 2948 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 11:13:12.250  INFO 2948 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 11:13:12.250  INFO 2948 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 11:13:12.320  INFO 2948 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 11:13:12.320  INFO 2948 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1276 ms
2019-05-06 11:13:12.584  INFO 2948 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 11:13:12.641  INFO 2948 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 11:13:12.670  INFO 2948 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 11:13:12.701  INFO 2948 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 11:13:12.702  INFO 2948 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 11:13:12.772  INFO 2948 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 11:13:12.843  INFO 2948 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 11:13:13.225 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:13:13.262 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 11:13:13.312 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:13:13.314 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:13:13.314 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:13:13.315 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:13:13.362 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:13:13.391 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:13:13.427 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:13:13.461 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:13:13.530 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 11:13:13.582 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 11:13:13.639 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 11:13:13.697  INFO 2948 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 11:13:13.730  INFO 2948 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 11:13:14.388  INFO 2948 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@643dbb28, org.springframework.security.web.context.SecurityContextPersistenceFilter@5697603f, org.springframework.security.web.header.HeaderWriterFilter@62f77977, org.springframework.security.web.authentication.logout.LogoutFilter@1c728d4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@453e8dcf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b9c95e6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e64a7a1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d231601, org.springframework.security.web.session.SessionManagementFilter@6d9a8175, org.springframework.security.web.access.ExceptionTranslationFilter@29882949, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f2fea35]
2019-05-06 11:13:14.394  INFO 2948 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@ab90394, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70954aea, org.springframework.security.web.context.SecurityContextPersistenceFilter@143d929c, org.springframework.security.web.header.HeaderWriterFilter@6e886446, org.springframework.security.web.authentication.logout.LogoutFilter@a0a28b7, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@6487baa8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f15bb2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a76a55e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ad1db3e, org.springframework.security.web.session.SessionManagementFilter@5a3f4c73, org.springframework.security.web.access.ExceptionTranslationFilter@443afcbd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@74e2e169]
2019-05-06 11:13:14.398  INFO 2948 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61c2f2cb, org.springframework.security.web.context.SecurityContextPersistenceFilter@35fcd993, org.springframework.security.web.header.HeaderWriterFilter@7c7bc7a8, org.springframework.security.web.authentication.logout.LogoutFilter@34fc820, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@24165d7e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@50acb3e7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@640bb1f4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52ec7b35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7088a047, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5967b478, org.springframework.security.web.session.SessionManagementFilter@4acd4938, org.springframework.security.web.access.ExceptionTranslationFilter@fed034a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d7e0c5]
2019-05-06 11:13:14.506  INFO 2948 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 11:13:14.527  WARN 2948 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 11:13:14.671  INFO 2948 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 11:13:14.746  INFO 2948 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 11:13:14.785 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:13:14.791 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:13:14.803 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:13:14.806 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:13:14.817 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:13:14.817 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:13:14.817 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:13:14.818 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:13:14.819 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:13:14.819 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:13:14.820 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:13:14.821 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:13:14.821 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:13:14.821 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 11:13:14.821 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:13:14.822 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:13:14.963 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:13:14.963 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 11:13:14.964 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 11:13:14.964 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 11:13:14.964 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 11:13:14.964 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 11:13:14.964 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$cC2jvScwLZBSQdVM8Xnebup/hyikli4.iu4D.Tj/34Je8q97O7YSe]
2019-05-06 11:13:14.964 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 11:13:15.104 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:13:15.104 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:13:15.107 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:13:15.107 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 11:13:15.107 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 11:13:15.107 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:13:15.107 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 11:13:15.107 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 11:13:15.108 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$WRykqMtoadigf8ArxiG7texwp87mpMxb6KVqT/CIFHpgF6TM27a9q]
2019-05-06 11:13:15.108 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 11:13:15.108 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 11:13:15.108 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 11:13:15.108 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 11:13:15.108 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 11:13:15.108 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 11:13:15.111 DEBUG 2948 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 11:13:15.111 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 11:13:15.111 TRACE 2948 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:13:15.126  INFO 2948 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 11:13:15.128  INFO 2948 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.309 seconds (JVM running for 4.913)
2019-05-06 11:13:15.502  INFO 2948 --- [RMI TCP Connection(2)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 11:13:15.503  INFO 2948 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 11:13:15.509  INFO 2948 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 11:13:19.756  INFO 2948 --- [http-nio-8080-exec-4] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 11:13:19.760 ERROR 2948 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Applicationuser.service.UserAttemptService.resetFailAttempts(UserAttemptService.java:54)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:25)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:12)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 11:14:42.947  INFO 8040 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 8040 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 11:14:42.949  INFO 8040 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 11:14:42.981  INFO 8040 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 11:14:42.981  INFO 8040 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 11:14:43.544  INFO 8040 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 11:14:43.592  INFO 8040 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44ms. Found 6 repository interfaces.
2019-05-06 11:14:43.812  INFO 8040 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$4a4cf47f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:14:43.848  INFO 8040 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$e2fabcb9] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:14:43.851  INFO 8040 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:14:43.852  INFO 8040 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7d0ffbdc' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:14:43.854  INFO 8040 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$7cf5f6b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:14:43.855  INFO 8040 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:14:44.164  INFO 8040 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 11:14:44.177  INFO 8040 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 11:14:44.178  INFO 8040 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 11:14:44.254  INFO 8040 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 11:14:44.255  INFO 8040 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1273 ms
2019-05-06 11:14:44.524  INFO 8040 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 11:14:44.579  INFO 8040 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 11:14:44.608  INFO 8040 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 11:14:44.638  INFO 8040 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 11:14:44.639  INFO 8040 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 11:14:44.704  INFO 8040 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 11:14:44.775  INFO 8040 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 11:14:45.141 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:14:45.174 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 11:14:45.222 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:14:45.223 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:14:45.224 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:14:45.225 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:14:45.305 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:14:45.388 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:14:45.434 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:14:45.464 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:14:45.500 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 11:14:45.533 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 11:14:45.604 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 11:14:45.640  INFO 8040 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 11:14:45.674  INFO 8040 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 11:14:46.330  INFO 8040 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ccae264, org.springframework.security.web.context.SecurityContextPersistenceFilter@75f3913a, org.springframework.security.web.header.HeaderWriterFilter@25d2fc83, org.springframework.security.web.authentication.logout.LogoutFilter@5b5a32b5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1332041d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50b24353, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4858a209, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7627ed85, org.springframework.security.web.session.SessionManagementFilter@d7bfaa4, org.springframework.security.web.access.ExceptionTranslationFilter@6acc7c19, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ee34a7f]
2019-05-06 11:14:46.335  INFO 8040 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@4ecf61df, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53dbc1e0, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f16efac, org.springframework.security.web.header.HeaderWriterFilter@6d0abf71, org.springframework.security.web.authentication.logout.LogoutFilter@5d7a2349, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@54d799f4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@379f3f7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f56ffca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d6443b9, org.springframework.security.web.session.SessionManagementFilter@7164734a, org.springframework.security.web.access.ExceptionTranslationFilter@13f77ad3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3a653c33]
2019-05-06 11:14:46.339  INFO 8040 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5115b706, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ea74b9b, org.springframework.security.web.header.HeaderWriterFilter@19f400e1, org.springframework.security.web.authentication.logout.LogoutFilter@1f4b172, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3fcf8899, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@656bc5d7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2eab2ee6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7953074c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4019f38f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3142996c, org.springframework.security.web.session.SessionManagementFilter@561e6922, org.springframework.security.web.access.ExceptionTranslationFilter@1eb72c97, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f960c0b]
2019-05-06 11:14:46.457  INFO 8040 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 11:14:46.478  WARN 8040 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 11:14:46.619  INFO 8040 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 11:14:46.708  INFO 8040 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 11:14:46.749 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:14:46.755 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:14:46.766 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:14:46.771 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:14:46.782 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:14:46.783 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:14:46.783 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:14:46.783 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:14:46.783 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:14:46.784 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:14:46.785 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:14:46.786 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:14:46.786 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:14:46.786 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 11:14:46.787 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:14:46.787 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:14:46.930 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:14:46.931 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 11:14:46.932 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 11:14:46.932 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 11:14:46.932 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 11:14:46.932 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 11:14:46.932 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$haG1HhbgPWiD86i2GqO44OhBdM0Kjyh7UQJNsn7Jdt7eT1GtIcmeq]
2019-05-06 11:14:46.932 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 11:14:47.069 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:14:47.069 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:14:47.071 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:14:47.072 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 11:14:47.072 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 11:14:47.072 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:14:47.072 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 11:14:47.072 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 11:14:47.072 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$sXe7cZDWtCsW9YywlqbOyOYUItUxmqzAg3AIIL6xCcLKjkCCb9UMa]
2019-05-06 11:14:47.072 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 11:14:47.073 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 11:14:47.073 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 11:14:47.073 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 11:14:47.073 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 11:14:47.073 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 11:14:47.076 DEBUG 8040 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 11:14:47.076 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 11:14:47.076 TRACE 8040 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:14:47.091  INFO 8040 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 11:14:47.093  INFO 8040 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.346 seconds (JVM running for 4.918)
2019-05-06 11:14:47.528  INFO 8040 --- [RMI TCP Connection(3)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 11:14:47.529  INFO 8040 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 11:14:47.534  INFO 8040 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2019-05-06 11:15:07.093  INFO 8040 --- [http-nio-8080-exec-4] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 11:15:07.097 ERROR 8040 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Applicationuser.service.UserAttemptService.resetFailAttempts(UserAttemptService.java:54)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:25)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:12)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 11:20:11.696  INFO 10384 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 10384 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 11:20:11.698  INFO 10384 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 11:20:11.733  INFO 10384 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 11:20:11.733  INFO 10384 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 11:20:12.334  INFO 10384 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 11:20:12.384  INFO 10384 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 repository interfaces.
2019-05-06 11:20:12.601  INFO 10384 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d42f7c0c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:20:12.638  INFO 10384 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$6cdd4446] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:20:12.641  INFO 10384 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:20:12.642  INFO 10384 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3cf567e2' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:20:12.644  INFO 10384 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$91b1e6f8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:20:12.644  INFO 10384 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:20:12.950  INFO 10384 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 11:20:12.962  INFO 10384 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 11:20:12.963  INFO 10384 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 11:20:13.031  INFO 10384 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 11:20:13.031  INFO 10384 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1297 ms
2019-05-06 11:20:13.310  INFO 10384 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 11:20:13.366  INFO 10384 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 11:20:13.394  INFO 10384 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 11:20:13.424  INFO 10384 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 11:20:13.425  INFO 10384 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 11:20:13.493  INFO 10384 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 11:20:13.564  INFO 10384 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 11:20:13.930 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:20:13.998 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 11:20:14.076 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:20:14.077 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:20:14.077 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:20:14.078 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:20:14.138 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:20:14.173 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:20:14.240 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:20:14.288 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:20:14.334 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 11:20:14.367 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 11:20:14.418 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 11:20:14.453  INFO 10384 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 11:20:14.482  INFO 10384 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 11:20:15.138  INFO 10384 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f01e9d0, org.springframework.security.web.context.SecurityContextPersistenceFilter@6e842c78, org.springframework.security.web.header.HeaderWriterFilter@7b79c9f6, org.springframework.security.web.authentication.logout.LogoutFilter@1a9b67da, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@543317ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17ddeb4a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@583229e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54cd7c71, org.springframework.security.web.session.SessionManagementFilter@17a6232b, org.springframework.security.web.access.ExceptionTranslationFilter@5784064c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1e387c26]
2019-05-06 11:20:15.143  INFO 10384 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@30f3a73c, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16c565c8, org.springframework.security.web.context.SecurityContextPersistenceFilter@5f868ef0, org.springframework.security.web.header.HeaderWriterFilter@5a3416d2, org.springframework.security.web.authentication.logout.LogoutFilter@6d23cdf4, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@3fc9a257, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6869567d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12914f24, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4471d1e7, org.springframework.security.web.session.SessionManagementFilter@62e3a5df, org.springframework.security.web.access.ExceptionTranslationFilter@2e832b66, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a231242]
2019-05-06 11:20:15.148  INFO 10384 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a2cbc92, org.springframework.security.web.context.SecurityContextPersistenceFilter@1373b665, org.springframework.security.web.header.HeaderWriterFilter@4240fae7, org.springframework.security.web.authentication.logout.LogoutFilter@30772ec0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@38a93fac, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3e3977fc, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4085b16b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4de61d8a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8b44113, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49139590, org.springframework.security.web.session.SessionManagementFilter@579c34e5, org.springframework.security.web.access.ExceptionTranslationFilter@3d1c7ae3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20163c8]
2019-05-06 11:20:15.267  INFO 10384 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 11:20:15.289  WARN 10384 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 11:20:15.439  INFO 10384 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 11:20:15.514  INFO 10384 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 11:20:15.553 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:20:15.559 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:20:15.571 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:20:15.573 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:20:15.585 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:20:15.585 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:20:15.585 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:20:15.586 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:20:15.586 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:20:15.587 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:20:15.588 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:20:15.589 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:20:15.590 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:20:15.590 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 11:20:15.590 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:20:15.590 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:20:15.734 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:20:15.734 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 11:20:15.735 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 11:20:15.735 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 11:20:15.735 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 11:20:15.735 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 11:20:15.735 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$0u0ZC35rE5iViHoZfm.3GeijkbnR9zo6K2zha4mM8GHvE3qEyK7u2]
2019-05-06 11:20:15.735 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 11:20:15.872 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:20:15.873 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:20:15.875 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:20:15.876 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 11:20:15.876 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 11:20:15.876 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:20:15.876 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 11:20:15.876 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 11:20:15.876 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$fFYTd8NbFkYDTORrcGcazeOb.NB2tGG0OT.WxygPAApsgvLZPM89a]
2019-05-06 11:20:15.876 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 11:20:15.877 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 11:20:15.877 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 11:20:15.877 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 11:20:15.877 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 11:20:15.877 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 11:20:15.879 DEBUG 10384 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 11:20:15.880 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 11:20:15.880 TRACE 10384 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:20:15.895  INFO 10384 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 11:20:15.898  INFO 10384 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.382 seconds (JVM running for 4.961)
2019-05-06 11:20:16.192  INFO 10384 --- [RMI TCP Connection(1)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 11:20:16.193  INFO 10384 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 11:20:16.200  INFO 10384 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2019-05-06 11:20:19.796  INFO 10384 --- [http-nio-8080-exec-1] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 11:20:19.799 ERROR 10384 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Applicationuser.service.UserAttemptService.resetFailAttempts(UserAttemptService.java:54)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:25)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:12)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 11:21:53.427  INFO 13012 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 13012 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 11:21:53.429  INFO 13012 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 11:21:53.471  INFO 13012 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 11:21:53.471  INFO 13012 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 11:21:54.117  INFO 13012 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 11:21:54.168  INFO 13012 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 repository interfaces.
2019-05-06 11:21:54.393  INFO 13012 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6cd5a03a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:21:54.430  INFO 13012 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$5836874] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:21:54.434  INFO 13012 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:21:54.435  INFO 13012 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@4dd7d3fc' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:21:54.437  INFO 13012 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2a580b26] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:21:54.438  INFO 13012 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:21:54.756  INFO 13012 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 11:21:54.770  INFO 13012 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 11:21:54.770  INFO 13012 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 11:21:54.842  INFO 13012 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 11:21:54.842  INFO 13012 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1371 ms
2019-05-06 11:21:55.134  INFO 13012 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 11:21:55.199  INFO 13012 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 11:21:55.234  INFO 13012 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 11:21:55.266  INFO 13012 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 11:21:55.267  INFO 13012 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 11:21:55.335  INFO 13012 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 11:21:55.411  INFO 13012 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 11:21:55.793 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:21:55.820 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 11:21:55.870 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:21:55.872 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:21:55.873 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:21:55.874 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:21:55.901 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:21:55.941 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:21:56.001 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:21:56.033 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:21:56.091 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 11:21:56.126 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 11:21:56.160 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 11:21:56.216  INFO 13012 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 11:21:56.246  INFO 13012 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 11:21:56.907  INFO 13012 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9f172dd, org.springframework.security.web.context.SecurityContextPersistenceFilter@56213e11, org.springframework.security.web.header.HeaderWriterFilter@59daddcb, org.springframework.security.web.authentication.logout.LogoutFilter@15efb516, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1812fd2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4870c2e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40e709b6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f07f064, org.springframework.security.web.session.SessionManagementFilter@47875fc7, org.springframework.security.web.access.ExceptionTranslationFilter@40495e2c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2834ff39]
2019-05-06 11:21:56.912  INFO 13012 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@60a0a9ca, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@cbc1d5b, org.springframework.security.web.context.SecurityContextPersistenceFilter@113046d7, org.springframework.security.web.header.HeaderWriterFilter@41b4ef19, org.springframework.security.web.authentication.logout.LogoutFilter@63ef09d0, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@11568337, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51fa6d51, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37d09c50, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ef16c36, org.springframework.security.web.session.SessionManagementFilter@fab6802, org.springframework.security.web.access.ExceptionTranslationFilter@51d22b13, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7a581b0c]
2019-05-06 11:21:56.916  INFO 13012 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11ea4895, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ec1c98a, org.springframework.security.web.header.HeaderWriterFilter@28370f80, org.springframework.security.web.authentication.logout.LogoutFilter@74e50ded, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@13aa81ba, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@44d80165, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6a96d098, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d4f8412, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d94c334, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f58cbae, org.springframework.security.web.session.SessionManagementFilter@6af47e35, org.springframework.security.web.access.ExceptionTranslationFilter@554cf37, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7a91f559]
2019-05-06 11:21:57.033  INFO 13012 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 11:21:57.054  WARN 13012 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 11:21:57.201  INFO 13012 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 11:21:57.276  INFO 13012 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 11:21:57.316 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:21:57.322 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:21:57.333 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:21:57.338 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:21:57.348 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:21:57.349 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:21:57.349 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:21:57.350 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:21:57.350 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:21:57.351 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:21:57.352 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:21:57.353 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:21:57.353 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:21:57.353 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 11:21:57.353 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:21:57.353 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:21:57.494 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:21:57.495 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 11:21:57.495 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 11:21:57.495 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 11:21:57.495 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 11:21:57.495 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 11:21:57.495 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$kTZYant7.vb4JPC/T4bU.eRLAGZmtrHGWyv5zcZz45eoFBBAcx10W]
2019-05-06 11:21:57.496 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 11:21:57.632 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:21:57.632 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:21:57.635 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:21:57.635 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 11:21:57.635 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 11:21:57.635 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:21:57.635 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 11:21:57.635 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 11:21:57.636 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$XqNsaRBldGYwegbK6hSCGunKNIozu9G0x5gt4zMLWRyo3NnRncTvu]
2019-05-06 11:21:57.636 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 11:21:57.636 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 11:21:57.636 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 11:21:57.636 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 11:21:57.636 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 11:21:57.636 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 11:21:57.639 DEBUG 13012 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 11:21:57.639 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 11:21:57.639 TRACE 13012 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:21:57.655  INFO 13012 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 11:21:57.657  INFO 13012 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.456 seconds (JVM running for 5.101)
2019-05-06 11:21:57.855  INFO 13012 --- [RMI TCP Connection(1)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 11:21:57.855  INFO 13012 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 11:21:57.861  INFO 13012 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 11:22:09.163  INFO 13012 --- [http-nio-8080-exec-1] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 11:22:09.175 ERROR 13012 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Applicationuser.service.UserAttemptService.resetFailAttempts(UserAttemptService.java:54)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:25)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:12)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 11:23:33.187  INFO 14880 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 14880 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 11:23:33.189  INFO 14880 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 11:23:33.223  INFO 14880 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 11:23:33.223  INFO 14880 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 11:23:33.825  INFO 14880 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 11:23:33.875  INFO 14880 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45ms. Found 6 repository interfaces.
2019-05-06 11:23:34.123  INFO 14880 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$34c540ac] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:23:34.158  INFO 14880 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$cd7308e6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:23:34.162  INFO 14880 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:23:34.163  INFO 14880 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7b755c27' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:23:34.165  INFO 14880 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$f247ab98] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:23:34.166  INFO 14880 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:23:34.485  INFO 14880 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 11:23:34.499  INFO 14880 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 11:23:34.500  INFO 14880 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 11:23:34.575  INFO 14880 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 11:23:34.576  INFO 14880 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1353 ms
2019-05-06 11:23:34.860  INFO 14880 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 11:23:34.918  INFO 14880 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 11:23:34.948  INFO 14880 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 11:23:34.978  INFO 14880 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 11:23:34.979  INFO 14880 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 11:23:35.079  INFO 14880 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 11:23:35.169  INFO 14880 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 11:23:35.629 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:23:35.677 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 11:23:35.718 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:23:35.720 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:23:35.721 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:23:35.723 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:23:35.772 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:23:35.814 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:23:35.865 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:23:35.915 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:23:35.952 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 11:23:35.982 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 11:23:36.020 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 11:23:36.060  INFO 14880 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 11:23:36.096  INFO 14880 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 11:23:36.810  INFO 14880 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b2dcefe, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ee4d163, org.springframework.security.web.header.HeaderWriterFilter@38d8b98b, org.springframework.security.web.authentication.logout.LogoutFilter@4195d972, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@143d929c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79060a3e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6aef6a9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16cb20b1, org.springframework.security.web.session.SessionManagementFilter@325964ce, org.springframework.security.web.access.ExceptionTranslationFilter@118b759f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@46c101a1]
2019-05-06 11:23:36.815  INFO 14880 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@24542304, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d7e0c5, org.springframework.security.web.context.SecurityContextPersistenceFilter@48b7d2b8, org.springframework.security.web.header.HeaderWriterFilter@5f657d00, org.springframework.security.web.authentication.logout.LogoutFilter@203466bd, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7088a047, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6febb7c2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b124a42, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24165d7e, org.springframework.security.web.session.SessionManagementFilter@79484aaf, org.springframework.security.web.access.ExceptionTranslationFilter@2100cf7b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f01520d]
2019-05-06 11:23:36.819  INFO 14880 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e7b48ee, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ccd6b5, org.springframework.security.web.header.HeaderWriterFilter@64b33ac9, org.springframework.security.web.authentication.logout.LogoutFilter@17e43ac3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@567b4fd6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@74fe2397, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@13e1c62d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19152179, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@648d25e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7036a632, org.springframework.security.web.session.SessionManagementFilter@4c6b910f, org.springframework.security.web.access.ExceptionTranslationFilter@138ac7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68417eb5]
2019-05-06 11:23:36.942  INFO 14880 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 11:23:36.966  WARN 14880 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 11:23:37.113  INFO 14880 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 11:23:37.188  INFO 14880 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 11:23:37.246 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:23:37.252 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:23:37.269 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:23:37.271 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:23:37.286 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:23:37.287 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:23:37.287 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:23:37.288 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:23:37.288 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:23:37.289 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:23:37.289 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:23:37.293 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:23:37.294 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:23:37.294 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 11:23:37.295 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:23:37.296 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:23:37.442 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:23:37.444 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 11:23:37.444 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 11:23:37.444 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 11:23:37.444 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 11:23:37.444 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 11:23:37.445 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$L9MvQx8pTZhtCBJpq2uXEuJElbGHZial/Nsup7ZNtiBGlVeUSiQn6]
2019-05-06 11:23:37.445 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 11:23:37.581 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:23:37.582 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:23:37.584 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:23:37.585 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 11:23:37.585 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 11:23:37.585 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:23:37.585 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 11:23:37.585 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 11:23:37.585 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$.M8J6N3xbm7tNqjc/bPYcuUdED4EcRoZ5ryiryevtFJuU605MgLUG]
2019-05-06 11:23:37.586 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 11:23:37.586 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 11:23:37.586 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 11:23:37.586 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 11:23:37.586 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 11:23:37.586 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 11:23:37.589 DEBUG 14880 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 11:23:37.589 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 11:23:37.589 TRACE 14880 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:23:37.603  INFO 14880 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 11:23:37.606  INFO 14880 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.607 seconds (JVM running for 5.184)
2019-05-06 11:23:38.167  INFO 14880 --- [RMI TCP Connection(1)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 11:23:38.168  INFO 14880 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 11:23:38.178  INFO 14880 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2019-05-06 11:23:41.632  INFO 14880 --- [http-nio-8080-exec-1] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 11:23:41.636 ERROR 14880 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Applicationuser.service.UserAttemptService.resetFailAttempts(UserAttemptService.java:54)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:25)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:12)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 11:28:47.576  INFO 3752 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 3752 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 11:28:47.578  INFO 3752 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 11:28:47.613  INFO 3752 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 11:28:47.613  INFO 3752 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 11:28:48.193  INFO 3752 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 11:28:48.242  INFO 3752 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46ms. Found 6 repository interfaces.
2019-05-06 11:28:48.462  INFO 3752 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$f75decd4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:28:48.495  INFO 3752 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$900bb50e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:28:48.499  INFO 3752 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:28:48.499  INFO 3752 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@42815dc6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:28:48.501  INFO 3752 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b4e057c0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:28:48.503  INFO 3752 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 11:28:48.811  INFO 3752 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 11:28:48.825  INFO 3752 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 11:28:48.825  INFO 3752 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 11:28:48.893  INFO 3752 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 11:28:48.894  INFO 3752 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1281 ms
2019-05-06 11:28:49.173  INFO 3752 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 11:28:49.228  INFO 3752 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 11:28:49.257  INFO 3752 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 11:28:49.286  INFO 3752 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 11:28:49.287  INFO 3752 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 11:28:49.355  INFO 3752 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 11:28:49.427  INFO 3752 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 11:28:49.789 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:28:49.833 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 11:28:49.880 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:28:49.882 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:28:49.883 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 11:28:49.884 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:28:49.929 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:28:49.965 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 11:28:50.008 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:28:50.037 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 11:28:50.075 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 11:28:50.124 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 11:28:50.201 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 11:28:50.273  INFO 3752 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 11:28:50.314  INFO 3752 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 11:28:50.956  INFO 3752 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16225514, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a7e8d1a, org.springframework.security.web.header.HeaderWriterFilter@3964685c, org.springframework.security.web.authentication.logout.LogoutFilter@3a5ad4d5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7e3cf05c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b8ae0a9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@726f7391, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@701951c6, org.springframework.security.web.session.SessionManagementFilter@494d3a7a, org.springframework.security.web.access.ExceptionTranslationFilter@3cc08da2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1e41526c]
2019-05-06 11:28:50.961  INFO 3752 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@74f40fac, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d0db25e, org.springframework.security.web.context.SecurityContextPersistenceFilter@5bef7947, org.springframework.security.web.header.HeaderWriterFilter@5de1ee0c, org.springframework.security.web.authentication.logout.LogoutFilter@27ce99d0, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@25e0ef7a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f5b1194, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d9801fd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f1d387, org.springframework.security.web.session.SessionManagementFilter@3b96395f, org.springframework.security.web.access.ExceptionTranslationFilter@744a1b5d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62f44b8a]
2019-05-06 11:28:50.965  INFO 3752 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2fe2f21d, org.springframework.security.web.context.SecurityContextPersistenceFilter@71f81f67, org.springframework.security.web.header.HeaderWriterFilter@6dd7056f, org.springframework.security.web.authentication.logout.LogoutFilter@36ef308d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@65be2de, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@75d1426, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6bd8749d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74caf164, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21637eef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b42f01d, org.springframework.security.web.session.SessionManagementFilter@416cee93, org.springframework.security.web.access.ExceptionTranslationFilter@41488feb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@41763388]
2019-05-06 11:28:51.080  INFO 3752 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 11:28:51.101  WARN 3752 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 11:28:51.242  INFO 3752 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 11:28:51.316  INFO 3752 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 11:28:51.355 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:28:51.361 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:28:51.372 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:28:51.376 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:28:51.386 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:28:51.387 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:28:51.387 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:28:51.388 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:28:51.388 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:28:51.389 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:28:51.389 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:28:51.390 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 11:28:51.391 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 11:28:51.391 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 11:28:51.391 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 11:28:51.391 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:28:51.533 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:28:51.534 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 11:28:51.535 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 11:28:51.535 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 11:28:51.535 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 11:28:51.535 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 11:28:51.535 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$g4J5WcGBJDf2Ej5TlmbfUecT.RU44MAZ8rs3UesUBxSROr.cZDRSC]
2019-05-06 11:28:51.535 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 11:28:51.673 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 11:28:51.673 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 11:28:51.675 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 11:28:51.676 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 11:28:51.676 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 11:28:51.676 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 11:28:51.676 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 11:28:51.676 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 11:28:51.676 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$XinOOmYtQyPjHNyWAJ4P3O7mYBP9gCvefotE4wJZWbzMasDfXB25C]
2019-05-06 11:28:51.676 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 11:28:51.677 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 11:28:51.677 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 11:28:51.677 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 11:28:51.677 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 11:28:51.677 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 11:28:51.680 DEBUG 3752 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 11:28:51.680 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 11:28:51.680 TRACE 3752 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 11:28:51.695  INFO 3752 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 11:28:51.697  INFO 3752 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.313 seconds (JVM running for 4.881)
2019-05-06 11:28:52.062  INFO 3752 --- [RMI TCP Connection(2)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 11:28:52.063  INFO 3752 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 11:28:52.069  INFO 3752 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 11:29:25.885  INFO 3752 --- [http-nio-8080-exec-2] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 11:29:25.889 ERROR 3752 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Applicationuser.service.UserAttemptService.resetsFailAttempts(UserAttemptService.java:54)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:25)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:12)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 12:42:06.671  WARN 3752 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=38m47s504ms360Âµs658ns).
2019-05-06 13:03:21.218  INFO 5768 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 5768 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 13:03:21.220  INFO 5768 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 13:03:21.244  INFO 5768 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 13:03:21.244  INFO 5768 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 13:03:22.139  INFO 5768 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 13:03:22.193  INFO 5768 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50ms. Found 6 repository interfaces.
2019-05-06 13:03:22.450  INFO 5768 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$fa4680e7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:03:22.476  INFO 5768 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$92f44921] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:03:22.479  INFO 5768 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:03:22.480  INFO 5768 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@edfa98a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:03:22.482  INFO 5768 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$b7c8ebd3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:03:22.484  INFO 5768 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:03:22.818  INFO 5768 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 13:03:22.833  INFO 5768 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 13:03:22.833  INFO 5768 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 13:03:22.912  INFO 5768 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 13:03:22.913  INFO 5768 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1669 ms
2019-05-06 13:03:23.196  INFO 5768 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 13:03:23.263  INFO 5768 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 13:03:23.301  INFO 5768 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 13:03:23.335  INFO 5768 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 13:03:23.336  INFO 5768 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 13:03:23.413  INFO 5768 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 13:03:23.495  INFO 5768 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 13:03:23.928 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 13:03:23.957 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 13:03:24.045 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 13:03:24.046 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 13:03:24.046 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 13:03:24.047 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 13:03:24.147 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 13:03:24.235 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 13:03:24.293 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 13:03:24.388 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 13:03:24.488 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 13:03:24.569 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 13:03:24.671 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 13:03:24.772  INFO 5768 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 13:03:24.828  INFO 5768 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 13:03:25.697  INFO 5768 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3145a00, org.springframework.security.web.context.SecurityContextPersistenceFilter@671ce4fd, org.springframework.security.web.header.HeaderWriterFilter@386bae29, org.springframework.security.web.authentication.logout.LogoutFilter@1d702192, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@674a02f0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@358c9109, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29ed4246, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3dec6f58, org.springframework.security.web.session.SessionManagementFilter@482b605f, org.springframework.security.web.access.ExceptionTranslationFilter@1c249428, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@39b25d73]
2019-05-06 13:03:25.711  INFO 5768 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@24dfb831, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@282ca932, org.springframework.security.web.context.SecurityContextPersistenceFilter@7dd26568, org.springframework.security.web.header.HeaderWriterFilter@de964b1, org.springframework.security.web.authentication.logout.LogoutFilter@4421dc79, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@79e220be, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69d55e09, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f5f736e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@615fa203, org.springframework.security.web.session.SessionManagementFilter@162fa743, org.springframework.security.web.access.ExceptionTranslationFilter@722cc7fc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@39aedaf5]
2019-05-06 13:03:25.721  INFO 5768 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64a5e0a1, org.springframework.security.web.context.SecurityContextPersistenceFilter@1153b86b, org.springframework.security.web.header.HeaderWriterFilter@4a422e7b, org.springframework.security.web.authentication.logout.LogoutFilter@7e202a3c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@ebfee5c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@72bc54e0, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@26acc8bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30da4a0e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6bb08b98, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2078776f, org.springframework.security.web.session.SessionManagementFilter@456b8fc9, org.springframework.security.web.access.ExceptionTranslationFilter@46acf087, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e9d19fc]
2019-05-06 13:03:25.839  INFO 5768 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 13:03:25.862  WARN 5768 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 13:03:26.044  INFO 5768 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 13:03:26.125  INFO 5768 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 13:03:26.168 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 13:03:26.174 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 13:03:26.208 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 13:03:26.219 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 13:03:26.245 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 13:03:26.246 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 13:03:26.246 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 13:03:26.252 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 13:03:26.253 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 13:03:26.254 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 13:03:26.255 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 13:03:26.257 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 13:03:26.257 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 13:03:26.257 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 13:03:26.258 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 13:03:26.258 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 13:03:26.405 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 13:03:26.405 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 13:03:26.406 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 13:03:26.406 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 13:03:26.406 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 13:03:26.406 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 13:03:26.406 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$xHCdtGe7ARmLkH4DThe2UuCysAIZvp3LuK3v9ShjqSSRRC9/YNE6K]
2019-05-06 13:03:26.406 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 13:03:26.548 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 13:03:26.549 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 13:03:26.553 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 13:03:26.553 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 13:03:26.553 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 13:03:26.553 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 13:03:26.553 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 13:03:26.553 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 13:03:26.554 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$3D8M7aCeGB4005rEubOkWe4n4D9w/Gh3WNP3uPJf8C/.1VTc8xObq]
2019-05-06 13:03:26.554 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 13:03:26.554 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 13:03:26.554 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 13:03:26.554 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 13:03:26.554 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 13:03:26.554 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 13:03:26.558 DEBUG 5768 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 13:03:26.558 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 13:03:26.558 TRACE 5768 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 13:03:26.589  INFO 5768 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 13:03:26.591  INFO 5768 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 5.57 seconds (JVM running for 6.544)
2019-05-06 13:03:26.783  INFO 5768 --- [RMI TCP Connection(3)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 13:03:26.786  INFO 5768 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 13:03:26.793  INFO 5768 --- [RMI TCP Connection(3)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2019-05-06 13:04:22.024  INFO 5768 --- [http-nio-8080-exec-2] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 13:04:22.028 ERROR 5768 --- [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: null
	at com.example.demojwt.Applicationuser.service.UserAttemptService.resetsFailAttempts(UserAttemptService.java:54)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:25)
	at com.example.demojwt.Utils.AuthenticationSuccessEventListener.onApplicationEvent(AuthenticationSuccessEventListener.java:12)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationSuccess(DefaultAuthenticationEventPublisher.java:99)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:224)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:180)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 13:44:06.004  INFO 9564 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 9564 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 13:44:06.006  INFO 9564 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 13:44:06.039  INFO 9564 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 13:44:06.039  INFO 9564 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 13:44:06.629  INFO 9564 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 13:44:06.676  INFO 9564 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47ms. Found 6 repository interfaces.
2019-05-06 13:44:06.895  INFO 9564 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1d4b4218] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:44:06.926  INFO 9564 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$b5f90a52] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:44:06.942  INFO 9564 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:44:06.942  INFO 9564 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6d1603f0' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:44:06.942  INFO 9564 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$dacdad04] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:44:06.942  INFO 9564 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:44:07.254  INFO 9564 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 13:44:07.270  INFO 9564 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 13:44:07.270  INFO 9564 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 13:44:07.332  INFO 9564 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 13:44:07.332  INFO 9564 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1293 ms
2019-05-06 13:44:07.601  INFO 9564 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 13:44:07.658  INFO 9564 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 13:44:07.680  INFO 9564 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 13:44:07.711  INFO 9564 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 13:44:07.711  INFO 9564 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 13:44:07.773  INFO 9564 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 13:44:07.851  INFO 9564 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 13:44:08.226 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 13:44:08.289 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 13:44:08.336 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 13:44:08.336 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 13:44:08.336 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 13:44:08.336 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 13:44:08.372 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 13:44:08.411 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 13:44:08.457 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 13:44:08.520 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 13:44:08.629 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 13:44:08.692 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 13:44:08.739 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 13:44:08.770  INFO 9564 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 13:44:08.801  INFO 9564 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 13:44:09.446  INFO 9564 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38b69741, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ed8c9b6, org.springframework.security.web.header.HeaderWriterFilter@60263ab9, org.springframework.security.web.authentication.logout.LogoutFilter@6329bdcb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1bed2348, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40e99be6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@437e8ae7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17d164e9, org.springframework.security.web.session.SessionManagementFilter@16c252ab, org.springframework.security.web.access.ExceptionTranslationFilter@7d599671, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30772ec0]
2019-05-06 13:44:09.446  INFO 9564 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@6989be25, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c54a0fe, org.springframework.security.web.context.SecurityContextPersistenceFilter@52906666, org.springframework.security.web.header.HeaderWriterFilter@395d8b9e, org.springframework.security.web.authentication.logout.LogoutFilter@25660e53, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@7bdbb91a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5eb9794b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bed0879, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45738550, org.springframework.security.web.session.SessionManagementFilter@3ef20af5, org.springframework.security.web.access.ExceptionTranslationFilter@3667484f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@413fe123]
2019-05-06 13:44:09.446  INFO 9564 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1fea3500, org.springframework.security.web.context.SecurityContextPersistenceFilter@a8c0352, org.springframework.security.web.header.HeaderWriterFilter@779758c8, org.springframework.security.web.authentication.logout.LogoutFilter@beda1c1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@40f1dc7b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6111a822, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@634c23a6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47ff1af5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a634bda, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72f66e42, org.springframework.security.web.session.SessionManagementFilter@7703834f, org.springframework.security.web.access.ExceptionTranslationFilter@2c8c2650, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53b84277]
2019-05-06 13:44:09.571  INFO 9564 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 13:44:09.587  WARN 9564 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 13:44:09.728  INFO 9564 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 13:44:09.806  INFO 9564 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 13:44:09.837 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 13:44:09.837 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 13:44:09.853 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 13:44:09.853 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 13:44:09.868 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 13:44:09.868 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 13:44:09.868 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 13:44:09.868 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 13:44:09.868 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 13:44:09.868 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 13:44:09.868 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 13:44:09.868 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 13:44:09.868 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 13:44:09.868 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 13:44:09.868 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 13:44:09.868 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 13:44:10.009 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 13:44:10.009 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 13:44:10.009 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 13:44:10.009 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 13:44:10.009 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 13:44:10.009 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 13:44:10.009 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$9MFIATtsYY4IEaLmqDJTauaKkOz4P13g4n6rpVSvHpHohfW15qciq]
2019-05-06 13:44:10.009 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 13:44:10.149 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 13:44:10.149 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 13:44:10.149 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 13:44:10.149 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 13:44:10.149 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 13:44:10.149 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 13:44:10.149 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 13:44:10.149 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 13:44:10.149 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$9rthR4Z9plXwlkxw7ZvbAuji8BP4jkL1dvx8HxX7/pMu2MUQp77E2]
2019-05-06 13:44:10.149 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 13:44:10.149 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 13:44:10.149 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 13:44:10.149 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 13:44:10.149 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 13:44:10.149 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 13:44:10.165 DEBUG 9564 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 13:44:10.165 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 13:44:10.165 TRACE 9564 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 13:44:10.181  INFO 9564 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 13:44:10.181  INFO 9564 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 4.368 seconds (JVM running for 4.948)
2019-05-06 13:44:10.620  INFO 9564 --- [RMI TCP Connection(2)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 13:44:10.635  INFO 9564 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 13:44:10.635  INFO 9564 --- [RMI TCP Connection(2)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2019-05-06 13:44:26.488  INFO 9564 --- [http-nio-8080-exec-2] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 13:44:26.640 DEBUG 9564 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        applicatio0_.id as id1_0_,
        applicatio0_.accountNonExpired as accountN2_0_,
        applicatio0_.accountNonLocked as accountN3_0_,
        applicatio0_.credentialsNonExpired as credenti4_0_,
        applicatio0_.email as email5_0_,
        applicatio0_.enabled as enabled6_0_,
        applicatio0_.password as password7_0_,
        applicatio0_.username as username8_0_ 
    from
        ApplicationUser applicatio0_ 
    where
        applicatio0_.username=?
2019-05-06 13:44:26.640 TRACE 9564 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [john]
2019-05-06 13:44:26.640 DEBUG 9564 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        users_roles roles0_ 
    inner join
        Role role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2019-05-06 13:44:26.640 TRACE 9564 --- [http-nio-8080-exec-2] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 13:44:26.781  INFO 9564 --- [http-nio-8080-exec-2] e.d.U.AuthenticationSuccessEventListener : Username is john
2019-05-06 13:44:26.843  INFO 9564 --- [http-nio-8080-exec-2] o.s.s.o.p.token.store.JdbcTokenStore     : Failed to find access token for token eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJqb2huIiwic2NvcGUiOlsiYWxsIl0sIm9yZ2FuaXphdGlvbiI6ImpvaG5xalBvIiwiZXhwIjoxNTU3MTM5NzY2LCJhdXRob3JpdGllcyI6WyJST0xFX0FETUlOIl0sImp0aSI6ImYyNWExMGEzLTMwZDAtNDFjYS05Y2NiLTM2ZmU4YjY0ODRkNiIsImNsaWVudF9pZCI6InRyYWNvbSJ9.xa0uT96rCRCHh4wD-E01FRdxcTn6tKG3lrYoDXd_7CqQCpMzQjOjJsGT2nNd8srQvkoXmUjxqMPdD_UGtXORGlXvUEcd2fW-8yvjcS74XBKY6MlM1bouW-wXfqDTrGYwdoYHXSFPx5n6sDKpxpEglqTGhpEvmpoaPZAwM3o_aOdAkHhGew-v6ajxYB_rCAbktQgqN58uzuD3wSoEDPpEq_QtRRoMkRsrD_u7ukAVLYC09lKEIpieBjposadKkv9IyIga9vCNAz5cLTC-w7iV6Uz8-ANH60J4FeH88y-4KZ8y079Nlxv5pzTHe4cO2bG7l8aTgFKaCvUVcOs2Z67Fgg
2019-05-06 13:44:50.861  INFO 9564 --- [http-nio-8080-exec-3] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 13:44:50.861 DEBUG 9564 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        applicatio0_.id as id1_0_,
        applicatio0_.accountNonExpired as accountN2_0_,
        applicatio0_.accountNonLocked as accountN3_0_,
        applicatio0_.credentialsNonExpired as credenti4_0_,
        applicatio0_.email as email5_0_,
        applicatio0_.enabled as enabled6_0_,
        applicatio0_.password as password7_0_,
        applicatio0_.username as username8_0_ 
    from
        ApplicationUser applicatio0_ 
    where
        applicatio0_.username=?
2019-05-06 13:44:50.861 TRACE 9564 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [john]
2019-05-06 13:44:50.861 DEBUG 9564 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        users_roles roles0_ 
    inner join
        Role role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2019-05-06 13:44:50.861 TRACE 9564 --- [http-nio-8080-exec-3] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 13:44:51.009 ERROR 9564 --- [http-nio-8080-exec-3] o.s.s.o.provider.endpoint.TokenEndpoint  : Handling error: ClassCastException, class java.lang.String cannot be cast to class org.springframework.security.core.userdetails.UserDetails (java.lang.String is in module java.base of loader 'bootstrap'; org.springframework.security.core.userdetails.UserDetails is in unnamed module of loader 'app')

java.lang.ClassCastException: class java.lang.String cannot be cast to class org.springframework.security.core.userdetails.UserDetails (java.lang.String is in module java.base of loader 'bootstrap'; org.springframework.security.core.userdetails.UserDetails is in unnamed module of loader 'app')
	at com.example.demojwt.Utils.AuthenticationFailureListener.onApplicationEvent(AuthenticationFailureListener.java:20)
	at com.example.demojwt.Utils.AuthenticationFailureListener.onApplicationEvent(AuthenticationFailureListener.java:11)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationFailure(DefaultAuthenticationEventPublisher.java:124)
	at org.springframework.security.authentication.ProviderManager.prepareException(ProviderManager.java:249)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:241)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:200)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:503)
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:72)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:67)
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38)
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:583)
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 13:44:51.014  WARN 9564 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.ClassCastException: class java.lang.String cannot be cast to class org.springframework.security.core.userdetails.UserDetails (java.lang.String is in module java.base of loader 'bootstrap'; org.springframework.security.core.userdetails.UserDetails is in unnamed module of loader 'app')]
2019-05-06 13:57:57.187  INFO 15528 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Starting DemoJwtApplication on TRCm-ACDM11 with PID 15528 (C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt\target\classes started by ekangethe in C:\Users\ekangethe\Downloads\Oauth2JwtProject\demo-jwt)
2019-05-06 13:57:57.189  INFO 15528 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : No active profile set, falling back to default profiles: default
2019-05-06 13:57:57.234  INFO 15528 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2019-05-06 13:57:57.234  INFO 15528 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2019-05-06 13:57:57.923  INFO 15528 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.
2019-05-06 13:57:57.983  INFO 15528 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51ms. Found 6 repository interfaces.
2019-05-06 13:57:58.253  INFO 15528 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc0b1953] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:57:58.276  INFO 15528 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$64b8e18d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:57:58.280  INFO 15528 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:57:58.281  INFO 15528 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@bcf376a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:57:58.283  INFO 15528 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$898d843f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:57:58.285  INFO 15528 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-06 13:57:58.632  INFO 15528 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2019-05-06 13:57:58.647  INFO 15528 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2019-05-06 13:57:58.647  INFO 15528 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.17]
2019-05-06 13:57:58.722  INFO 15528 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2019-05-06 13:57:58.722  INFO 15528 --- [restartedMain] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1488 ms
2019-05-06 13:57:59.037  INFO 15528 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-05-06 13:57:59.102  INFO 15528 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-05-06 13:57:59.136  INFO 15528 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2019-05-06 13:57:59.170  INFO 15528 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.9.Final}
2019-05-06 13:57:59.171  INFO 15528 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2019-05-06 13:57:59.251  INFO 15528 --- [restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2019-05-06 13:57:59.335  INFO 15528 --- [restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2019-05-06 13:57:59.748 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table ApplicationUser (
       id bigint not null auto_increment,
        accountNonExpired bit not null,
        accountNonLocked bit not null,
        credentialsNonExpired bit not null,
        email varchar(255),
        enabled bit not null,
        password varchar(255),
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 13:57:59.803 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table hibernate_sequence (
       next_val bigint
    ) engine=MyISAM
2019-05-06 13:57:59.879 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 13:57:59.880 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 13:57:59.881 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    
    insert into hibernate_sequence values ( 1 )
2019-05-06 13:57:59.881 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_access_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        authentication_id varchar(255),
        client_id varchar(255),
        refresh_token varchar(255),
        token varchar(4000),
        user_name varchar(255),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 13:57:59.969 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_client_details (
       id bigint not null,
        access_token_validity integer not null,
        additional_information varchar(4096),
        authorities varchar(255),
        autoapprove varchar(255),
        client_id varchar(255) not null,
        client_secret varchar(255) not null,
        authorized_grant_types varchar(255) not null,
        refresh_token_validity integer,
        resource_ids varchar(255),
        scope varchar(255) not null,
        web_server_redirect_uri varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 13:58:00.032 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table oauth_refresh_token (
       token_id varchar(255) not null,
        authentication varchar(4000),
        token varchar(4000),
        primary key (token_id)
    ) engine=MyISAM
2019-05-06 13:58:00.076 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table Role (
       id bigint not null,
        name varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 13:58:00.131 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table UserAttempts (
       id bigint not null,
        attempts integer not null,
        lastModified date,
        username varchar(255),
        primary key (id)
    ) engine=MyISAM
2019-05-06 13:58:00.215 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    
    create table users_roles (
       user_id bigint not null,
        role_id bigint not null
    ) engine=MyISAM
2019-05-06 13:58:00.265 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKa9r8g5hiyy57ts5u4tkf0lbab 
       foreign key (role_id) 
       references Role (id)
2019-05-06 13:58:00.314 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    
    alter table users_roles 
       add constraint FKdwmuj12ru7ktunbltif4922n8 
       foreign key (user_id) 
       references ApplicationUser (id)
2019-05-06 13:58:00.348  INFO 15528 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-05-06 13:58:00.378  INFO 15528 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2019-05-06 13:58:01.147  INFO 15528 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/oauth/token'], Ant [pattern='/oauth/token_key'], Ant [pattern='/oauth/check_token']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f4075d2, org.springframework.security.web.context.SecurityContextPersistenceFilter@19a2d0c5, org.springframework.security.web.header.HeaderWriterFilter@2205c0b6, org.springframework.security.web.authentication.logout.LogoutFilter@3af913f6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5031f0dc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64bf96e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7def4a6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b6cd0b1, org.springframework.security.web.session.SessionManagementFilter@5e04b224, org.springframework.security.web.access.ExceptionTranslationFilter@389de469, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@232bca4b]
2019-05-06 13:58:01.153  INFO 15528 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfiguration$NotOAuthRequestMatcher@765f460, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d9c8e73, org.springframework.security.web.context.SecurityContextPersistenceFilter@3eddb5c, org.springframework.security.web.header.HeaderWriterFilter@7482e6c7, org.springframework.security.web.authentication.logout.LogoutFilter@6137227d, org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter@2257eecc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2294cfef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41c3a1a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53af8f63, org.springframework.security.web.session.SessionManagementFilter@4dadbf2e, org.springframework.security.web.access.ExceptionTranslationFilter@43bc5c82, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@557d0902]
2019-05-06 13:58:01.157  INFO 15528 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3192bf75, org.springframework.security.web.context.SecurityContextPersistenceFilter@3f258466, org.springframework.security.web.header.HeaderWriterFilter@d7d24d5, org.springframework.security.web.authentication.logout.LogoutFilter@4a6f54f1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2ad5f6e8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@597aed0c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@cbd68ba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@aee6966, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ed1bf62, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64230542, org.springframework.security.web.session.SessionManagementFilter@c477b77, org.springframework.security.web.access.ExceptionTranslationFilter@795994f0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@41652265]
2019-05-06 13:58:01.283  INFO 15528 --- [restartedMain] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2019-05-06 13:58:01.307  WARN 15528 --- [restartedMain] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2019-05-06 13:58:01.478  INFO 15528 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2019-05-06 13:58:01.562  INFO 15528 --- [restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2019-05-06 13:58:01.604 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 13:58:01.611 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 13:58:01.623 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 13:58:01.631 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 13:58:01.643 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 13:58:01.643 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 13:58:01.644 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 13:58:01.645 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 13:58:01.645 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 13:58:01.646 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 13:58:01.646 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 13:58:01.647 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        Role
        (name, id) 
    values
        (?, ?)
2019-05-06 13:58:01.647 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_USER]
2019-05-06 13:58:01.647 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [2]
2019-05-06 13:58:01.648 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    select
        role0_.id as id1_4_,
        role0_.name as name2_4_ 
    from
        Role role0_ 
    where
        role0_.name=?
2019-05-06 13:58:01.648 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 13:58:01.795 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        ApplicationUser
        (accountNonExpired, accountNonLocked, credentialsNonExpired, email, enabled, password, username) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2019-05-06 13:58:01.796 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]
2019-05-06 13:58:01.796 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BOOLEAN] - [true]
2019-05-06 13:58:01.796 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [BOOLEAN] - [true]
2019-05-06 13:58:01.796 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [test@test.com]
2019-05-06 13:58:01.796 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [BOOLEAN] - [true]
2019-05-06 13:58:01.797 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$uEh4BqJpa0uUQJ05tpyu2OVzTSYt4aPsQIr8dv1FQtMJm1tGpenWq]
2019-05-06 13:58:01.797 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [john]
2019-05-06 13:58:01.935 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    select
        next_val as id_val 
    from
        hibernate_sequence for update
            
2019-05-06 13:58:01.936 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    update
        hibernate_sequence 
    set
        next_val= ? 
    where
        next_val=?
2019-05-06 13:58:01.938 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        oauth_client_details
        (access_token_validity, additional_information, authorities, autoapprove, client_id, client_secret, authorized_grant_types, refresh_token_validity, resource_ids, scope, web_server_redirect_uri, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2019-05-06 13:58:01.938 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [INTEGER] - [300]
2019-05-06 13:58:01.938 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [null]
2019-05-06 13:58:01.938 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [VARCHAR] - [ROLE_ADMIN]
2019-05-06 13:58:01.939 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [VARCHAR] - [null]
2019-05-06 13:58:01.939 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [tracom]
2019-05-06 13:58:01.939 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [VARCHAR] - [$2a$11$zEcue.0nufAtmbccZ/ilGunuEHm6ubr5/Va6fStDOk7LkKF4TaXha]
2019-05-06 13:58:01.939 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [password,refresh_token,client_credentials]
2019-05-06 13:58:01.939 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [INTEGER] - [36000]
2019-05-06 13:58:01.939 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [VARCHAR] - [null]
2019-05-06 13:58:01.939 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [VARCHAR] - [all]
2019-05-06 13:58:01.939 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - [null]
2019-05-06 13:58:01.939 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [12] as [BIGINT] - [3]
2019-05-06 13:58:01.943 DEBUG 15528 --- [restartedMain] org.hibernate.SQL                        : 
    insert 
    into
        users_roles
        (user_id, role_id) 
    values
        (?, ?)
2019-05-06 13:58:01.943 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 13:58:01.943 TRACE 15528 --- [restartedMain] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [BIGINT] - [1]
2019-05-06 13:58:01.963  INFO 15528 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2019-05-06 13:58:01.965  INFO 15528 --- [restartedMain] com.example.demojwt.DemoJwtApplication   : Started DemoJwtApplication in 5.028 seconds (JVM running for 5.681)
2019-05-06 13:58:02.511  INFO 15528 --- [RMI TCP Connection(1)-192.168.96.1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-05-06 13:58:02.512  INFO 15528 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2019-05-06 13:58:02.518  INFO 15528 --- [RMI TCP Connection(1)-192.168.96.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2019-05-06 13:58:17.406  INFO 15528 --- [http-nio-8080-exec-1] e.d.U.AuthenticationSuccessEventListener : Username is tracom
2019-05-06 13:58:17.573 DEBUG 15528 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        applicatio0_.id as id1_0_,
        applicatio0_.accountNonExpired as accountN2_0_,
        applicatio0_.accountNonLocked as accountN3_0_,
        applicatio0_.credentialsNonExpired as credenti4_0_,
        applicatio0_.email as email5_0_,
        applicatio0_.enabled as enabled6_0_,
        applicatio0_.password as password7_0_,
        applicatio0_.username as username8_0_ 
    from
        ApplicationUser applicatio0_ 
    where
        applicatio0_.username=?
2019-05-06 13:58:17.573 TRACE 15528 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [john]
2019-05-06 13:58:17.579 DEBUG 15528 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : 
    select
        roles0_.user_id as user_id1_6_0_,
        roles0_.role_id as role_id2_6_0_,
        role1_.id as id1_4_1_,
        role1_.name as name2_4_1_ 
    from
        users_roles roles0_ 
    inner join
        Role role1_ 
            on roles0_.role_id=role1_.id 
    where
        roles0_.user_id=?
2019-05-06 13:58:17.579 TRACE 15528 --- [http-nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [1]
2019-05-06 13:58:17.725 ERROR 15528 --- [http-nio-8080-exec-1] o.s.s.o.provider.endpoint.TokenEndpoint  : Handling error: ClassCastException, class java.lang.String cannot be cast to class org.springframework.security.core.userdetails.UserDetails (java.lang.String is in module java.base of loader 'bootstrap'; org.springframework.security.core.userdetails.UserDetails is in unnamed module of loader 'app')

java.lang.ClassCastException: class java.lang.String cannot be cast to class org.springframework.security.core.userdetails.UserDetails (java.lang.String is in module java.base of loader 'bootstrap'; org.springframework.security.core.userdetails.UserDetails is in unnamed module of loader 'app')
	at com.example.demojwt.Utils.AuthenticationFailureListener.onApplicationEvent(AuthenticationFailureListener.java:20)
	at com.example.demojwt.Utils.AuthenticationFailureListener.onApplicationEvent(AuthenticationFailureListener.java:11)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:402)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:359)
	at org.springframework.security.authentication.DefaultAuthenticationEventPublisher.publishAuthenticationFailure(DefaultAuthenticationEventPublisher.java:124)
	at org.springframework.security.authentication.ProviderManager.prepareException(ProviderManager.java:249)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:241)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:200)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter$AuthenticationManagerDelegator.authenticate(WebSecurityConfigurerAdapter.java:513)
	at org.springframework.security.oauth2.provider.password.ResourceOwnerPasswordTokenGranter.getOAuth2Authentication(ResourceOwnerPasswordTokenGranter.java:71)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.getAccessToken(AbstractTokenGranter.java:72)
	at org.springframework.security.oauth2.provider.token.AbstractTokenGranter.grant(AbstractTokenGranter.java:67)
	at org.springframework.security.oauth2.provider.CompositeTokenGranter.grant(CompositeTokenGranter.java:38)
	at org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer$4.grant(AuthorizationServerEndpointsConfigurer.java:583)
	at org.springframework.security.oauth2.provider.endpoint.TokenEndpoint.postAccessToken(TokenEndpoint.java:132)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:660)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:117)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:106)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.example.demojwt.Config.CorsFilter.doFilter(CorsFilter.java:31)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)

2019-05-06 13:58:17.746  WARN 15528 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.ClassCastException: class java.lang.String cannot be cast to class org.springframework.security.core.userdetails.UserDetails (java.lang.String is in module java.base of loader 'bootstrap'; org.springframework.security.core.userdetails.UserDetails is in unnamed module of loader 'app')]
